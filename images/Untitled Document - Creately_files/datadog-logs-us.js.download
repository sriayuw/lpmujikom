/*!
 * 
 * datadog-logs-us.js IS DEPRECATED, USE datadog-logs.js WITH { site: 'datadoghq.com' } INIT CONFIGURATION INSTEAD
 * 
 */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}({2:function(e,t,n){"use strict";n.r(t),n.d(t,"datadogLogs",(function(){return Pt})),n.d(t,"makeLogsPublicApi",(function(){return Dt}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var a=function(e){return Array.isArray(e)},s=function(e){return!Array.isArray(e)&&"object"==typeof e&&null!==e};function u(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];null!=i&&(e=f(e,i,c()))}return e}function c(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}function f(e,t,n){if(void 0===t)return e;if(!s(t)&&!a(t))return t;if(!n.hasAlreadyBeenSeen(t)){if(s(t)&&(void 0===e||s(e))){var r=e||{};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=f(r[o],t[o],n));return r}if(a(t)&&(void 0===e||a(e))){(r=e||[]).length=Math.max(r.length,t.length);for(var i=0;i<t.length;i+=1)r[i]=f(r[i],t[i],n);return r}return t}}var l,d={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source"};function p(e){var t=h(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",o=e.line?":"+e.line:"",i=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+o+i})),t}function h(e){return(e.name||"Error")+": "+e.message}function v(){return performance.now()}function g(e,t){return t-e}function m(e){return Math.floor(y()+e)}function y(){return void 0===l&&(l=performance.timing.navigationStart),l}var b=/[^\u0000-\u007F]/,w=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()+"&m_time="+m(v())}(this.endpointUrl):this.endpointUrl;if(navigator.sendBeacon&&t<this.bytesLimit&&navigator.sendBeacon(n,e))return;var r=new XMLHttpRequest;r.open("POST",n,!0),r.send(e)},e}();var E=function(){function e(e,t,n,r,o,i){void 0===i&&(i=re),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=o,this.beforeUnloadCallback=i,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){var e=i(this.pushOnlyBuffer,(t=this.upsertBuffer,n=[],Object.keys(t).forEach((function(e){n.push(t[e])})),n));this.request.send(e.join("\n"),this.bufferBytesSize),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}var t,n},e.prototype.sizeInBytes=function(e){return b.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,o=n.messageBytesSize;o>=this.maxMessageSize?console.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=oe(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout((function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(ce(window,"beforeunload",this.beforeUnloadCallback),ce(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush()})),ce(window,"beforeunload",(function(){return e.flush()})))},e}(),S=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function x(e){if(O){if(T===e)return;N()}var t=A(e);throw O=t,T=e,setTimeout((function(){T===e&&N()}),t.incomplete?2e3:0),e}var T,O,k,M,R,C=[];function L(e){!function(){if(M)return;k=window.onerror,window.onerror=$(_),M=!0}(),function(){if(R)return;null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=$(B),R=!0}(),C.push(e)}function I(e,t,n){var r;if(C.forEach((function(o){try{o(e,t,n)}catch(e){r=e}})),r)throw r}function _(e,t,n,r,o){if(O)U(O,t,n),N();else if(o)I(A(o),!0,o);else{var i,a={url:t,column:r,line:n},s=e;if("[object String]"==={}.toString.call(e)){var u=S.exec(s);u&&(i=u[1],s=u[2])}I({name:i,message:"string"==typeof s?s:void 0,stack:[a]},!0,e)}return!!k&&k.apply(this,arguments)}function B(e){var t=e.reason||"Empty reason";I(A(t),!0,t)}function N(){var e=O,t=T;O=void 0,T=void 0,I(e,!1,t)}var j="?";function A(e,t){var n,r=void 0===t?0:+t;try{if(n=function(e){var t=H(e,"stacktrace");if(!t)return;for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=t.split("\n"),a=[],s=0;s<i.length;s+=2){var u=void 0;r.exec(i[s])?(n=r.exec(i[s]),u={args:[],column:void 0,func:n[3],line:+n[1],url:n[2]}):o.exec(i[s])&&(n=o.exec(i[s]),u={args:n[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),u&&(!u.func&&u.line&&(u.func=j),u.context=[i[s+1]],a.push(u))}if(!a.length)return;return{stack:a,message:H(e,"message"),name:H(e,"name")}}(e))return n}catch(e){if(D)throw e}try{if(n=function(e){var t=H(e,"stack");if(!t)return;for(var n,r,o,i,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=t.split("\n"),d=[],p=0,h=l.length;p<h;p+=1){if(a.exec(l[p])){var v=(o=a.exec(l[p]))[2]&&0===o[2].indexOf("native");n=o[2]&&0===o[2].indexOf("eval"),r=f.exec(o[2]),n&&r&&(o[2]=r[1],o[3]=r[2],o[4]=r[3]),i={args:v?[o[2]]:[],column:o[4]?+o[4]:void 0,func:o[1]||j,line:o[3]?+o[3]:void 0,url:v?void 0:o[2]}}else if(u.exec(l[p]))o=u.exec(l[p]),i={args:[],column:o[4]?+o[4]:void 0,func:o[1]||j,line:+o[3],url:o[2]};else{if(!s.exec(l[p]))continue;o=s.exec(l[p]),n=o[3]&&o[3].indexOf(" > eval")>-1,r=c.exec(o[3]),n&&r?(o[3]=r[1],o[4]=r[2],o[5]=void 0):0!==p||o[5]||void 0===e.columnNumber||(d[0].column=e.columnNumber+1),i={args:o[2]?o[2].split(","):[],column:o[5]?+o[5]:void 0,func:o[1]||j,line:o[4]?+o[4]:void 0,url:o[3]}}!i.func&&i.line&&(i.func=j),d.push(i)}if(!d.length)return;return{stack:d,message:H(e,"message"),name:H(e,"name")}}(e))return n}catch(e){if(D)throw e}try{if(n=function(e){var t=H(e,"message");if(!t)return;var n=t.split("\n");if(n.length<4)return;var r,o=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,a=/^\s*Line (\d+) of function script\s*$/i,s=[],u=window&&window.document&&window.document.getElementsByTagName("script"),c=[];for(var f in u)l=u,d=f,Object.prototype.hasOwnProperty.call(l,d)&&!u[f].src&&c.push(u[f]);var l,d;for(var p=2;p<n.length;p+=2){var h=void 0;if(o.exec(n[p]))r=o.exec(n[p]),h={args:[],column:void 0,func:r[3],line:+r[1],url:r[2]};else if(i.exec(n[p]))r=i.exec(n[p]),h={args:[],column:void 0,func:r[4],line:+r[1],url:r[3]};else if(a.exec(n[p])){r=a.exec(n[p]);var v=window.location.href.replace(/#.*$/,"");h={url:v,args:[],column:void 0,func:"",line:+r[1]}}h&&(h.func||(h.func=j),h.context=[n[p+1]],s.push(h))}if(!s.length)return;return{stack:s,message:n[0],name:H(e,"name")}}(e))return n}catch(e){if(D)throw e}try{if(n=z(e,r+1))return n}catch(e){if(D)throw e}return{message:H(e,"message"),name:H(e,"name"),stack:[]}}var P,D=!1;function U(e,t,n){var r={url:t,line:n?+n:void 0};if(r.url&&r.line){e.incomplete=!1;var o=e.stack;if(o.length>0&&o[0].url===r.url){if(o[0].line===r.line)return!1;if(!o[0].line&&o[0].func===r.func)return o[0].line=r.line,o[0].context=r.context,!1}return o.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function z(e,t){for(var n,r,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,i=[],a={},s=!1,u=z.caller;u&&!s;u=u.caller)u!==A&&u!==x&&(r={args:[],column:void 0,func:j,line:void 0,url:void 0},n=o.exec(u.toString()),u.name?r.func=u.name:n&&(r.func=n[1]),void 0===r.func&&(r.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),a[u.toString()]?s=!0:a[u.toString()]=!0,i.push(r));t&&i.splice(0,t);var c={stack:i,message:H(e,"message"),name:H(e,"name")};return U(c,H(e,"sourceURL")||H(e,"fileName"),H(e,"line")||H(e,"lineNumber")),c}function H(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}!function(e){e.info="info",e.error="error"}(P||(P={}));var G,F={maxMessagesPerPage:0,sentMessageCount:0};function q(e){if(e.internalMonitoringEndpoint){var t=function(e){var t,n=r(e.internalMonitoringEndpoint);void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpoint));function r(t){return new E(new w(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return{add:function(e){var r=function(e){return u({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==G?G():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}(F,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0}),n=setInterval($((function(){var e,t,o=Date.now()-m(v());if(Math.abs(o)>Q){clearInterval(n);var i=m(0);e="clock drift detected",t={debug:{navigationStartUTC:new Date(i).toUTCString(),timeSpent:Date.now()-i,drift:o}},function(e){F.debugMode&&console.log("[MONITORING MESSAGE]",e)}(e),J(r(r({message:e},t),{status:P.info}))}})),ee)}var n;return{setExternalContextProvider:function(e){G=e}}}function K(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=F.batch?$(r):r;return n.apply(this,e)}}function $(e){return function(){return X(e,this,arguments)}}function X(e,t,n){try{return e.apply(t,n)}catch(e){W(e);try{!function(e){J(r(r({},function(e){if(e instanceof Error){var t=A(e);return{error:{kind:t.name,stack:p(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+oe(e)}}(e)),{status:P.error}))}(e)}catch(e){W(e)}}}function J(e){F.batch&&F.sentMessageCount<F.maxMessagesPerPage&&(F.sentMessageCount+=1,F.batch.add(e))}function V(e){F.debugMode=e}function W(e){F.debugMode&&console.warn("[INTERNAL ERROR]",e)}var Z,Y,Q=1e3,ee=60*Q,te=60*ee;function ne(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):(1e7+"-1000-4000-8000-100000000000").replace(/[018]/g,ne)}function re(){}function oe(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];ie(e)&&(r=[!0,e.toJSON],delete e.toJSON);var o,i,a=[!1,void 0];"object"==typeof e&&ie(o=Object.getPrototypeOf(e))&&(a=[!0,o.toJSON],delete o.toJSON);try{i=JSON.stringify(e,t,n)}catch(e){i="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),a[0]&&(o.toJSON=a[1])}return i}function ie(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function ae(e,t){return-1!==e.indexOf(t)}function se(e){return"number"==typeof e}function ue(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}function ce(e,t,n,r){return fe(e,[t],n,r)}function fe(e,t,n,r){var o=void 0===r?{}:r,i=o.once,a=o.capture,s=o.passive,u=$(i?function(e){f(),n(e)}:n),c=s?{capture:a,passive:s}:a;t.forEach((function(t){return e.addEventListener(t,u,c)}));var f=function(){return t.forEach((function(t){return e.removeEventListener(t,u,c)}))};return{stop:f}}!function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(Z||(Z={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(Y||(Y={}));var le,de,pe=Q;function he(e,t,n,r){var o=new Date;o.setTime(o.getTime()+n);var i="expires="+o.toUTCString(),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+i+";path=/;samesite="+a+s+u}function ve(e){return function(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}(document.cookie,e)}function ge(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+ne();return he(t,"test",Q,e),"test"===ve(t)}catch(e){return console.error(e),!1}}function me(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){console.error(t,e)}}}var ye={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay",trace:"trace"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0,trace:"public-trace"}},be={EU:"eu",US:"us"},we=((de={})[be.EU]="datadoghq.eu",de[be.US]="datadoghq.com",de),Ee=[we[be.US],we[be.EU]];function Se(e,t){var n={applicationId:e.applicationId,buildMode:t.buildMode,clientToken:e.clientToken,env:e.env,proxyHost:e.proxyHost,sdkVersion:t.sdkVersion,service:e.service,site:e.site||we[e.datacenter||t.datacenter],version:e.version},o=function(e,t){return!t.useAlternateIntakeDomains&&ae(Ee,e)?"classic":"alternate"}(n.site,e),i=function(e,t,n){if(t.proxyHost)return["https://"+t.proxyHost+"/v1/input/"];var r=[t.site];t.buildMode===Oe.STAGING&&n&&r.push(we[be.US]);for(var o=[],i=Object.keys(ye[e]),a=0,s=r;a<s.length;a++)for(var u=s[a],c=0,f=i;c<f.length;c++){var l=f[c];o.push("https://"+xe(e,l,u)+"/v1/input/")}return o}(o,n,void 0!==e.replica),a={isIntakeUrl:function(e){return i.some((function(t){return 0===e.indexOf(t)}))},logsEndpoint:Te(o,"logs",n),rumEndpoint:Te(o,"rum",n),sessionReplayEndpoint:Te(o,"sessionReplay",n),traceEndpoint:Te(o,"trace",n)};if(e.internalMonitoringApiKey&&(a.internalMonitoringEndpoint=Te(o,"logs",n,"browser-agent-internal-monitoring")),n.buildMode===Oe.E2E_TEST&&(a.internalMonitoringEndpoint="<<< E2E INTERNAL MONITORING ENDPOINT >>>",a.logsEndpoint="<<< E2E LOGS ENDPOINT >>>",a.rumEndpoint="<<< E2E RUM ENDPOINT >>>",a.sessionReplayEndpoint="<<< E2E SESSION REPLAY ENDPOINT >>>"),n.buildMode===Oe.STAGING&&void 0!==e.replica){var s=r(r({},n),{applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,site:we[be.US]});a.replica={applicationId:e.replica.applicationId,internalMonitoringEndpoint:Te(o,"logs",s,"browser-agent-internal-monitoring"),logsEndpoint:Te(o,"logs",s),rumEndpoint:Te(o,"rum",s)}}return a}function xe(e,t,n){return"classic"===e&&function(e,t){var n=ye.classic[e];return n&&n+"-http-intake.logs."+t}(t,n)||function(e,t){var n=ye.alternate[e],r=t.split("."),o=r.pop(),i=r.join("-")+"."+o;return n+".browser-intake-"+i}(t,n)}function Te(e,t,n,r){var o="sdk_version:"+n.sdkVersion+(n.env?",env:"+n.env:"")+(n.service?",service:"+n.service:"")+(n.version?",version:"+n.version:""),i=xe(e,t,n.site),a=n.proxyHost?n.proxyHost:i,s=n.proxyHost?"ddhost="+i+"&":"",u=""+(n.applicationId?"_dd.application_id="+n.applicationId+"&":"")+s+"ddsource="+(r||"browser")+"&ddtags="+encodeURIComponent(o);return"https://"+a+"/v1/input/"+n.clientToken+"?"+u}var Oe,ke={allowedTracingOrigins:[],maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,requestErrorResponseLengthLimit:32768,flushTimeout:30*Q,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function Me(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===le){for(var e="dd_site_test_"+ne(),t=window.location.hostname.split("."),n=t.pop();t.length&&!ve(e);)n=t.pop()+"."+n,he(e,"test",Q,{domain:n});le=n}return le}()),t}function Re(e,t){var n=function(e,t){var n=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],o=r(r({beforeSend:e.beforeSend&&me(e.beforeSend,"beforeSend threw an error:"),cookieOptions:Me(e),isEnabled:function(e){return ae(n,e)},service:e.service},Se(e,t)),ke);return"allowedTracingOrigins"in e&&(o.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(o.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(o.resourceSampleRate=e.resourceSampleRate),"trackInteractions"in e&&(o.trackInteractions=!!e.trackInteractions),o}(e,t);return{configuration:n,internalMonitoring:q(n)}}function Ce(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}!function(e){e.RELEASE="release",e.STAGING="staging",e.E2E_TEST="e2e-test"}(Oe||(Oe={}));var Le,Ie,_e,Be,Ne=1e4,je=function(){function e(e){void 0===e&&(e=Ne),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(e){this.buffer.forEach((function(t){return e(t)})),this.buffer.length=0},e}(),Ae={debug:"debug",error:"error",info:"info",warn:"warn"},Pe=((Le={})[Ae.debug]=0,Le[Ae.info]=1,Le[Ae.warn]=2,Le[Ae.error]=3,Le),De=(Object.keys(Ae),{console:"console",http:"http",silent:"silent"}),Ue=function(){function e(e,t,n,r){void 0===t&&(t=De.http),void 0===n&&(n=Ae.debug),void 0===r&&(r={}),this.sendLog=e,this.handlerType=t,this.level=n,this.contextManager=Ce(),this.contextManager.set(r)}return e.prototype.log=function(e,t,n){if(void 0===n&&(n=Ae.info),Pe[n]>=Pe[this.level])switch(this.handlerType){case De.http:this.sendLog(r({message:e,status:n},u(this.contextManager.get(),t)));break;case De.console:console.log(n+": "+e,u(this.contextManager.get(),t));break;case De.silent:}},e.prototype.debug=function(e,t){this.log(e,t,Ae.debug)},e.prototype.info=function(e,t){this.log(e,t,Ae.info)},e.prototype.warn=function(e,t){this.log(e,t,Ae.warn)},e.prototype.error=function(e,t){var n={error:{origin:d.LOGGER}};this.log(e,u(n,t),Ae.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.setLevel=function(e){this.level=e},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([K],e.prototype,"log",null),e}();function ze(e){return He(e,ue(window.location)).href}function He(e,t){if(function(){if(void 0!==Ie)return Ie;try{var e=new URL("http://test/path");return Ie="http://test/path"===e.href}catch(e){Ie=!1}return Ie}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,r=n.createElement("a");if(void 0!==t){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(r)}return r.href=e,r}var Ge,Fe=[],qe=[];function Ke(){return _e||(!function(){if(!window.fetch)return;Be=window.fetch,window.fetch=function(e,t){var n,r=X($e,null,[e,t]);return r?X(Xe,null,[n=Be.call(this,r.input,r.init),r]):n=Be.call(this,e,t),n}}(),_e={beforeSend:function(e){Fe.push(e)},onRequestComplete:function(e){qe.push(e)}}),_e}function $e(e,t){var n=t&&t.method||"object"==typeof e&&e.method||"GET",r=ze("object"==typeof e&&e.url||e),o={init:t,input:e,method:n,startTime:v(),url:r};return Fe.forEach((function(e){return e(o)})),o}function Xe(e,t){var n=this,r=function(e){return r=n,i=void 0,s=function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return t.duration=g(t.startTime,v()),"stack"in e||e instanceof Error?(t.status=0,t.response=p(A(e)),qe.forEach((function(e){return e(t)})),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];n=void 0,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return n=o.sent(),[3,5];case 4:return r=o.sent(),n="Unable to retrieve response: "+r,[3,5];case 5:t.response=n,t.responseType=e.type,t.status=e.status,qe.forEach((function(e){return e(t)})),o.label=6;case 6:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{u(s.next(e))}catch(e){t(e)}}function o(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){t.done?e(t.value):new a((function(e){e(t.value)})).then(n,o)}u((s=s.apply(r,i||[])).next())}));var r,i,a,s};e.then($(r),$(r))}var Je,Ve,We=[],Ze=[];function Ye(){return Ge||(Je=XMLHttpRequest.prototype.open,Ve=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.open=function(e,t){var n=this;return X((function(){n._datadog_xhr={method:e,startTime:-1,url:ze(t)}})),Je.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){var e=this;return X((function(){if(e._datadog_xhr){var t=e._datadog_xhr;t.startTime=v();var n=e.onreadystatechange;e.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&X(o),n&&n.apply(this,arguments)};var r=!1,o=function(){r||(r=!0,t.duration=g(t.startTime,v()),t.response=e.response,t.status=e.status,Ze.forEach((function(e){return e(t)})))};e.addEventListener("loadend",$(o)),We.forEach((function(n){return n(t,e)}))}})),Ve.apply(this,arguments)},Ge={beforeSend:function(e){We.push(e)},onRequestComplete:function(e){Ze.push(e)}}),Ge}var Qe,et,tt=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){this.observers.push(e)},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function nt(e){if(!Qe){var t=new tt;!function(e,t){function n(n,r){e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||t.notify({message:at(n)+" error "+r.method+" "+r.url,resource:{method:r.method,statusCode:r.status,url:r.url},source:d.NETWORK,stack:it(r.response,e)||"Failed to load",startTime:r.startTime})}Ye().onRequestComplete((function(e){return n(Y.XHR,e)})),Ke().onRequestComplete((function(e){return n(Y.FETCH,e)}))}(e,t),function(e,t){et=console.error,console.error=$((function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];et.apply(console,n),t.notify(r(r({},rt(e,n)),{source:d.CONSOLE,startTime:v()}))}))}(e,t),function(e){L((function(t,n,r){var o=function(e,t,n){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:p(e),type:e.name}:{message:n+" "+oe(t),stack:"No stack, consider using an instance of Error",type:e&&e.name}}(t,r,"Uncaught"),i=o.stack,a=o.message,s=o.type;e.notify({message:a,stack:i,type:s,source:d.SOURCE,startTime:v()})}))}(t),Qe=function(e,t){var n=0,r=new tt;return t.subscribe((function(t){n<e.maxErrorsByMinute?(n+=1,r.notify(t)):n===e.maxErrorsByMinute&&(n+=1,r.notify({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:d.AGENT,startTime:v()}))})),setInterval((function(){return n=0}),ee),r}(e,t)}return Qe}function rt(e,t){if(e.isEnabled("console-stack")){var n=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}(t,(function(e){return e instanceof Error}));return{message:i(["console error:"],t).map((function(e){return ot(h,e)})).join(" "),stack:n?p(A(n)):void 0}}return{message:i(["console error:"],t).map((function(e){return ot(p,e)})).join(" ")}}function ot(e,t){return"string"==typeof t?t:t instanceof Error?e(A(t)):oe(t,void 0,2)}function it(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function at(e){return Y.XHR===e?"XHR":"Fetch"}function st(e,t,n){var r=f(void 0,e,c()),o=n(r);return t.forEach((function(t){var n=ut(e,t),o=ut(r,t);"string"==typeof n&&"string"==typeof o&&function(e,t,n){for(var r=e,o=t.split("."),i=0;i<o.length;i+=1){var a=o[i];if(!ct(r,a))return;i!==o.length-1?r=r[a]:r[a]=n}}(e,t,o)})),o}function ut(e,t){for(var n=e,r=0,o=t.split(".");r<o.length;r++){var i=o[r];if(!ct(n,i))return;n=n[i]}return n}function ct(e,t){return"object"==typeof e&&null!==e&&t in e}var ft="_dd",lt="_dd_r",dt="_dd_l",pt="rum",ht="logs";var vt="_dd_s",gt=15*ee,mt=4*te,yt=ee;function bt(e,t,n){var r=function(e,t){var n,r,o=!1,i=function(){o=!0,clearTimeout(n),n=setTimeout((function(){o=!1}),pe)};return{get:function(){return o?r:(r=ve(e),i(),r)},set:function(n,o){he(e,n,o,t),r=n,i()}}}(vt,e);!function(e){var t=e.get(),n=ve(ft),r=ve(lt),o=ve(dt);if(!t){var i={};n&&(i.id=n),o&&/^[01]$/.test(o)&&(i[ht]=o),r&&/^[012]$/.test(r)&&(i[pt]=r),xt(i,e)}}(r);var o=new tt,i=St(r).id,a=function(e,t,n){var r,o,i=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(i?e.apply(void 0,n):r=n,s=!0,o=setTimeout((function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0}),t))},cancel:function(){clearTimeout(o),s=!1,r=void 0}}}($((function(){var e=St(r),a=n(e[t]),s=a.trackingType,u=a.isTracked;e[t]=s,u&&!e.id&&(e.id=ne(),e.created=String(Date.now())),xt(e,r),u&&i!==e.id&&(i=e.id,o.notify())})),pe).throttled;return a(),function(e){var t=fe(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;Ot.push(t)}(a),function(e){var t=$((function(){"visible"===document.visibilityState&&e()})),n=ce(document,"visibilitychange",t).stop;Ot.push(n);var r=setInterval(t,yt);Ot.push((function(){clearInterval(r)}))}((function(){xt(St(r),r)})),{getId:function(){return St(r).id},getTrackingType:function(){return St(r)[t]},renewObservable:o}}var wt=/^([a-z]+)=([a-z0-9-]+)$/,Et="&";function St(e){var t=function(e){var t=e.get(),n={};(function(e){return void 0!==e&&(-1!==e.indexOf(Et)||wt.test(e))})(t)&&t.split(Et).forEach((function(e){var t=wt.exec(e);if(null!==t){var r=t[1],o=t[2];n[r]=o}}));return n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<mt)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(Tt(e),{})}function xt(e,t){if(n=e,0!==Object.keys(n).length){var n;e.expire=String(Date.now()+gt);var r=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}(e).map((function(e){return e[0]+"="+e[1]})).join(Et);t.set(r,gt)}else Tt(t)}function Tt(e){e.set("",0)}var Ot=[];var kt,Mt="logs";function Rt(e,t){if(!t){var n=Ct(e)===kt.TRACKED;return{getId:function(){},isTracked:function(){return n}}}var r=bt(e.cookieOptions,Mt,(function(t){return function(e,t){var n=function(e){return e===kt.NOT_TRACKED||e===kt.TRACKED}(t)?t:Ct(e);return{trackingType:n,isTracked:n===kt.TRACKED}}(e,t)}));return{getId:r.getId,isTracked:function(){return r.getTrackingType()===kt.TRACKED}}}function Ct(e){return 0!==(t=e.sampleRate)&&100*Math.random()<=t?kt.TRACKED:kt.NOT_TRACKED;var t}!function(e){e.NOT_TRACKED="0",e.TRACKED="1"}(kt||(kt={}));var Lt={buildMode:"release",datacenter:"us",sdkVersion:"2.6.2"},It=["view.url","view.referrer","message","error.stack","http.url"];function _t(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}var Bt,Nt,jt,At,Pt=Dt((function(e,t,n){var r=Re(e,Lt),o=r.configuration,i=r.internalMonitoring;return function(e,t,n,r,o,i){n.setExternalContextProvider((function(){return u({session_id:r.getId()},i(),_t())}));var a=function(e,t){return function(n,r){if(e.isTracked()){var o=u({service:t.service,session_id:e.getId()},r,_t(),n);if(t.beforeSend)if(!1===st(o,It,t.beforeSend))return;return o}}}(r,e),s=function(e){var t,n=r(e.logsEndpoint);void 0!==e.replica&&(t=r(e.replica.logsEndpoint));function r(t){return new E(new w(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return{add:function(e){n.add(e),t&&t.add(e)}}}(e);return t.subscribe((function(e){o.error(e.message,u({date:m(e.startTime),error:{kind:e.type,origin:e.source,stack:e.stack}},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0,_t(e.startTime)))})),function(e,t){var n=a(e,t);n&&s.add(n)}}(o,!1!==e.forwardErrorsToLogs?nt(o):new tt,i,Rt(o,ge(o.cookieOptions)),t,n)}));function Dt(e){var t,n,o=!1,i=Ce(),a={},s=new je,c=function(e,t){s.add([e,t])},f=new Ue(l);return t={logger:f,init:$((function(t){(function(e){return o?(e.silentMultipleInit||console.error("DD_LOGS is already initialized."),!1):e&&(e.publicApiKey||e.clientToken)?!!(void 0===e.sampleRate||(t=e.sampleRate,se(t)&&t>=0&&t<=100))||(console.error("Sample Rate should be a number between 0 and 100"),!1):(console.error("Client Token is not configured, we will not send any data."),!1);var t})(t)&&(t.publicApiKey&&(t.clientToken=t.publicApiKey,console.warn("Public API Key is deprecated. Please use Client Token instead.")),c=e(t,f,i.get),s.drain((function(e){var t=e[0],n=e[1];return c(t,n)})),o=!0)})),getLoggerGlobalContext:$(i.get),setLoggerGlobalContext:$(i.set),addLoggerGlobalContext:$(i.add),removeLoggerGlobalContext:$(i.remove),createLogger:$((function(e,t){return void 0===t&&(t={}),a[e]=new Ue(l,t.handler,t.level,r(r({},t.context),{logger:{name:e}})),a[e]})),getLogger:$((function(e){return a[e]}))},n=r(r({},t),{onReady:function(e){e()}}),Object.defineProperty(n,"_setDebug",{get:function(){return V},enumerable:!1}),n;function l(e){c(e,u({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},i.get()))}}Bt=function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}(),jt=Pt,At=Bt[Nt="DD_LOGS"],Bt[Nt]=jt,At&&At.q&&At.q.forEach((function(e){return me(e,"onReady callback threw an error:")()}))}});