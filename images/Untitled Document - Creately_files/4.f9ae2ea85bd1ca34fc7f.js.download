(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/amk":function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));e("qonV");var l=function(){function n(n){this.pluginReg=n}return Object.defineProperty(n.prototype,"id",{get:function(){return this.manifest._url},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){var n=this.pluginReg.burrowMainIframe(this.manifest._url);this.container.nativeElement.appendChild(n)},n.prototype.ngOnDestroy=function(){var n=this.container.nativeElement.firstChild;this.pluginReg.returnMainIframe(this.manifest._url,n)},n}()},"21Da":function(n,t,e){"use strict";var l=e("LoAr"),a=e("/amk"),i=e("qonV");e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return u}));var r=[[".plugin-iframe-container[_ngcontent-%COMP%]{width:100%;height:100%}.plugin-iframe-container[_ngcontent-%COMP%]     iframe{width:100%;height:100%}"]],o=l.Fb({encapsulation:0,styles:r,data:{}});function u(n){return l.dc(2,[l.Zb(402653184,1,{container:0}),(n()(),l.Hb(1,0,[[1,0],["container",1]],null,0,"div",[["class","plugin-iframe-container"]],null,null,null,null,null))],null,null)}l.Db("plugin-panel",a.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"plugin-panel",[],null,null,null,u,o)),l.Gb(1,4374528,null,0,a.a,[i.a],null,null)],null,null)}),{manifest:"manifest"},{},[])},"62De":function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var l=e("LoAr"),a=e("LiEJ"),i=e("5xGT"),r=function(){function n(){this.isTemplate=!0,this.onButtonClick=new l.q,this.loading=new a.a(!1)}return n.prototype.tileClicked=function(){this.isTemplate||this.loading.next(!0)},n.prototype.buttonClicked=function(n){this.onButtonClick.next(n),this.loading.next(!1);var t=this.trackingInfo.type?this.trackingInfo.type.split("#")[1]:this.trackingInfo.type;i.lb.track(this.trackingInfo.location+".item.click",{value1Type:"templateId",value1:this.trackingInfo.id,value2Type:"name",value2:this.trackingInfo.name,value3Type:"type",value3:t})},n}()},"8EYK":function(n,t,e){"use strict";var l=[{id:"g-popular",name:"TEMPLATE_PANEL.CAT_POPULAR",categories:[{id:"g-popular-default"}]},{id:"g-brainstorm",name:"TEMPLATE_PANEL.CAT_BRAINSTORM",categories:[{id:"g-brainstorm-default"}]},{id:"g-strategy",name:"TEMPLATE_PANEL.CAT_STRATEGY",categories:[{id:"g-strategy-default"}]},{id:"g-projects",name:"TEMPLATE_PANEL.CAT_PROJECTS",categories:[{id:"g-projects-default"}]},{id:"g-software",name:"TEMPLATE_PANEL.CAT_SOFTWARE",categories:[{id:"g-software-default"}]},{id:"g-it",name:"TEMPLATE_PANEL.CAT_NETWORK",categories:[{id:"g-it-network-default"}]},{id:"g-process",name:"TEMPLATE_PANEL.CAT_PROCESS",categories:[{id:"g-process-default"}]},{id:"g-meetings",name:"TEMPLATE_PANEL.CAT_MEETINGS",categories:[{id:"g-meetings-default"}]},{id:"g-document",name:"TEMPLATE_PANEL.CAT_DOCUMENT",categories:[{id:"g-document-default"}]},{id:"g-sales",name:"TEMPLATE_PANEL.CAT_SALES",categories:[{id:"g-sales-default"}]},{id:"g-edu",name:"TEMPLATE_PANEL.CAT_EDU",categories:[{id:"g-edu-default"}]}],a=e("yQxh"),i=[{id:"g4nxEBiLhaI",name:"Flowchart",categories:["g-popular-default"],thumbUrl:"https://neutrino-diagram-svg.s3.amazonaws.com/g4nxEBiLhaI",type:"diagram/def/flowchart.js#Flowchart"},{id:"ddPVp5iSnAW",name:"Mind Map",categories:["g-popular-default"],thumbUrl:"https://neutrino-diagram-svg.s3.amazonaws.com/ddPVp5iSnAW",type:"diagram/def/mindmap.js#MindMap"},{id:"bWR4c0jH0fI",name:"Org Chart",categories:["g-popular-default"],thumbUrl:"https://neutrino-diagram-svg.s3.amazonaws.com/bWR4c0jH0fI",type:"diagram/def/org-chart.js#OrgChart"},{id:"vAnBkdf0iQR",name:"Concept Map",categories:["g-popular-default"],thumbUrl:"https://neutrino-diagram-svg.s3.amazonaws.com/vAnBkdf0iQR",type:"diagram/def/concept-map.js#ConceptMap"},{id:"vyWUec9kb7U",name:"Infographic",categories:["g-popular-default"],thumbUrl:"https://neutrino-diagram-svg.s3.amazonaws.com/vyWUec9kb7U",type:"diagram/def/infographics.js#Infographics"},{id:"QntZ3BLMuEE",name:"UML Class",categories:["g-popular-default"],thumbUrl:"https://neutrino-diagram-svg.s3.amazonaws.com/QntZ3BLMuEE",type:"diagram/def/uml-class.js#UMLClass"},{id:"tN3HFAAsYmP",name:"UML Use Case",categories:["g-popular-default"],thumbUrl:"https://neutrino-diagram-svg.s3.amazonaws.com/tN3HFAAsYmP",type:"diagram/def/usecase.js#UseCase"},{id:"ijS6B7RhEZr",name:"Database",categories:["g-popular-default"],thumbUrl:"https://neutrino-diagram-svg.s3.amazonaws.com/ijS6B7RhEZr",type:"diagram/def/database.js#Database"}];e.d(t,"a",(function(){return r}));var r=function(){function n(){this.groups=l,this.templates=a.a,this._featuredTemplates=i}return Object.defineProperty(n.prototype,"allTemplateGroups",{get:function(){return this.groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"featuredTemplates",{get:function(){return this._featuredTemplates},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allTemplates",{get:function(){return this.templates},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allCategoryLessTemplates",{get:function(){return this.allTemplates.filter((function(n){return n.categories.length<=0}))},enumerable:!0,configurable:!0}),n.prototype.getTemplatesByCategory=function(n){return this.allTemplates.filter((function(t){return t.categories.includes(n)}))},n}()},"8Tlt":function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){}},"8npI":function(n,t,e){"use strict";var l=e("LoAr"),a=e("WT9V"),i=e("62De");e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return s}));var r=[[".spinner[_ngcontent-%COMP%]{text-align:center}.spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:15px;height:15px;margin-left:4px;margin-right:4px;border-radius:100%;display:inline-block;-webkit-animation:1.4s ease-in-out infinite both sk-bouncedelay;animation:1.4s ease-in-out infinite both sk-bouncedelay}.spinner.small[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:5px;height:5px;margin-left:0;margin-right:2px}.spinner[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%]{-webkit-animation-delay:-.32s;animation-delay:-.32s}.spinner[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%]{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes sk-bouncedelay{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}@keyframes sk-bouncedelay{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.template-thumbnail-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;width:195px;height:175px;display:inline-block;position:relative;cursor:pointer;border:1px solid #d3d3e7;box-shadow:0 2px 2px #c3c3de}.template-thumbnail-container[_ngcontent-%COMP%]:hover{color:#ffc648}.template-thumbnail-container[_ngcontent-%COMP%]:hover   .template-thumbnail-overlay[_ngcontent-%COMP%]{display:flex}.template-thumbnail-container.template[_ngcontent-%COMP%]:hover   .template-thumbnail-image[_ngcontent-%COMP%], .template-thumbnail-container.template[_ngcontent-%COMP%]:hover   .template-thumbnail-name[_ngcontent-%COMP%]{-webkit-filter:blur(5px);filter:blur(5px)}.template-thumbnail-container[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{top:0;display:none;background-color:rgba(0,0,0,.5)}.template-thumbnail-container.show-loading[_ngcontent-%COMP%]{pointer-events:none}.template-thumbnail-container.show-loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex}.template-thumbnail-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.5);position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none}.template-thumbnail-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.template-thumbnail-image[_ngcontent-%COMP%]{flex:1;background-size:contain;background-repeat:no-repeat;background-position:center;margin:10px}.template-thumbnail-name[_ngcontent-%COMP%]{height:30px;text-align:center;padding-left:10px;padding-right:10px}.template-thumbnail-overlay[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:rgba(0,0,0,.5);position:absolute;width:100%;height:100%;padding:10px}.template-thumbnail-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;width:70px}.template-thumbnail-overlay-heading[_ngcontent-%COMP%]{height:44px;color:#fff;text-align:center;line-height:20px;overflow:hidden}"]],o=l.Fb({encapsulation:0,styles:r,data:{}});function u(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,0,"div",[["class","overlay"]],null,null,null,null,null))],null,null)}function c(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,4,"div",[["class","template-thumbnail-overlay fx-center-all"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,1,"div",[["class","template-thumbnail-overlay-heading"]],null,null,null,null,null)),(n()(),l.bc(2,null,[" "," "])),(n()(),l.Hb(3,0,null,null,1,"button",[["class","nu-btn-med secondary"]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.buttonClicked("use")&&l);return l}),null,null)),(n()(),l.bc(-1,null,["Use"]))],null,(function(n,t){n(t,2,0,t.component.name)}))}function s(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,17,"div",[["class","template-thumbnail-container"]],[[2,"show-loading",null],[2,"template",null],[2,"fx-pointer-events-none",null]],[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.tileClicked()&&l);return l}),null,null)),l.Vb(131072,a.b,[l.i]),(n()(),l.wb(16777216,null,null,1,null,u)),l.Gb(3,16384,null,0,a.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(4,0,null,null,8,"div",[["class","template-thumbnail-inner"]],null,null,null,null,null)),(n()(),l.Hb(5,0,null,null,3,"div",[["class","template-thumbnail-image"]],null,null,null,null,null)),l.Yb(512,null,a.y,a.z,[l.o,l.A,l.P]),l.Gb(7,278528,null,0,a.n,[a.y],{ngStyle:[0,"ngStyle"]},null),l.Wb(8,{"background-image":0}),(n()(),l.Hb(9,0,null,null,1,"div",[["class","template-thumbnail-name fx-ellipsis"]],null,null,null,null,null)),(n()(),l.bc(10,null,[" "," "])),(n()(),l.wb(16777216,null,null,1,null,c)),l.Gb(12,16384,null,0,a.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(13,0,null,null,4,"div",[["class","spinner-container fx-cover fx-center-all"]],null,null,null,null,null)),(n()(),l.Hb(14,0,null,null,3,"div",[["class","spinner"],["id","spinner"]],null,null,null,null,null)),(n()(),l.Hb(15,0,null,null,0,"div",[["class","bounce1 white"]],null,null,null,null,null)),(n()(),l.Hb(16,0,null,null,0,"div",[["class","bounce2 white"]],null,null,null,null,null)),(n()(),l.Hb(17,0,null,null,0,"div",[["class","bounce3 white"]],null,null,null,null,null))],(function(n,t){var e=t.component;n(t,3,0,e.isUserPaused);var l=n(t,8,0,"url("+e.thumbImg+")");n(t,7,0,l),n(t,12,0,e.isTemplate)}),(function(n,t){var e=t.component;n(t,0,0,l.cc(t,0,0,l.Tb(t,1).transform(e.loading)),e.isTemplate,e.isUserPaused),n(t,10,0,e.name)}))}l.Db("template-thumbnail",i.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"template-thumbnail",[],null,null,null,s,o)),l.Gb(1,49152,null,0,i.a,[],null,null)],null,null)}),{name:"name",isTemplate:"isTemplate",thumbImg:"thumbImg",trackingInfo:"trackingInfo",isUserPaused:"isUserPaused"},{onButtonClick:"onButtonClick"},[])},"8uPo":function(n,t,e){"use strict";var l=e("h1tj"),a=(e("19Zn"),e("LiEJ")),i=e("6EBr"),r=e("nsO7"),o=e("5xGT"),u=e("AouM"),c=e("pday"),s=e("U3QC"),d=e("g3Dv"),p=e("D57K"),h=function(n){function t(t){var e=n.call(this,t)||this;return e._zoom=1,e}return p.e(t,n),t.prototype.destroy=function(){this.canvas=null,this._eventListeners=null},t.prototype.setupStage=function(){this.snapToPixelEnabled=!0,this.updateCanvasSize()},t.prototype.updateCanvasSize=function(){var n=this.canvas,t=n.width!==n.offsetWidth*window.devicePixelRatio,e=n.height!==n.offsetHeight*window.devicePixelRatio;(t||e)&&(t&&(n.width=n.offsetWidth*window.devicePixelRatio),e&&(n.height=n.offsetHeight*window.devicePixelRatio),this.setCanvasScale(),this.update())},t.prototype.setCanvasScale=function(){this.scaleX=window.devicePixelRatio*this._zoom,this.scaleY=window.devicePixelRatio*this._zoom},t}(l.Stage);e.d(t,"a",(function(){return f}));var f=function(){function n(n){this.rendered=n,this.isPreview=!1,this.canvasIdPrefix="thumb",this.loading=new a.a(!0),this.focusSubject=new a.a(!1),this.subs=[]}return Object.defineProperty(n.prototype,"canvasId",{get:function(){return this.canvasIdPrefix+"-"+this.defId+"-"+this.version},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){var n=this;this.canvas=new h(this.canvasId),this.canvas.setupStage(),this.canvas.preventSelection=!1,this.canvas.enableDOMEvents(!1),this.thumbnail=new l.Shape,this.canvas.addChild(this.thumbnail),this.focusSubject.next(this.focus),this.subs.push(this.focusSubject.pipe(Object(u.a)((function(t){return n.draw(t).pipe(Object(c.a)(0),Object(s.a)({complete:function(){n.loading.next(!1)}}))}))).subscribe())},n.prototype.ngOnChanges=function(n){(n.focus&&!n.focus.firstChange||n.defId&&!n.defId.firstChange)&&this.focusSubject.next(this.focus)},n.prototype.ngOnDestroy=function(){for(this.canvas&&this.canvas.destroy();this.subs.length;)this.subs.pop().unsubscribe()},n.prototype.draw=function(n){var t=this;void 0===n&&(n=!1);var e=this.thumbnail.graphics,l=new o.ab(5,5,70,70),a=this.getStyles();return n&&(a.lineColor=i.a.primarySelectionColor),this.isPreview||(a.lineThickness=1.4*a.lineThickness),e.clear(),e.beginStroke(a.lineColor),e.setStrokeStyle(a.lineThickness),e.beginFill(a.fillColor),this.rendered.renderThumbnail(e,this.defId,this.version,l).pipe(Object(s.a)({complete:function(){e.endFill(),e.endStroke(),t.canvas.update()}}))},n.prototype.getStyles=function(){return this.style||(this.style={}),Object(r.merge)({fillStyle:d.e.Solid,fillColor:i.a.defaultShapeFillColor,fillAlpha:1,lineAlpha:1,lineColor:i.a.defaultShapeThumbnailLineColor,lineThickness:i.a.defaultShapeLineThickness},this.style)},n}()},GUu3:function(n,t,e){"use strict";var l=e("LoAr"),a=e("WT9V"),i=e("uQan"),r=e("xEGh"),o=e("K0+f"),u=e("zZcu"),c=e("jHi0"),s=e("Iy/v"),d=e("LKRB"),p=e("Ssle"),h=(e("5xGT"),e("xnGY"),e("JupZ")),f=e("LiEJ"),b=e("G2Mx"),g=e("U3QC"),m=function(){function n(n,t,e,l){this.state=n,this.router=t,this.elementRef=e,this.modelSubManager=l,this.enteredToViewport=new f.a(!1)}return Object.defineProperty(n.prototype,"isCurrent",{get:function(){return this.state.get("CurrentDiagram")===this.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollCheck",{set:function(n){!this.enteredToViewport.value&&h.is(this.elementRef.nativeElement)&&this.enteredToViewport.next(!0)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.navToSelectedDiagram=function(n){var t=this,e=this.state.get("CurrentDiagram");"start"!==e?e===n?this.state.set("SelectedLeftPanel","shapes"):this.modelSubManager.stop(this.state.get("CurrentDiagram"),!0).pipe(Object(b.a)(1),Object(g.a)((function(){t.router.navigate(["../",n,"edit"])}))).subscribe():this.router.navigate(["../",n,"edit"])},n}(),v=e("24h1"),O=e("981U"),y=e("Yk6z"),C=[[".diagram-info-item[_ngcontent-%COMP%]{padding:15px 20px;display:flex;align-items:center;border:1px solid #d3d3e7;border-radius:4px;background-color:#fff;box-shadow:0 2px 2px #c3c3de;width:396.5px}.diagram-info-item[_ngcontent-%COMP%]:hover{cursor:pointer;border:1px solid #bcbcda;background-color:#f4fcfa}.diagram-info-text-info[_ngcontent-%COMP%]{flex:1}.diagram-info-text-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;flex:1;margin:0}.diagram-info-text-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#7e7e7e}.diagram-info-doc-name[_ngcontent-%COMP%]{display:flex;align-items:center}.diagram-info-icon[_ngcontent-%COMP%]{margin-right:20px}.diagram-info-call[_ngcontent-%COMP%]{margin-left:20px}.diagram-info-user-count[_ngcontent-%COMP%]{display:flex}.diagram-info-count-bubble[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:100%;text-align:center;line-height:25px;color:#fff;position:relative}.diagram-info-notifications[_ngcontent-%COMP%]{margin-right:-5px;margin-left:20px;background-color:#f36c67;z-index:1}.diagram-info-user-count-lbl[_ngcontent-%COMP%]{background-color:#f6f6fa;margin-right:-10px}.diagram-info-user-count[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block}"]],x=l.Fb({encapsulation:0,styles:C,data:{}});function P(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,10,"div",[["placement","bottom"],["tooltip",""]],null,null,null,null,null)),l.Gb(1,81920,null,0,c.a,[l.o],{placement:[0,"placement"]},null),(n()(),l.Hb(2,0,null,null,1,":svg:svg",[["class","nu-icon nu-icon-small grey"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-lock"]],null,null,null,null,null)),(n()(),l.Hb(4,0,null,null,6,"span",[["class","tooltip-content"]],null,null,null,null,null)),(n()(),l.Hb(5,0,null,null,2,"p",[["class","tooltip-header nu-text-bold"],["translate",""]],null,null,null,null,null)),l.Gb(6,8536064,null,0,u.e,[u.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["TOOLTIPS.DOCUMENT_LOCK.DOCUMENT_LOCK_INDICATOR.HEADING"])),(n()(),l.Hb(8,0,null,null,2,"p",[["class","tooltip-body"],["translate",""]],null,null,null,null,null)),l.Gb(9,8536064,null,0,u.e,[u.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["TOOLTIPS.DOCUMENT_LOCK.DOCUMENT_LOCK_INDICATOR.DESCRIPTION"]))],(function(n,t){n(t,1,0,"bottom");n(t,6,0,"");n(t,9,0,"")}),null)}function S(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,17,"div",[["class","diagram-info-item"]],null,[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,1).onClick(e)&&a);"click"===t&&(a=!1!==i.navToSelectedDiagram(i.id)&&a);return a}),null,null)),l.Gb(1,16384,null,0,o.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(2,{value1Type:0,value1:1}),l.Wb(3,{event:0,data:1}),(n()(),l.Hb(4,0,null,null,2,"div",[["class","diagram-info-icon"]],null,null,null,null,null)),(n()(),l.Hb(5,0,null,null,1,":svg:svg",[["class","nu-icon purple"]],null,null,null,null,null)),(n()(),l.Hb(6,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-document"]],null,null,null,null,null)),(n()(),l.Hb(7,0,null,null,8,"div",[["class","diagram-info-text-info fx-ellipsis"]],null,null,null,null,null)),(n()(),l.Hb(8,0,null,null,2,"div",[["class","diagram-info-doc-name fx-margin-bottom-5"]],null,null,null,null,null)),(n()(),l.Hb(9,0,null,null,1,"h2",[["class","fx-ellipsis"]],null,null,null,null,null)),(n()(),l.bc(10,null,["",""])),(n()(),l.Hb(11,0,null,null,2,"span",[["translate",""]],null,null,null,null,null)),l.Gb(12,8536064,null,0,u.e,[u.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["LABELS.LAST_OPENED"])),(n()(),l.Hb(14,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.bc(15,null,[" ",""])),(n()(),l.wb(16777216,null,null,1,null,P)),l.Gb(17,16384,null,0,a.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component,l=n(t,3,0,"left.dashboard.recentDocument.click",n(t,2,0,"diagramId",e.id));n(t,1,0,l);n(t,12,0,""),n(t,17,0,e.isUserPaused)}),(function(n,t){var e=t.component;n(t,10,0,e.name),n(t,15,0," "+e.lastUpdatedMoment)}))}l.Db("diagram-info-item",m,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"diagram-info-item",[],null,null,null,S,x)),l.Yb(4608,null,s.a,s.a,[d.e,p.Database]),l.Gb(2,114688,null,0,m,[v.a,O.m,l.o,y.a],null,null)],(function(n,t){n(t,2,0)}),null)}),{name:"name",folderName:"folderName",lastUpdatedMoment:"lastUpdatedMoment",isUserPaused:"isUserPaused",scrollCheck:"scrollCheck",id:"id"},{},[]);var w=e("fQLH"),I=e("Jzy8"),T=e("R+ki"),_=function(){function n(){this._columnCount=1,this._scroll=new w.a,this.scroll=this._scroll.pipe(Object(T.a)(n.scrollDebounce))}return Object.defineProperty(n.prototype,"columnCount",{get:function(){return this._columnCount},set:function(n){this._columnCount=n},enumerable:!0,configurable:!0}),n.prototype.getDiagramTrackId=function(n,t){return t.id},n.prototype.getLastOpenedMoment=function(n){return new I.h(n.id,n.name,n).lastUpdatedMoment()},n.prototype.onScroll=function(n){this._scroll.next(n)},n.scrollDebounce=400,n}(),E=[[".diagram-info-list-area-container[_ngcontent-%COMP%]   diagram-info-item[_ngcontent-%COMP%]{float:left;box-sizing:border-box;margin-bottom:15px}.diagram-info-list-area-container[_ngcontent-%COMP%]   diagram-info-item[_ngcontent-%COMP%]:nth-child(odd){margin-right:10px}.diagram-info-list-area-container[_ngcontent-%COMP%]   diagram-info-item[_ngcontent-%COMP%]:nth-child(even){margin-left:10px}"]],j=l.Fb({encapsulation:0,styles:E,data:{}});function k(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,3,"diagram-info-item",[],null,null,null,S,x)),l.Yb(4608,null,s.a,s.a,[d.e,p.Database]),l.Gb(2,114688,null,0,m,[v.a,O.m,l.o,y.a],{name:[0,"name"],folderName:[1,"folderName"],lastUpdatedMoment:[2,"lastUpdatedMoment"],isUserPaused:[3,"isUserPaused"],scrollCheck:[4,"scrollCheck"],id:[5,"id"]},null),l.Vb(131072,a.b,[l.i])],(function(n,t){var e=t.component;n(t,2,0,null==t.context.$implicit?null:t.context.$implicit.name,null==t.context.$implicit?null:t.context.$implicit.project,e.getLastOpenedMoment(t.context.$implicit),e.isUserPaused,l.cc(t,2,4,l.Tb(t,3).transform(e.scroll)),null==t.context.$implicit?null:t.context.$implicit.id)}),null)}function M(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,6,"div",[["class","diagram-info-list-area-container diagram-info-list-area-grid"]],null,null,null,null,null)),l.Yb(512,null,a.w,a.x,[l.z,l.A,l.o,l.P]),l.Gb(2,278528,null,0,a.i,[a.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Wb(3,{"diagram-info-list-area-three-columns":0}),(n()(),l.wb(16777216,null,null,2,null,k)),l.Gb(5,278528,null,0,a.j,[l.db,l.Y,l.z],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),l.Vb(131072,a.b,[l.i])],(function(n,t){var e=t.component,a=n(t,3,0,3===e.columnCount);n(t,2,0,"diagram-info-list-area-container diagram-info-list-area-grid",a),n(t,5,0,l.cc(t,5,0,l.Tb(t,6).transform(e.diagramList)),e.getDiagramTrackId)}),null)}l.Db("diagram-info-list-area",_,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"diagram-info-list-area",[],null,null,null,M,j)),l.Gb(1,49152,null,0,_,[],null,null)],null,null)}),{diagramList:"diagramList",isUserPaused:"isUserPaused",columnCount:"columnCount"},{},[]);var D=e("8npI"),A=e("62De"),L=e("7pFi"),R=e("YEP7"),H=e("weoZ"),G=e("hCs3"),U=e("2Lc/"),N=e("QoCR"),F=e("EO1a"),V=e("r8Pd"),Y=e("QoSw"),B=e("i1Vh"),W=e("G4vz"),z=e("8EYK");e.d(t,"a",(function(){return K})),e.d(t,"b",(function(){return tn}));var Q=[[".left-sidebar-panel.collapsing[_ngcontent-%COMP%], .left-sidebar-panel.expanded[_ngcontent-%COMP%], .left-sidebar-panel.shrinking[_ngcontent-%COMP%]{width:880px}.left-sidebar-panel.closed[_ngcontent-%COMP%]{transform:translateX(-215px);width:0}.left-sidebar-panel-padding[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.left-sidebar-panel[_ngcontent-%COMP%]{width:100%;background-color:#f6f6f9;padding-left:25px}.dashboard-panel-inner[_ngcontent-%COMP%]{padding-right:25px}.dashboard-panel[_ngcontent-%COMP%]{height:100vh;border-right:1px solid #d3d3e7;background-image:url(/assets/images/dashboard/dashboard-bg.svg);background-position:top right;background-repeat:no-repeat}.dashboard-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .dashboard-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Questrial,sans-serif}.dashboard-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px;margin-bottom:25px;margin-top:35px}.dashboard-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:15px}.dashboard-section[_ngcontent-%COMP%]{margin-bottom:70px}.dashboard-buttons[_ngcontent-%COMP%]{margin-bottom:25px;display:flex}.dashboard-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:20px}.dashboard-buttons[_ngcontent-%COMP%]   .nu-icon[_ngcontent-%COMP%]{margin-left:-8px}.dashboard-recent-docs-container[_ngcontent-%COMP%]{display:flex}.template-thumbnail-items-container[_ngcontent-%COMP%]{margin-bottom:20px;display:inline-grid;grid-template-columns:auto auto auto;grid-row-gap:10px;grid-column-gap:10px;grid-template-columns:repeat(auto-fit,minmax(195px,195px));width:100%}.dashboard-panel-more-recent[_ngcontent-%COMP%]{margin-right:10px}"]],K=l.Fb({encapsulation:0,styles:Q,data:{}});function J(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"h1",[],null,null,null,null,null)),(n()(),l.bc(1,null,["","!"])),l.Vb(131072,a.b,[l.i])],null,(function(n,t){var e=t.component;n(t,1,0,l.cc(t,1,0,l.Tb(t,2).transform(e.getWelcomeHeader(t.context.ngIf.firstName))))}))}function X(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"loading-bubbles",[["class","fx-margin-top-20"],["color","grey"]],null,null,null,i.b,i.a)),l.Gb(1,49152,null,0,r.a,[],{color:[0,"color"],class:[1,"class"]},null)],(function(n,t){n(t,1,0,"grey","fx-margin-top-20")}),null)}function q(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,5,"div",[["class","fx-text-right"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,4,"a",[["class","dashboard-panel-more-recent primary"],["translate",""]],null,[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,2).onClick(e)&&a);"click"===t&&(a=!1!==i.showDocuments(!0)&&a);return a}),null,null)),l.Gb(2,16384,null,0,o.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(3,{event:0}),l.Gb(4,8536064,null,0,u.e,[u.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["DASHBOARD_PANEL.MORE_RECENT"]))],(function(n,t){var e=n(t,3,0,"left.dashboard.moreDocuments.click");n(t,2,0,e);n(t,4,0,"")}),null)}function Z(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,13,"div",[["class","dashboard-panel-content"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,2,"h2",[["translate",""]],null,null,null,null,null)),l.Gb(2,8536064,null,0,u.e,[u.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["DASHBOARD_PANEL.CONTINUE_YOUR_WORK"])),(n()(),l.wb(16777216,null,null,2,null,X)),l.Gb(5,16384,null,0,a.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,a.b,[l.i]),(n()(),l.Hb(7,0,null,null,3,"div",[["class","dashboard-recent-docs-container"]],null,null,null,null,null)),(n()(),l.Hb(8,0,null,null,2,"diagram-info-list-area",[],null,null,null,M,j)),l.Gb(9,49152,[["diagramArea",4]],0,_,[],{diagramList:[0,"diagramList"],isUserPaused:[1,"isUserPaused"],columnCount:[2,"columnCount"]},null),l.Vb(131072,a.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,q)),l.Gb(12,16384,null,0,a.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,a.b,[l.i])],(function(n,t){var e=t.component;n(t,2,0,""),n(t,5,0,l.cc(t,5,0,l.Tb(t,6).transform(e.showLoadingIndicator))),n(t,9,0,e.diagramList,l.cc(t,9,1,l.Tb(t,10).transform(e.isUserPaused)),e.columns),n(t,12,0,l.cc(t,12,0,l.Tb(t,13).transform(e.recentCount))>8)}),null)}function $(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,3,"template-thumbnail",[],null,[[null,"onButtonClick"]],(function(n,t,e){var l=!0,a=n.component;"onButtonClick"===t&&(l=!1!==a.navigateToTemplate(n.parent.context.$implicit.id,e)&&l);return l}),D.b,D.a)),l.Gb(1,49152,null,0,A.a,[],{name:[0,"name"],thumbImg:[1,"thumbImg"],trackingInfo:[2,"trackingInfo"],isUserPaused:[3,"isUserPaused"]},{onButtonClick:"onButtonClick"}),l.Wb(2,{id:0,name:1,type:2,location:3}),l.Vb(131072,a.b,[l.i])],(function(n,t){var e=t.component,a=t.parent.context.$implicit.name,i=t.parent.context.$implicit.thumbUrl,r=n(t,2,0,t.parent.context.$implicit.id,t.parent.context.$implicit.name,t.parent.context.$implicit.type,"left.dashboard.featuredTemplate");n(t,1,0,a,i,r,l.cc(t,1,3,l.Tb(t,3).transform(e.isUserPaused)))}),null)}function nn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"div",[["class","template-thumbnail"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,$)),l.Gb(2,16384,null,0,a.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.context.$implicit)}),null)}function tn(n){return l.dc(2,[l.Zb(402653184,1,{contentContainer:0}),l.Zb(671088640,2,{diagramArea:0}),(n()(),l.Hb(2,0,[[1,0],["contentContainer",1]],null,34,"div",[["class","dashboard-panel left-sidebar-panel"]],null,null,null,null,null)),l.Yb(512,null,a.w,a.x,[l.z,l.A,l.o,l.P]),l.Gb(4,278528,null,0,a.i,[a.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),l.Hb(5,0,null,null,31,"perfect-scrollbar",[],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],null,null,L.b,L.a)),l.Gb(6,507904,null,0,R.b,[l.H,l.i,l.K],null,null),(n()(),l.Hb(7,0,null,0,29,"div",[["class","dashboard-panel-inner"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,2,null,J)),l.Gb(9,16384,null,0,a.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,a.b,[l.i]),(n()(),l.Hb(11,0,null,null,15,"div",[["class","dashboard-buttons"]],null,null,null,null,null)),(n()(),l.Hb(12,0,null,null,7,"button",[["class","nu-btn-med nu-btn-on-grey fx-no-margin dashboard-panel-header-button"],["translate",""]],[[8,"disabled",0]],[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,13).onClick(e)&&a);"click"===t&&(a=!1!==i.createDiagram()&&a);return a}),null,null)),l.Gb(13,16384,null,0,o.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(14,{event:0}),l.Gb(15,8536064,null,0,u.e,[u.k,l.o,l.i],{translate:[0,"translate"]},null),l.Vb(131072,a.b,[l.i]),(n()(),l.Hb(17,0,null,null,1,":svg:svg",[["class","nu-icon"]],null,null,null,null,null)),(n()(),l.Hb(18,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-plus"]],null,null,null,null,null)),(n()(),l.bc(-1,null,[" FOLDER_PANEL.CREATE_DOCUMENT "])),(n()(),l.Hb(20,0,null,null,6,"button",[["class","nu-btn-med nu-btn-on-grey fx-no-margin dashboard-panel-header-button"],["translate",""]],null,[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,21).onClick(e)&&a);"click"===t&&(a=!1!==i.showDocuments(!1)&&a);return a}),null,null)),l.Gb(21,16384,null,0,o.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(22,{event:0}),l.Gb(23,8536064,null,0,u.e,[u.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.Hb(24,0,null,null,1,":svg:svg",[["class","nu-icon"]],null,null,null,null,null)),(n()(),l.Hb(25,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-documents"]],null,null,null,null,null)),(n()(),l.bc(-1,null,[" DASHBOARD_PANEL.VIEW_ALL_DIAGRAM "])),(n()(),l.wb(16777216,null,null,3,null,Z)),l.Gb(28,16384,null,0,a.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,a.b,[l.i]),l.Vb(131072,a.b,[l.i]),(n()(),l.Hb(31,0,null,null,2,"h2",[["class","fx-margin-top-30"],["translate",""]],null,null,null,null,null)),l.Gb(32,8536064,null,0,u.e,[u.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["DASHBOARD_PANEL.FEATURED_TEMPLATES"])),(n()(),l.Hb(34,0,null,null,2,"div",[["class","template-thumbnail-items-container"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,nn)),l.Gb(36,278528,null,0,a.j,[l.db,l.Y,l.z],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){var e=t.component;n(t,4,0,"dashboard-panel left-sidebar-panel",e.sidebarState),n(t,6,0),n(t,9,0,l.cc(t,9,0,l.Tb(t,10).transform(e.userMdl)));var a=n(t,14,0,"left.dashboard.createDiagram.click");n(t,13,0,a);n(t,15,0,"");var i=n(t,22,0,"left.dashboard.viewAllDiagram.click");n(t,21,0,i);n(t,23,0,""),n(t,28,0,!(0===l.cc(t,28,0,l.Tb(t,29).transform(e.appConnectionStatus)))&&l.cc(t,28,0,l.Tb(t,30).transform(e.recentCount))>0);n(t,32,0,""),n(t,36,0,e.getfeaturedTemplates())}),(function(n,t){var e=t.component;n(t,5,0,l.Tb(t,6).autoPropagation,l.Tb(t,6).scrollIndicators),n(t,12,0,l.cc(t,12,0,l.Tb(t,16).transform(e.isUserPaused)))}))}l.Db("dashboard-panel",H.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"dashboard-panel",[],null,null,null,tn,K)),l.Gb(1,245760,null,0,H.a,[G.a,U.a,N.a,F.a,O.m,v.a,y.a,V.b,Y.a,l.i,u.k,B.a,W.a,z.a],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[])},IOVY:function(n,t,e){"use strict";e.d(t,"a",(function(){return C}));var l=e("D57K"),a=e("PGgW"),i=e("s9Xn"),r=e("nsO7"),o=e("sKtG"),u=e("IGWl"),c=e("aSzn"),s=e("g3Dv"),d=e("AouM"),p=e("Jg5f"),h=e("W/Ou"),f=e("pday"),b=e("lqvn"),g=e("z5yO"),m=e("3HBG"),v=e("pN2L"),O=e("iJR/"),y=e("flPR"),C=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.toolbarGap=10,t}return l.e(t,n),Object.defineProperty(t.prototype,"toolbar",{get:function(){return this.toolbarManager.get("shape-text-toolbar")},enumerable:!0,configurable:!0}),t.prototype.listenToChanges=function(){var n=this;return this.duringTextEdit({action:"quickhide"},{action:"quickshow"}).pipe(Object(d.a)((function(t){return n.isShowAction(t.action)?n.state.changes("TextEditorState").pipe(Object(p.a)((function(n){return n.selection&&n.selection.width?{action:"quickshow"}:{action:"quickhide"}}))):Object(v.a)(t)})),Object(d.a)((function(t){return n.isShowAction(t.action)?n.duringPan({action:"quickshow"},{action:"quickhide"}).pipe(Object(h.a)(t)):Object(v.a)(t)})),Object(f.a)(1),Object(b.a)())},t.prototype.positionToolbar=function(){var n=this.state.get("TextEditorState");if(n.selection&&n.selection.width){var t=this.state.get("DiagramZoomLevel"),e=this.state.get("DiagramPan"),l=t/n.zoom,a=e.x-n.pan.x*l,i=e.y-n.pan.y*l,r=n.editorBounds.x*l+a+(n.selection.x+n.selection.width/2)*t,o=n.editorBounds.y*l+i+(n.selection.y-this.toolbarGap)*l;this.toolbar.position({x:r,y:o},"bottomcenter")}return Object(v.a)({})},t.prototype.getToolbarItems=function(){var n=this,t=this.state.get("Selected");return t.length>0?this.getTextToolbarItems(t[0]).pipe(Object(d.a)((function(t){return n.state.changes("TextEditorState").pipe(Object(p.a)((function(n){return n.styles})),Object(p.a)((function(e){return t.map((function(l){return l.data&&(l.data.value=void 0===e[l.data.style]?null:e[l.data.style],n.handleListData(l,e[l.data.style]),n.handleHyperlinkButtons(t,e)),Object(r.cloneDeep)(l)}))})))}))):Object(v.a)([])},t.prototype.handleHyperlinkButtons=function(n,t){var e;return(e="string"==typeof t.link||Object(r.isEqual)({},t.link)?n.findIndex((function(n){return"openHyperlinkEditor"===n.featureId})):n.findIndex((function(n){return"unlinkHyperlink"===n.featureId})))>-1&&n.splice(e,1),n},t.prototype.handleListData=function(n,t){if(n.data.data){var e=n.data.data;if(e.forEach((function(n){return n.selected=!1})),!(void 0===t||"object"==typeof t&&Object(r.isEmpty)(t))){var l=e.find((function(n){return""+n.value==""+t}));if(l)l.selected=!0;else{var a=e.find((function(n){return n.custom}));a?(a.id=t,a.label=t,a.buttonLabel=t,a.value=t,a.selected=!0):e.push({id:t,label:t,buttonLabel:t,value:t,custom:!0,selected:!0})}}}},t.prototype.getTextToolbarItems=function(n){var t=this;return this.ll.forCurrent(!1).getShapeOnce(n).pipe(Object(g.a)((function(n){return!!n})),Object(d.a)((function(n){var e=n.getContextualToolbarItemsForTextEdit();return Object(O.a)(e).pipe(Object(d.a)((function(n){return t.isFeatureEnabled(n.featureId).pipe(Object(p.a)((function(t){return{enabled:t,item:n}})),Object(g.a)((function(n){return n.enabled})),Object(p.a)((function(n){return n.item})))})),Object(m.a)())})))},t.prototype.updateShowMethod=function(n){return n},t.prototype.getUIControlType=function(n){if(!n||n===s.d.BINARY)return u.a;if(n===s.d.OPTION_LIST_COMBO)return o.a;if(n===s.d.OPTION_LIST)return a.a;if(n===s.d.OPTION_IMAGES)return i.a;throw new Error("A contextual toolbar UI control is not available for "+n)},t=l.d([Object(y.a)()],t)}(c.a);Object.defineProperty(C,"name",{value:"ShapeTextToolbarHandler"})},JupZ:function(n,t,e){n.exports=function(n){function t(l){if(e[l])return e[l].exports;var a=e[l]={exports:{},id:l,loaded:!1};return n[l].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){"use strict";var l=function(n){return n&&n.__esModule?n:{default:n}}(e(2));n.exports=l.default},function(n,t){n.exports=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}},function(n,t,e){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"__esModule",{value:!0});var a=l(e(9)),i=l(e(3)),r=e(4);t.default=function(){if("undefined"!=typeof window){var n={history:[]},t={offset:{},threshold:0,test:r.inViewport},e=(0,a.default)((function(){n.history.forEach((function(t){n[t].check()}))}),100);["scroll","resize","load"].forEach((function(n){return addEventListener(n,e)})),window.MutationObserver&&addEventListener("DOMContentLoaded",(function(){new MutationObserver(e).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}));var l=function(e){if("string"==typeof e){var l=[].slice.call(document.querySelectorAll(e));return n.history.indexOf(e)>-1?n[e].elements=l:(n[e]=(0,i.default)(l,t),n.history.push(e)),n[e]}};return l.offset=function(n){if(void 0===n)return t.offset;var e=function(n){return"number"==typeof n};return["top","right","bottom","left"].forEach(e(n)?function(e){return t.offset[e]=n}:function(l){return e(n[l])?t.offset[l]=n[l]:null}),t.offset},l.threshold=function(n){return"number"==typeof n&&n>=0&&n<=1?t.threshold=n:t.threshold},l.test=function(n){return"function"==typeof n?t.test=n:t.test},l.is=function(n){return t.test(n,t)},l.offset(0),l}}()},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(t,e,l){return e&&n(t.prototype,e),l&&n(t,l),t}}(),l=function(){function n(t,e){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.options=e,this.elements=t,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return e(n,[{key:"check",value:function(){var n=this;return this.elements.forEach((function(t){var e=n.options.test(t,n.options),l=n.current.indexOf(t),a=l>-1,i=!e&&a;e&&!a&&(n.current.push(t),n.emit("enter",t)),i&&(n.current.splice(l,1),n.emit("exit",t))})),this}},{key:"on",value:function(n,t){return this.handlers[n].push(t),this}},{key:"once",value:function(n,t){return this.singles[n].unshift(t),this}},{key:"emit",value:function(n,t){for(;this.singles[n].length;)this.singles[n].pop()(t);for(var e=this.handlers[n].length;--e>-1;)this.handlers[n][e](t);return this}}]),n}();t.default=function(n,t){return new l(n,t)}},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inViewport=function(n,t){var e=n.getBoundingClientRect(),l=e.top,a=e.right,i=e.bottom,r=e.left,o=e.width,u=e.height,c=i,s=window.innerWidth-r,d=window.innerHeight-l,p=a,h=t.threshold*o,f=t.threshold*u;return c>t.offset.top+f&&s>t.offset.right+h&&d>t.offset.bottom+f&&p>t.offset.left+h}},function(n,t){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(t,function(){return this}())},function(n,t,e){var l=e(5),a="object"==typeof self&&self&&self.Object===Object&&self,i=l||a||Function("return this")();n.exports=i},function(n,t,e){var l=e(1),a=e(8),i=e(10),r="Expected a function",o=Math.max,u=Math.min;n.exports=function(n,t,e){function c(t){var e=f,l=b;return f=b=void 0,y=t,m=n.apply(l,e)}function s(n){var e=n-O;return void 0===O||e>=t||e<0||x&&n-y>=g}function d(){var n=a();return s(n)?p(n):void(v=setTimeout(d,function(n){var e=t-(n-O);return x?u(e,g-(n-y)):e}(n)))}function p(n){return v=void 0,P&&f?c(n):(f=b=void 0,m)}function h(){var n=a(),e=s(n);if(f=arguments,b=this,O=n,e){if(void 0===v)return function(n){return y=n,v=setTimeout(d,t),C?c(n):m}(O);if(x)return v=setTimeout(d,t),c(O)}return void 0===v&&(v=setTimeout(d,t)),m}var f,b,g,m,v,O,y=0,C=!1,x=!1,P=!0;if("function"!=typeof n)throw new TypeError(r);return t=i(t)||0,l(e)&&(C=!!e.leading,g=(x="maxWait"in e)?o(i(e.maxWait)||0,t):g,P="trailing"in e?!!e.trailing:P),h.cancel=function(){void 0!==v&&clearTimeout(v),y=0,f=O=b=v=void 0},h.flush=function(){return void 0===v?m:p(a())},h}},function(n,t,e){var l=e(6);n.exports=function(){return l.Date.now()}},function(n,t,e){var l=e(7),a=e(1),i="Expected a function";n.exports=function(n,t,e){var r=!0,o=!0;if("function"!=typeof n)throw new TypeError(i);return a(e)&&(r="leading"in e?!!e.leading:r,o="trailing"in e?!!e.trailing:o),l(n,t,{leading:r,maxWait:t,trailing:o})}},function(n,t){n.exports=function(n){return n}}])},M8KF:function(n,t,e){"use strict";var l=e("LoAr"),a=e("pJSd"),i=e("ys29"),r=e("pAhu"),o=e("8uPo"),u=e("UHsG"),c=e("WT9V"),s=e("fRBV");e.d(t,"a",(function(){return p})),e.d(t,"b",(function(){return g}));var d=[[".lib-tile-container[_ngcontent-%COMP%]{color:#7e7e7e;cursor:pointer}.lib-tile-container[_ngcontent-%COMP%]:hover   .lib-tile-remove[_ngcontent-%COMP%]{display:inline-block}.lib-tile-remove[_ngcontent-%COMP%]{position:absolute;right:0;top:0;z-index:1;background:#fff;border-bottom-left-radius:2px;width:20px;height:20px;text-align:center;display:none}.lib-tile-remove[_ngcontent-%COMP%]   .nu-icon[_ngcontent-%COMP%]{margin-top:-3px;margin-left:-6px}"]],p=l.Fb({encapsulation:0,styles:d,data:{}});function h(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"div",[["class","lib-tile-remove"]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.closed.next(a.item.id)&&l);return l}),null,null)),(n()(),l.Hb(1,0,null,null,1,":svg:svg",[["class","nu-icon"]],null,null,null,null,null)),(n()(),l.Hb(2,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-close-thin"]],null,null,null,null,null))],null,null)}function f(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"thumbnail-image",[["class","shape-thumbnail-image"]],null,null,null,a.b,a.a)),l.Gb(1,49152,null,0,i.a,[],{url:[0,"url"]},null)],(function(n,t){n(t,1,0,t.component.item.thumbnailUrl)}),null)}function b(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"thumbnail-canvas",[["class","shape-thumbnail-image"]],null,null,null,r.b,r.a)),l.Gb(1,4898816,null,0,o.a,[u.a],{defId:[0,"defId"],version:[1,"version"],style:[2,"style"],focus:[3,"focus"],canvasIdPrefix:[4,"canvasIdPrefix"]},null),l.Vb(131072,c.b,[l.i])],(function(n,t){var e=t.component;n(t,1,0,e.item.data.defId,e.item.data.version,e.item.data.style,l.cc(t,1,3,l.Tb(t,2).transform(e.focused)),e.item.canvasIdPrefix)}),null)}function g(n){return l.dc(2,[l.Zb(671088640,1,{libTileElem:0}),(n()(),l.Hb(1,0,[[1,0],["libTileElem",1]],null,7,"div",[["class","lib-tile-container fx-ellipsis"],["draggable","true"]],[[1,"data-hook",0]],null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,h)),l.Gb(3,16384,null,0,c.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,null,1,null,f)),l.Gb(5,16384,null,0,c.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,null,1,null,b)),l.Gb(7,16384,null,0,c.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(8,0,null,null,0,"div",[],null,null,null,null,null))],(function(n,t){var e=t.component;n(t,3,0,e.item.closeButton),n(t,5,0,"image"===e.item.thumbnailType),n(t,7,0,"canvas"===e.item.thumbnailType)}),(function(n,t){n(t,1,0,t.component.item.id)}))}l.Db("library-tile",s.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"library-tile",[],null,null,null,g,p)),l.Gb(1,4374528,null,0,s.a,[],null,null)],null,null)}),{item:"item",focused:"focused"},{closed:"closed"},[])},PDpc:function(n,t,e){"use strict";e.d(t,"a",(function(){return C}));var l=e("D57K"),a=e("Jzy8"),i=e("W9bu"),r=e("g3Dv"),o=e("19Zn"),u=e("SKSx"),c=e("5xGT"),s=e("fQLH"),d=e("gQst"),p=e("iUUs"),h=e("d9YI"),f=e("AouM"),b=e("U3QC"),g=e("z5yO"),m=e("w1VY"),v=e("QoSw"),O=e("flPR"),y=e("sXdR"),C=function(n){function t(t,e,l,a){var i=n.call(this,e)||this;return i.ll=t,i.state=e,i.linkService=l,i.diagToViewport=a,i._indicators=[],i.addSource=new s.a,i.removeSource=new s.a,i.changeSource=new s.a,i}return l.e(t,n),t.prototype.initialize=function(){var n=this,t=this.state.changes("InterfaceControlState").pipe(Object(f.a)((function(t){return n.removeIndicators(),"edit"===t?n.initForEditor():n.initForViewer()})));this.subs.push(t.subscribe())},t.prototype.initForViewer=function(){var n=this;return Object(d.a)(this.addIndicators().pipe(Object(f.a)((function(){return n.handleClick()}))),this.listenToViewportChanges().pipe(Object(y.lodashThrottle)(300,{leading:!1,trailing:!0}),Object(b.a)((function(){return n.updateIndicators()}))))},t.prototype.initForEditor=function(){var n=this;return Object(d.a)(this.hyperlinkKeyEvent("keydown").pipe(Object(y.lodashThrottle)(300,{leading:!0,trailing:!1}),Object(f.a)((function(){return n.addIndicators()})),Object(f.a)((function(){return n.handleClick()}))),this.hyperlinkKeyEvent("keyup").pipe(Object(b.a)((function(){return n.removeIndicators()}))),this.listenToViewportChanges().pipe(Object(b.a)((function(){return n.removeIndicators()}))))},t.prototype.updateIndicators=function(){var n=this;this._indicators.forEach((function(t){n.positionIndicator(t),n.changeSource.next(t)}))},t.prototype.addIndicators=function(){var n=this;return this.ll.forCurrent(!0).getDiagramOnce().pipe(Object(b.a)((function(t){Object.keys(t.shapes).forEach((function(e){var l=t.shapes[e];l.getTextsWithHyperlinks().forEach((function(t){var e=new c.ab(0,0,t.width,t.height),a=n.getPoint(l,t),i=new u.a(t,a),r=o.B.getPointOnText(e,t.alignX,t.alignY);i.regX=r.x,i.regY=r.y,i.rotation=l.transform?l.transform.angle:0,n.positionIndicator(i),n._indicators.push(i),n.addSource.next(i)}))}))})))},t.prototype.getPoint=function(n,t){var e;if(n.isConnector()){var l=n;e=o.B.getPointOnConnector(l,t)}else{var a=n;e=o.B.getPointOnShape(t.position,a.defaultBounds,a.transform)}return e},t.prototype.handleClick=function(){var n=this;if(this.indicators.length>0){var t=this.indicators.map((function(t){var e=t.children.map((function(t){return Object(p.a)(t,"click").pipe(Object(b.a)((function(){return n.navigate(t)})))}));return d.a.apply(void 0,l.k(e))}));return d.a.apply(void 0,l.k(t))}return Object(h.b)()},t.prototype.navigate=function(n){this.linkService.navigate(a.r.fromUrl(n.value))},t.prototype.hyperlinkKeyEvent=function(n){return Object(p.a)(window,n).pipe(Object(g.a)((function(n){return n.keyCode===r.f.Command||n.keyCode===r.f.Control})))},t.prototype.positionIndicator=function(n){n.x=this.diagToViewport.x(n.origin.x),n.y=this.diagToViewport.y(n.origin.y);var t=this.state.get("DiagramZoomLevel");n.scaleX=t,n.scaleY=t},t.prototype.listenToViewportChanges=function(){return Object(d.a)(this.state.changes("DiagramPan"),this.state.changes("DiagramZoomLevel"))},t.prototype.removeIndicators=function(){for(;this._indicators.length>0;)this.removeSource.next(this._indicators.pop())},Object.defineProperty(t.prototype,"indicators",{get:function(){return this._indicators},enumerable:!0,configurable:!0}),t.prototype.createAddSource=function(){return this.addSource},t.prototype.createRemoveSource=function(){return this.removeSource},t.prototype.createChangeSource=function(){return this.changeSource},t=l.d([Object(O.a)(),l.g("design:paramtypes",[v.a,c.jb,i.a,m.a])],t)}(O.b)},Q0Yk:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var l=e("LiEJ"),a=e("z5yO"),i=e("pday"),r=e("U3QC"),o=(e("5xGT"),function(){function n(n){this.state=n,this.showPopover=new l.a(!1),this.preparePopover=new l.a(!1),this.libraryItemSubject=new l.a(null),this.subs=[]}return n.prototype.ngOnInit=function(){var n=this;this.subs.push(this.preparePopover.pipe(Object(a.a)((function(n){return!!n})),Object(i.a)(0),Object(r.a)((function(t){var e=n.state.get("CurrentLibraryPreview");n.position(e.x,e.y),n.showPopover.next(!0)}))).subscribe(),this.state.changes("CurrentLibraryPreview").subscribe((function(t){t&&Object.keys(t).length>0?(n.libraryItemSubject.next(t.item),n.text={title:t.item.text.title,line1:t.item.text.line1,line2:t.item.text.line2,line3:t.item.text.line3,line4:t.item.text.line4},n.popoverCssClass=t.item.popoverCssClass,n.prepare()):(n.showPopover.next(!1),n.preparePopover.next(!1))})))},n.prototype.prepare=function(){this.preparePopover.next(!0)},n.prototype.position=function(n,t){if(this.popoverOuter){var e=this.popoverOuter.nativeElement.getBoundingClientRect();e.height+t>=window.innerHeight?t=window.innerHeight-e.height-60:t<0?t=20:t-=75,this.popoverOuter.nativeElement.style.left=n+"px",this.popoverOuter.nativeElement.style.top=t+"px"}},n.prototype.ngOnDestroy=function(){for(;this.subs.length;)this.subs.pop().unsubscribe()},n}())},Q4Fx:function(n,t,e){"use strict";e.d(t,"b",(function(){return l})),e.d(t,"a",(function(){return v}));var l,a=e("LiEJ"),i=e("pN2L"),r=e("Jg5f"),o=e("AqJ0"),u=e("AouM"),c=e("z5yO"),s=e("G2Mx"),d=e("U3QC"),p=e("nsO7"),h=e("5xGT"),f=e("NNJu"),b=e("4y1S"),g=e("ZZOX"),m=e("onas");!function(n){n.Closed="closed",n.Opening="opening",n.Opened="opened",n.Expanding="expanding",n.Expanded="expanded",n.Shrinking="shrinking",n.Collapsing="collapsing",n.Closing="closing"}(l||(l={}));var v=function(){function n(n,t,e,i,u,c,s){this.ll=n,this.state=t,this.containerEnv=e,this.translate=i,this.modalController=u,this.userLocator=c,this.authentication=s,this.subs=[],this.isUserPaused=new a.a(!1),this.openedWidth=215,this.expandedWidth=880,this.showAccountButton=new a.a(!0),this.buttons=new a.a(this.getSidebarButtons()),this.manifests=this.state.changes("EnabledPlugins").pipe(Object(r.a)((function(n){return Object(p.filter)(n,(function(n){return n.panels&&Object(p.some)(n.panels,["position","left"])}))})),Object(o.a)(1)),this.currentState=l.Closed}return n.prototype.ngAfterViewInit=function(){this.projectId=this.ll.forCurrentObserver(!1).pipe(Object(u.a)((function(n){return n.getDiagramModel().pipe(Object(c.a)((function(n){return Boolean(n&&n.project)})),Object(r.a)((function(n){return"string"==typeof n.project?n.project:n.project.id})))}))),this.listenToShapeSearchResults(),this.listenToCurrentUserChanges()},n.prototype.listenToShapeSearchResults=function(){var n=this;this.subs.push(this.state.changes("ShapeSearchResults").subscribe((function(t){t.results.length>0?(n.showHideLeftSideButton("search",!0),n.state.set("SelectedLeftPanel","search")):n.showHideLeftSideButton("search",!1)})),this.state.changes("SelectedLeftPanel").subscribe((function(t){n.setSelectedPanelId(t)})),this.checkUserPauseStatus().subscribe())},n.prototype.listenToCurrentUserChanges=function(){var n=this;this.userMdl=this.userLocator.getUserData(),this.subs.push(this.userMdl.pipe(Object(c.a)((function(n){return!!n}))).subscribe((function(t){t.status===b.s.DEMO&&n.showAccountButton.next(!1)})))},n.prototype.checkUserPauseStatus=function(){var n=this;return this.userLocator.isUserPaused().pipe(Object(s.a)(1),Object(d.a)((function(t){return n.isUserPaused.next(t)})))},n.prototype.setState=function(n){this.currentState=n,this.state.set("LeftSidebarState",n)},n.prototype.toggleExpand=function(){this.currentState===l.Opened||this.currentState===l.Closed?this.goToNextState(l.Expanded):this.currentState===l.Expanded&&this.goToNextState(l.Closed)},n.prototype.transitionState=function(n,t){var e,a,i={width:"0",transform:"translateX(-"+this.openedWidth+"px)"},r={width:this.openedWidth+"px",transform:"translateX(0)"},o={width:this.expandedWidth+"px",transform:"translateX(0)"};switch(n){case l.Closed:e=i;break;case l.Opened:e=r;break;case l.Expanded:e=o}switch(t){case l.Closed:a=i;break;case l.Opened:a=r;break;case l.Expanded:a=o}var u=new f.c({from:e,to:a,transitionProperty:"width, transform",duration:300,easing:"ease-in-out"});return u.element=this.panelContainer.nativeElement,u},n.prototype.showHideLeftSideButton=function(n,t){var e=this.buttons.getValue();e.find((function(t){return t.id===n})).visible=t,this.buttons.next(e)},n.prototype.getIcon=function(n){return"./assets/icons/symbol-defs.svg#nu-ic-"+n},n.prototype.getSelectedPanelId=function(){return this.selectedPanelId},n.prototype.toggleDashboard=function(){"plugin"===h.h.get("APP_MODE")||this.state.get("ApplicationIsEmbedded")||this.togglePanel("dashboard")},n.prototype.togglePanel=function(n){var t=this.getPanel(n).isExpandable;this.toggleOpen(n,t),this.switchPanel(n)},n.prototype.toggleOpen=function(n,t){this.currentState!==l.Opened&&this.currentState!==l.Expanded||this.selectedPanelId!==n?t||this.currentState!==l.Closed?!t||this.currentState!==l.Closed&&this.currentState!==l.Opened||this.goToNextState(l.Expanded):this.goToNextState(l.Opened):this.goToNextState(l.Closed)},n.prototype.switchPanel=function(n){this.state.set("SelectedLeftPanel",n),h.lb.track("left."+n+".click")},n.prototype.goToNextState=function(n){var t=this;if(this.currentState!==n){var e,a=this.currentState;switch(a){case l.Closed:n===l.Opened?e=l.Opening:n===l.Expanded&&(e=l.Expanding);break;case l.Opened:n===l.Expanded?e=l.Expanding:n===l.Closed&&(e=l.Closing);break;case l.Expanded:n===l.Opened?e=l.Shrinking:n===l.Closed&&(e=l.Collapsing)}e&&this.setState(e),this.subs.push(this.transitionState(a,n).start().pipe(Object(d.a)({complete:function(){return t.setState(n)}})).subscribe())}},n.prototype.setSelectedPanelId=function(n){this.selectedPanelId=n;var t=this.getPanel(n);void 0!==t.onOpen&&t.onOpen(),t.isExpandable?this.enableExpand():this.disableExpand()},n.prototype.getPanel=function(n){return this.panelItems.filter((function(t){return t.id===n}))[0]},Object.defineProperty(n.prototype,"appDisabledState",{get:function(){return this.state.changes("CurrentDiagram").pipe(Object(u.a)((function(n){return""===n||"start"===n?Object(i.a)(!1):Object(i.a)(!0)})))},enumerable:!0,configurable:!0}),n.prototype.openTeamPortalOverview=function(){h.lb.track("left.account.click",{value1Type:"button",value1:"overview"}),this.openTeamPortalWindow(m.b.Overview)},n.prototype.openClassicDiagramImport=function(){h.lb.track("left.account.click",{value1Type:"button",value1:"classic diagram import"}),this.modalController.show(g.a)},n.prototype.openTeamPortalAccount=function(){h.lb.track("left.account.click",{value1Type:"button",value1:"my account"}),this.openTeamPortalWindow(m.b.Account)},n.prototype.logout=function(){var n=this;h.lb.track("left.account.click",{value1Type:"button",value1:"signout"}),this.state.set("LoadingIndicatorState",{main:!0,description:this.translate.instant("LOADING_WINDOWS.LOGOUT")}),this.authentication.logOut().subscribe({complete:function(){return n.redirect(n.logoutUrl)}})},n.prototype.redirect=function(n){window.location.replace(n)},Object.defineProperty(n.prototype,"logoutUrl",{get:function(){return h.h.get("COGNITO_LOGOUT_URL")+"?client_id="+h.h.get("COGNITO_CLIENT_ID")+"&logout_uri="+h.h.get("COGNITO_LOGOUT_REDIRECT_URL")},enumerable:!0,configurable:!0}),n.prototype.openTeamPortalWindow=function(n){void 0===n&&(n=m.b.Overview),this.modalController.show(m.c,{inputs:{page:n}})},n.prototype.enableExpand=function(){this.isExpandable=!0,this.currentState!==l.Opened&&this.currentState!==l.Closed||this.goToNextState(l.Expanded),this.subs.push(this.toggleExpandButton().start().subscribe())},n.prototype.disableExpand=function(){this.isExpandable=!1,this.currentState===l.Expanded&&this.goToNextState(l.Opened),this.subs.push(this.toggleExpandButton(!1).start().subscribe())},n.prototype.getExpandTooltip=function(){return this.currentState===l.Expanded?this.translate.instant("TOOLTIPS.COLLAPSE_PANEL"):this.translate.instant("TOOLTIPS.EXPAND_PANEL")},n.prototype.toggleExpandButton=function(n){void 0===n&&(n=!0);var t={transform:"translateX(25px)"},e={transform:"translateX(-2px)"},l=e,a=t;n||(l=t,a=e);var i=new f.c({from:l,to:a,transitionProperty:"transform",duration:200,easing:"ease-in-out"});return i.element=this.expandPanelButton.nativeElement,i},n.prototype.ngOnDestroy=function(){for(;this.subs.length;)this.subs.pop().unsubscribe()},n.prototype.getLogoTooltip=function(){return"plugin"===h.h.get("APP_MODE")?this.translate.instant("TOOLTIPS.BACK_CONFLUENCE"):this.state.get("ApplicationIsEmbedded")?"Creately":this.translate.instant("TOOLTIPS.DASHBOARD")},n.prototype.getSidebarButtons=function(){var n=[{id:"template",icon:"templates",tooltip:"TOOLTIPS.TEMPLATE",visible:!0,disableWithApp:!0},{id:"shapes",icon:"shapes",tooltip:"TOOLTIPS.SHAPES",visible:!0,disableWithApp:!0},{id:"image-import",icon:"image",tooltip:"TOOLTIPS.IMAGE",visible:!0,disableWithApp:!0},{id:"search",icon:"search",tooltip:"Search Result",visible:!1,disableWithApp:!0},{id:"google-search-import",icon:"google",tooltip:"Google Search",visible:!0,disableWithApp:!0}];return"plugin"===h.h.get("APP_MODE")||this.state.get("ApplicationIsEmbedded")||n.unshift({id:"folders",icon:"folder-thin",tooltip:"TOOLTIPS.FOLDER",visible:!0,disableWithApp:!1}),n},n}()},S0Xf:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var l=e("fQLH"),a=e("R+ki"),i=function(){function n(){this._columnCount=1,this._scroll=new l.a,this.scroll=this._scroll.pipe(Object(a.a)(n.scrollDebounce))}return Object.defineProperty(n.prototype,"columnCount",{get:function(){return this._columnCount},set:function(n){this._columnCount=n},enumerable:!0,configurable:!0}),n.prototype.getDiagramTrackId=function(n,t){return t.id},n.prototype.onScroll=function(n){this._scroll.next(n)},n.scrollDebounce=400,n}()},Sf0Q:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){}},YJWy:function(n,t,e){"use strict";var l=e("D57K"),a=e("5xGT"),i=e("d9KY"),r=e("QoSw"),o=e("nsO7"),u=e("U3QC"),c=e("12aA"),s=function(n){function t(t){var e=n.call(this)||this;return e.ll=t,e}return l.e(t,n),Object.defineProperty(t,"implements",{get:function(){return["ICommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dataDefinition",{get:function(){return{type:!1}},enumerable:!0,configurable:!0}),t.prototype.execute=function(){var n=this;return this.ll.forCurrent(this.eventData.scenario===a.o.PREVIEW).getDiagramOnce().pipe(Object(u.a)((function(t){if(n.data&&n.data.type){var e=[];Object(o.map)(t.shapes,(function(t,l){t instanceof n.data.type&&e.push(l)})),n.resultData={shapeIds:e}}else n.resultData={shapeIds:Object(o.keys)(t.shapes)}})),Object(c.a)(!0))},t=l.d([Object(a.l)(),l.g("design:paramtypes",[r.a])],t)}(a.a);Object.defineProperty(s,"name",{value:"GetShapeIds"});var d=e("rW6H"),p=e("kXwT"),h=e("dKf+"),f=e("W0Mc"),b=function(n){function t(t,e,l){var a=n.call(this)||this;return a.ds=t,a.reconnectSvc=e,a.stateSvc=l,a}return l.e(t,n),Object.defineProperty(t,"dataDefinition",{get:function(){return{changes:!0}},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var n=this;return this.resultData={},this.ds.getChangeModel(this.resourceId,this.eventData.eventId,this.eventData.scenario).pipe(Object(u.a)((function(t){var e,a,i=function(e){var l=n.data.changes[e];n.reconnectShape(e,l,t).forEach((function(t){return n.replaceOrPush(l,t)})),n.resultData[e]=l};try{for(var r=l.l(Object.keys(n.data.changes)),o=r.next();!o.done;o=r.next()){i(o.value)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(e)throw e.error}}})))},t.prototype.execute=function(){return!0},t.prototype.reconnectShape=function(n,t,e){if(!e.shapes[n])return[];var l=this.getEndpoints(n,t,e),i=this.stateSvc.get("CustomGluePoint");return this.eventData.scenario===a.o.EXECUTE&&i&&i.shapeId&&l.forEach((function(n){1!==l.length&&n.shapeId!==i.shapeId||(n.shapeId=i.shapeId,n.gluepointId=i.gluepoint.id,n.gluepointLocked=!0)})),this.reconnectSvc.reconnect(n,e,l)},t.prototype.getEndpoints=function(n,t,e){var l=e.shapes[n].getPoints(),a=[l[0].id,Object(o.last)(l).id];return t.filter((function(n){return a.indexOf(n.id)>=0}))},t.prototype.replaceOrPush=function(n,t){var e=n.findIndex((function(n){return n.id===t.id}));-1!==e?n.splice(e,1,t):n.push(t)},t=l.d([Object(a.l)(),l.g("design:paramtypes",[h.a,f.a,a.jb])],t)}(a.a);Object.defineProperty(b,"name",{value:"ReconnectConnector"});var g=e("7/v2"),m=e("g3Dv"),v=e("5vYS"),O=e("d0OC"),y=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return l.e(t,n),t.prototype.prepareData=function(){var n=this,t=this.getCurrentEntities(this.data.shapeIds),e=t.map((function(n){return n.bounds})),l=this.alignShapes(e,this.data.isVertical,this.data.alignment);t.forEach((function(t,a){var i=l[a];if("shape"===t.type)n.transformShape(t.shapeId,i);else if("group"===t.type){var r=e[a],o={x:r.x-i.x,y:r.y-i.y};t.shapeIds.forEach((function(e,l){var a=t.shapeBounds[l];i.x=a.x-o.x,i.y=a.y-o.y,n.transformShape(e,i)}))}}))},t.prototype.transformShape=function(n,t){var e=this.changeModel.shapes[n];if(e.type===m.o.Connector)this.setConnectorPosition(e,t);else{var l=e.transform,a=t.x-(e.bounds.x-l.x),i=t.y-(e.bounds.y-l.y);this.setShapePosition(e,{x:a,y:i})}},t.prototype.getCurrentEntities=function(n){var t=this,e=[],a=[],i=[];return n.forEach((function(n){if(t.changeModel.isShapeInGroup([n])){if(!i.includes(n)){var l=t.changeModel.getAllShapesInGroupHierarchy([n]);i=i.concat(l);var r=t.getShapeBounds(l),o=t.getGroupedBounds(r);a.push({type:"group",shapeIds:l,shapeBounds:r,bounds:o})}}else e.push({type:"shape",shapeId:n,bounds:t.getShapeBounds([n])[0]})})),l.k(e,a)},t.prototype.getGroupedBounds=function(n){var t=a.ab.from(n[0]);return n.forEach((function(n,e){if(e>0){var l=a.ab.from(n);t.absorb(l)}})),t},t.prototype.getShapeBounds=function(n){var t,e,a=[];try{for(var i=l.l(n),r=i.next();!r.done;r=i.next()){var o=r.value,u=this.changeModel.shapes[o];u.type,m.o.Connector,a.push(u.bounds)}}catch(c){t={error:c}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return a},t.prototype.alignShapes=function(n,t,e){return t?Object(a.pb)(n,e):Object(a.ob)(n,e)},t.prototype.setShapePosition=function(n,t){n.x=t.x,n.y=t.y},t.prototype.setConnectorPosition=function(n,t){var e,a;if(!n.fromEndpoint.shape&&!n.toEndpoint.shape){var i=n.bounds,r=t.x-i.x,u=t.y-i.y,c=n.getPoints(),s=Object(o.cloneDeep)(c);try{for(var d=l.l(s),p=d.next();!p.done;p=d.next()){var h=p.value;h.x+=r,h.y+=u,h.c1&&(h.c1.x+=r,h.c1.y+=u),h.c2&&(h.c2.x+=r,h.c2.y+=u)}}catch(f){e={error:f}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}n.path=v.a.createPathFromPoints(s)}},t=l.d([Object(a.l)()],t)}(O.a);Object.defineProperty(y,"name",{value:"AlignShapes"});var C=e("uWBd"),x=function(n){function t(t,e){var l=n.call(this,t)||this;return l.ds=t,l.pathingSvc=e,l}return l.e(t,n),t.prototype.prepareData=function(){var n,t;try{for(var e=l.l(this.data.connectorIds),a=e.next();!a.done;a=e.next()){var i=a.value,r=this.changeModel.shapes[i],u=this.pathingSvc.reverse(i,this.changeModel),c=v.a.createPathFromPoints(u);Object(o.isEqual)(r.path,c)||(r.path=c)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(t=e.return)&&t.call(e)}finally{if(n)throw n.error}}},t=l.d([Object(a.l)(),l.g("design:paramtypes",[h.a,C.a])],t)}(O.a);Object.defineProperty(x,"name",{value:"FlipConnector"});var P=e("Cm/l"),S=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return l.e(t,n),Object.defineProperty(t,"dataDefinition",{get:function(){return{shapeId:!0,vectorId:!0,points:!0}},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var n=this.changeModel.shapes[this.data.shapeId];if(n&&!n.isLocked){var t=n.defaultBounds,e=n.transform,l=n.vectors[this.data.vectorId];l.id=this.data.vectorId,l.movement=l.movement,l.withInBounds=l.withInBounds;var a=this.data.points.map((function(a,i){a=n.diagramToShapeCordinate(a);var r=l.points[i].x.type,o=l.points[i].y.type;return{x:{type:r,value:"relative"===r?a.x/(t.width*e.scaleX):a.x},y:{type:o,value:"relative"===o?a.y/(t.height*e.scaleY):a.y}}}));l.points=a}},t=l.d([Object(a.l)()],t)}(O.a);Object.defineProperty(S,"name",{value:"MoveVisualVector"});var w=e("Wpmq"),I=function(n){function t(t){var e=n.call(this)||this;return e.convert=t,e}return l.e(t,n),t.prototype.prepareData=function(){if(this.resultData={},this.data.shapes)for(var n in this.resultData.shapes={},this.data.shapes){var t=this.data.shapes[n];this.resultData.shapes[n]=this.convert.matrix(t)}if(this.data.connectors)for(var n in this.resultData.connectors={},this.data.connectors){var e=this.data.connectors[n],l=e.prev,a=e.next;this.resultData.connectors[n]={prev:this.convert.matrix(l),next:this.convert.matrix(a)}}},t.prototype.execute=function(){return!0},t=l.d([Object(a.l)(),l.g("design:paramtypes",[w.a])],t)}(a.a);Object.defineProperty(I,"name",{value:"ConvertViewportForTransform"});var T=e("9KTM"),_=function(n){function t(t,e){var l=n.call(this,t)||this;return l.ds=t,l.restriction=e,l}return l.e(t,n),t.prototype.prepareData=function(){var n=this,t=["ShapeBounds","GridService"];for(var e in this.data.shapes){var l=this.data.shapes[e].toTransform();l.skewX=0,l.skewY=0;var i=this.changeModel.shapes[e];if(!i||i.isLocked)return;var r=this.restriction.shapeTransform(i,l,t);i.x!==r.x&&(i.x=r.x),i.y!==r.y&&(i.y=r.y),i.transformSettings.hScale&&!this.isEqual(i.scaleX,r.scaleX)&&(i.scaleX=r.scaleX,!1!==i.autoResizeWidth&&(i.autoResizeWidth=!1),i.userSetWidth=i.bounds.width),i.transformSettings.vScale&&!this.isEqual(i.scaleY,r.scaleY)&&(i.scaleY=r.scaleY,!1!==i.autoResizeHeight&&(i.autoResizeHeight=!1),i.userSetHeight=i.bounds.height),i.transformSettings.rotate&&i.angle!==r.angle&&(i.angle=r.angle),0!==i.skewX&&(i.skewX=0),0!==i.skewY&&(i.skewY=0)}var u=function(t){var e=c.changeModel.shapes[t];if(!e)return{value:void 0};if(!c.shouldTransform(e))return"continue";var l=c.data.connectors[t],i=l.prev,r=l.next,u=a.M.fromMatrix(r.appendMatrix(i.invert())),s=e.getPoints().map((function(t){return n.transformPoint(t,u)})),d=v.a.createPathFromPoints(s);Object(o.isEqual)(e.path,d)||(e.path=d)},c=this;for(var e in this.data.connectors){var s=u(e);if("object"==typeof s)return s.value}},t.prototype.isEqual=function(n,t){return parseFloat(n.toFixed(8))===parseFloat(t.toFixed(8))},t.prototype.shouldTransform=function(n){var t=n.getPoints(),e=t[0],l=t[t.length-1];return!!(!e.shapeId||this.data.shapes&&this.data.shapes[e.shapeId])&&!!(!l.shapeId||this.data.shapes&&this.data.shapes[l.shapeId])},t.prototype.transformPoint=function(n,t){var e=Object(o.cloneDeep)(n);return t.transformPoint(e.x,e.y,e),e.c1&&t.transformPoint(e.c1.x,e.c1.y,e.c1),e.c2&&t.transformPoint(e.c2.x,e.c2.y,e.c2),e.bumps=[],e},t=l.d([Object(a.l)(),l.g("design:paramtypes",[h.a,T.a])],t)}(O.a);Object.defineProperty(_,"name",{value:"TransformShapes"});var E=function(n){function t(t,e){var l=n.call(this,t)||this;return l.ds=t,l.state=e,l}return l.e(t,n),t.prototype.prepareData=function(){this.addShapesToGroup(this.getShapeIds())},t.prototype.getShapeIds=function(){var n=void 0===this.data.shapeIds?[]:this.data.shapeIds;return(void 0===this.data.includeSelected||this.data.includeSelected)&&(n=n.concat(this.state.get("Selected"))),n},t.prototype.addShapesToGroup=function(n){var t=this;if(!this.changeModel.isShapeInGroup(n)){var e=[],l=[];n.forEach((function(n){if(t.changeModel.isShapeInGroup([n])){var a=t.changeModel.getGroupHierarchy(n);l.push(a[0])}else e.push(n)})),l=Object(o.uniq)(l);var i=a.X.groupId();this.changeModel.groups[i]={shapes:e,groups:l}}},t=l.d([Object(a.l)(),l.g("design:paramtypes",[h.a,a.jb])],t)}(O.a);Object.defineProperty(E,"name",{value:"GroupShapes"});var j=function(n){function t(t,e){var l=n.call(this,t)||this;return l.ds=t,l.state=e,l}return l.e(t,n),t.prototype.prepareData=function(){var n=this.getShapeIds();if(this.changeModel.isShapeInGroup(n)){var t=this.changeModel.getGroupHierarchy(n[0])[0];delete this.changeModel.groups[t]}},t.prototype.getShapeIds=function(){var n=void 0===this.data.shapeIds?[]:this.data.shapeIds;return(void 0===this.data.includeSelected||this.data.includeSelected)&&(n=n.concat(this.state.get("Selected"))),n},t=l.d([Object(a.l)(),l.g("design:paramtypes",[h.a,a.jb])],t)}(O.a);Object.defineProperty(j,"name",{value:"UnGroupShapes"});var k=function(n){function t(t,e){var l=n.call(this,t)||this;return l.ds=t,l.stateSvc=e,l}return l.e(t,n),t.prototype.prepareData=function(){var n,t,e,i,r,o,u,c;if(this.eventData.scenario!==a.o.PREVIEW){var s={};try{for(var d=l.l(Object.keys(this.changeModel.shapes)),p=d.next();!p.done;p=d.next()){var h=p.value,f=this.changeModel.shapes[h];if(this.isConnectorModel(f))try{for(var b=(e=void 0,l.l(this.getConnectedGluepoints(f))),g=b.next();!g.done;g=b.next()){s[S=g.value]=!0}}catch(T){e={error:T}}finally{try{g&&!g.done&&(i=b.return)&&i.call(b)}finally{if(e)throw e.error}}else try{for(var m=(r=void 0,l.l(Object.keys(f.gluepoints))),v=m.next();!v.done;v=m.next()){var O=v.value,y=f.gluepoints[O],C=f.id+"."+O;"custom"!==y.type||s[C]||(s[C]=!1)}}catch(_){r={error:_}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}}}catch(E){n={error:E}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(n)throw n.error}}try{for(var x=l.l(Object.keys(s)),P=x.next();!P.done;P=x.next()){var S;if(!s[S=P.value]){var w=l.i(S.split("."),2);h=w[0],O=w[1];delete(f=this.changeModel.shapes[h]).gluepoints[O]}}}catch(j){u={error:j}}finally{try{P&&!P.done&&(c=x.return)&&c.call(x)}finally{if(u)throw u.error}}var I=this.stateSvc.get("CustomGluePoint");if(I&&I.shapeId&&I.gluepoint)(f=this.changeModel.shapes[I.shapeId]).gluepoints[I.gluepoint.id]=I.gluepoint}},t.prototype.isConnectorModel=function(n){return n.type===m.o.Connector},t.prototype.getConnectedGluepoints=function(n){var t,e,a=[],i=n.getPoints(),r=[i[0],i[i.length-1]],o=function(t){var e=u.data.changes[n.id];e&&e.find((function(n){return n.id===t.id}))||a.push(t.shapeId+"."+t.gluepointId)},u=this;try{for(var c=l.l(r),s=c.next();!s.done;s=c.next()){o(s.value)}}catch(d){t={error:d}}finally{try{s&&!s.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}return a},t=l.d([Object(a.l)(),l.g("design:paramtypes",[h.a,a.jb])],t)}(O.a);Object.defineProperty(k,"name",{value:"UpdateCustomGluepoints"});var M=e("icO7"),D=e("phng");e.d(t,"a",(function(){return A}));var A=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return l.e(t,n),t.registerSelectAll=function(n){n.mapSequence(t.selectAll).add(s).add(i.a)},t.registerMoveVector=function(n){n.mapSequence(t.moveVisualVector).add(p.a).add(S).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.registerTransformShapesAndConnectors=function(n){n.mapSequence(t.transformShapesAndConnectors).add(I).add(_).add(P.a,{transform:function(n){var t;return n.eventInfo.scenario===a.o.PREVIEW?{changes:{}}:{changes:(t={},t[n.resultData[0].id]={},t)}}}).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.registerMoveConnectorEndPointOnViewport=function(n){n.mapSequence(t.moveConnectorEndPointOnViewport).add(p.a).add(k,{transform:function(n){var t,e=n.resultData[0];return{changes:(t={},t[e.id]=e.points,t)}}}).add(b,{transform:function(n){var t,e=n.resultData[0];return{changes:(t={},t[e.id]=e.points,t)}}}).add(d.a,{transform:function(n){return{changes:n.resultData[2]}}}).add(P.a,{transform:function(n){if(n.eventInfo.scenario===a.o.PREVIEW)return{changes:{}};var t=n.resultData[2],e={};return Object.keys(t).forEach((function(n){return e[n]={}})),{changes:e}}}).add(g.a,{transform:function(n){var t;return{changes:(t={},t[n.resultData[0].id]=null,t),updateConnections:n.eventData.updateConnections,updateDefinitions:n.eventData.updateDefinitions}}}).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.registerMoveConnectorPathPointOnViewport=function(n){n.mapSequence(t.moveConnectorPathPointOnViewport).add(p.a).add(d.a,{transform:function(n){var t,e=n.resultData[0];return{changes:(t={},t[e.id]=e.points,t)}}}).add(P.a,{transform:function(n){var t;return n.eventInfo.scenario===a.o.PREVIEW?{changes:{}}:{changes:(t={},t[n.resultData[0].id]={},t)}}}).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.registerChangeConnectedGluepoint=function(n){n.mapSequence(t.changeConnectedGluepoint).add(b,{transform:function(n){var t,e=n.data[0],l={id:e.endpointId,shapeId:e.shapeId,gluepointId:e.gluepointId,gluepointLocked:!0};return{changes:(t={},t[e.connectorId]=[l],t)}}}).add(d.a,{transform:function(n){return{changes:n.resultData[0]}}}).add(P.a,{transform:function(n){if(n.eventInfo.scenario===a.o.PREVIEW)return{changes:{}};var t=n.resultData[0],e={};return Object.keys(t).forEach((function(n){return e[n]={}})),{changes:e}}}).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.registerFlipConnector=function(n){n.mapSequence(t.flipConnector).add(x).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.registerAlignShapes=function(n){n.mapSequence(this.alignShapes).add(D.a).add(y,{transform:function(n){return{shapeIds:n.resultData[0],isVertical:n.eventData.isVertical,alignment:n.eventData.alignment}}}).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.registerGroupShapes=function(n){n.mapSequence(t.groupShapes).add(D.a).add(E,{transform:function(n){return{shapeIds:n.resultData[0],includeSelected:!1}}}).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.registerUnGroupShapes=function(n){n.mapSequence(t.unGroupShapes).add(D.a).add(j,{transform:function(n){return{shapeIds:n.resultData[0],includeSelected:!1}}}).add(M.a,{alter:function(n){return"RunExecutionStep"===n.stepName&&"completed"===n.stepStatus}})},t.selectAll=new t("SelectAll"),t.moveVisualVector=new t("MoveVisualVector"),t.transformShapesAndConnectors=new t("TransformShapesAndConnectors"),t.moveConnectorEndPointOnViewport=new t("MoveConnectorEndPointOnViewport"),t.moveConnectorPathPointOnViewport=new t("MoveConnectorPathPointOnViewport"),t.changeConnectedGluepoint=new t("ChangeConnectedGluepoint"),t.flipConnector=new t("FlipConnector"),t.alignShapes=new t("AlignShapes"),t.groupShapes=new t("GroupShapes"),t.unGroupShapes=new t("UnGroupShapes"),t}(a.c)},f6YR:function(n,t,e){"use strict";var l=e("D57K"),a=e("5xGT"),i=e("hX56"),r=e("nsO7"),o=e("fQLH"),u=e("gQst"),c=e("pN2L"),s=e("iUUs"),d=e("d9YI"),p=e("U3QC"),h=e("AouM"),f=e("Jg5f"),b=e("lqvn"),g=e("HswR"),m=e("z5yO"),v=e("O6K7"),O=e("yn08"),y=e("w1VY"),C=e("Wpmq"),x=e("QoSw"),P=e("3+4Q"),S=e("flPR"),w=e("h1tj"),I=function(n){function t(t){var e=n.call(this)||this;return e.model=t,e.prepare(),e}return l.e(t,n),t.prototype.destroy=function(){},t.prototype.prepare=function(){var n=new w.Shape;n.graphics.clear(),n.graphics.beginFill(this.model.resolved?t.RESOLVED_ICON_COLOR:t.ICON_COLOR),n.graphics.beginStroke("#FFFFFF"),n.graphics.setStrokeStyle(2),n.graphics.drawCircle(0,0,15),n.graphics.endStroke(),n.graphics.endFill(),n.shadow=new w.Shadow("rgba(0, 0, 0, 0.25)",0,2,3),this.addChild(n);var e=new w.Bitmap('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="22.84" height="17.07"><path fill="rgb(255, 255, 255)" d="M22.84,7.46C22.84,3.34,17.73,0,11.42,0S0,3.34,0,7.46s5.11,7.46,11.42,7.46a17.57,17.57,0,0,0,3.21-.3l4.3,2.43a.17.17,0,0,0,.25-.15l0-3.95C21.42,11.59,22.84,9.63,22.84,7.46Z" /></svg>');e.scaleX=.8,e.scaleY=.8,e.x=-9,e.y=-6,this.addChild(e)},t.ICON_COLOR="#F39C12",t.RESOLVED_ICON_COLOR="#7e7e7e",t}(w.Container),T=e("4y1S");e.d(t,"a",(function(){return _}));var _=function(n){function t(t,e,l,a,i,r,u){var c=n.call(this,e)||this;return c.ll=t,c.state=e,c.datastore=l,c.commandService=a,c.diagToViewport=i,c.viewToDiagram=r,c.userLocator=u,c.addSource=new o.a,c.removeSource=new o.a,c.changeSource=new o.a,c.shapeComments={},c.diagramComments={},c}var e;return l.e(t,n),e=t,t.prototype.initialize=function(){var n=this;this.subs.push(this.state.changes("CurrentDiagram").pipe(Object(p.a)((function(){n.hideCommentThreadView(),n.removeAllIndicators()})),Object(h.a)((function(){return Object(u.a)(n.listenToCreateEvents(),n.listenToSingleCommentInsertChanges(),n.listenToCommentUpdateChanges(),n.listenToOpenPanelChanges().pipe(Object(h.a)((function(t){return n.userLocator.getCommentToggleState().pipe(Object(h.a)((function(e){return t||e?Object(u.a)(n.listenToCommentInsertChanges(),n.listenToViewportChanges(),n.listenToDiagramChanges(),n.listenToResolvedCommentChanges()):(n.hideCommentThreadView(),n.removeAllIndicators())})))}))))}))).subscribe())},Object.defineProperty(t.prototype,"indicators",{get:function(){return l.k(Object(r.values)(this.diagramComments),Object(r.flatten)(Object(r.values)(this.shapeComments).map((function(n){return Object(r.values)(n)}))))},enumerable:!0,configurable:!0}),t.prototype.createAddSource=function(){return this.addSource},t.prototype.createRemoveSource=function(){return this.removeSource},t.prototype.createChangeSource=function(){return this.changeSource},Object.defineProperty(t.prototype,"locator",{get:function(){return this.ll.forCurrent(!0)},enumerable:!0,configurable:!0}),t.prototype.listenToOpenPanelChanges=function(){return this.state.changes(e.SIDEBAR_STATE_KEY).pipe(Object(f.a)((function(n){return n===e.SIDEBAR_STATE_VAL})),Object(b.a)())},t.prototype.listenToCommentInsertChanges=function(){var n=this,t=this.state.get("CurrentDiagram");return Object(u.a)(this.datastore.findLatest(P.a,{diagramId:t}).pipe(Object(f.a)((function(n){return{type:"insert",docs:n}}))),this.datastore.watch(P.a,{diagramId:t}).pipe(Object(g.a)((function(n){return n.docs?a.x.build({docs:P.a},n):Object(c.a)(n)})))).pipe(Object(m.a)((function(n){return"insert"===n.type||"remove"===n.type})),Object(p.a)((function(t){"insert"===t.type?t.docs.filter((function(n){return!n.parentId&&!n.resolved})).forEach((function(t){return n.createCommentIndicator(t)})):"remove"===t.type&&t.docs.forEach((function(t){return n.removeCommentIndicator(t)}))})))},t.prototype.listenToCommentUpdateChanges=function(){var n=this,t=this.state.get("CurrentDiagram");return Object(u.a)(this.datastore.findLatest(P.a,{diagramId:t}).pipe(Object(f.a)((function(n){return{type:"insert",docs:n}}))),this.datastore.watch(P.a,{diagramId:t}).pipe(Object(g.a)((function(n){return n.docs?a.x.build({docs:P.a},n):Object(c.a)(n)})))).pipe(Object(m.a)((function(n){return"update"===n.type})),Object(p.a)((function(t){t.docs.filter((function(n){return n.resolved})).forEach((function(t){n.removeCommentIndicator(t),n.singleComment&&t.id===n.singleComment.id&&(n.singleComment=null)}))})))},t.prototype.listenToViewportChanges=function(){var n=this;return Object(u.a)(this.state.changes("DiagramPan"),this.state.changes("DiagramZoomLevel")).pipe(Object(h.a)((function(){return n.locator.getDiagramOnce()})),Object(p.a)((function(t){return n.updateIndicatorPositions(t)})))},t.prototype.listenToDiagramChanges=function(){var n=this;return this.locator.getDiagramChanges().pipe(Object(p.a)((function(t){var e,a,i,r;if(t.split.shapes)try{for(var o=l.l(Object.keys(t.split.shapes)),u=o.next();!u.done;u=o.next()){var c=u.value;if(n.shapeComments[c])try{for(var s=(i=void 0,l.l(Object.keys(n.shapeComments[c]))),d=s.next();!d.done;d=s.next()){var p=d.value,h=n.shapeComments[c][p];n.positionShapeCommentIndicator(h,t.model.shapes[c]),n.changeSource.next(h)}}catch(f){i={error:f}}finally{try{d&&!d.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}}}catch(b){e={error:b}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(e)throw e.error}}})))},t.prototype.listenToCreateEvents=function(){var n=this;return Object(s.a)(this.indicatorLayer,v.b.CreateComment).pipe(Object(p.a)((function(t){n.showCommentThreadView(t.getShapeId(),t.getPosition()),n.switchToNormalState()})))},t.prototype.listenToResolvedCommentChanges=function(){var n=this;return this.state.changes("CommentThreadData").pipe(Object(p.a)((function(t){n.removeResolvedCommentIndicators(),t.comments&&t.comments.forEach((function(t){!t.parentId&&t.resolved&&n.createCommentIndicator(t)}))})))},t.prototype.removeResolvedCommentIndicators=function(){var n,t,e,a,i,r;try{for(var o=l.l(Object.keys(this.diagramComments)),u=o.next();!u.done;u=o.next()){var c=u.value;!(b=this.diagramComments[c]).model.parentId&&b.model.resolved&&(this.removeSource.next(b),delete this.diagramComments[c])}}catch(g){n={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}try{for(var s=l.l(Object.keys(this.shapeComments)),d=s.next();!d.done;d=s.next()){var p=d.value;try{for(var h=(i=void 0,l.l(Object.keys(this.shapeComments[p]))),f=h.next();!f.done;f=h.next()){var b;c=f.value;!(b=this.shapeComments[p][c]).model.parentId&&b.model.resolved&&(this.removeSource.next(b),delete this.shapeComments[p][c])}}catch(m){i={error:m}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}}}catch(v){e={error:v}}finally{try{d&&!d.done&&(a=s.return)&&a.call(s)}finally{if(e)throw e.error}}},t.prototype.removeAllIndicators=function(){var n,t;try{for(var e=l.l(this.indicators),a=e.next();!a.done;a=e.next()){var i=a.value;this.removeSource.next(i),i.destroy()}}catch(r){n={error:r}}finally{try{a&&!a.done&&(t=e.return)&&t.call(e)}finally{if(n)throw n.error}}return this.shapeComments={},this.diagramComments={},Object(d.b)()},t.prototype.updateIndicatorPositions=function(n){var t,e,a,i,r,o;try{for(var u=l.l(Object.keys(this.diagramComments)),c=u.next();!c.done;c=u.next()){var s=c.value,d=this.diagramComments[s];this.positionDiagramCommentIndicator(d),this.changeSource.next(d)}}catch(m){t={error:m}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}try{for(var p=l.l(Object.keys(this.shapeComments)),h=p.next();!h.done;h=p.next()){var f=h.value;try{for(var b=(r=void 0,l.l(Object.keys(this.shapeComments[f]))),g=b.next();!g.done;g=b.next()){s=g.value,d=this.shapeComments[f][s];this.positionShapeCommentIndicator(d,n.shapes[f]),this.changeSource.next(d)}}catch(v){r={error:v}}finally{try{g&&!g.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}}}catch(O){a={error:O}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}},t.prototype.listenToSingleCommentInsertChanges=function(){var n=this;return this.state.changes("CommentThreadData").pipe(Object(h.a)((function(t){return n.listenToOpenPanelChanges().pipe(Object(m.a)((function(n){return!n})),Object(h.a)((function(){return t&&t.visible&&t.threadId&&t.comments.length?(n.createSingleCommentIndicator(t.comments[0]),Object(d.b)()):t&&!t.visible?n.userLocator.getCommentToggleState().pipe(Object(b.a)(),Object(f.a)((function(t){!t&&n.singleComment&&n.removeSingleCommentIndicator()}))):Object(d.b)()})))})))},t.prototype.createCommentIndicator=function(n){n.shapeId?this.createShapeCommentIndicator(n):this.createDiagramCommentIndicator(n)},t.prototype.createSingleCommentIndicator=function(n){this.singleComment=n,this.createCommentIndicator(n)},t.prototype.createDiagramCommentIndicator=function(n){if(n.locOnDiagram&&(!this.diagramComments[n.id]||this.diagramComments[n.id].model.resolved!==n.resolved)){var t=new I(n);this.positionDiagramCommentIndicator(t),this.setupCommentInteractions(t),this.diagramComments[n.id]=t,this.addSource.next(t)}},t.prototype.positionDiagramCommentIndicator=function(n){n.x=this.diagToViewport.x(n.model.locOnDiagram.x),n.y=this.diagToViewport.y(n.model.locOnDiagram.y)},t.prototype.createShapeCommentIndicator=function(n){var t=this;this.locator.getShapeOnce(n.shapeId).subscribe((function(e){if(t.shapeComments[n.shapeId]||(t.shapeComments[n.shapeId]={}),!t.shapeComments[n.shapeId][n.id]||t.shapeComments[n.shapeId][n.id].model.resolved!==n.resolved){var l=new I(n);t.positionShapeCommentIndicator(l,e),t.setupCommentInteractions(l),t.shapeComments[n.shapeId][n.id]=l,t.addSource.next(l)}}))},t.prototype.positionShapeCommentIndicator=function(n,t){if(!t)return this.positionDiagramCommentIndicator(n);var e=a.T.onRect(n.model.locOnShape,t.defaultBounds,t.transform);n.x=this.diagToViewport.x(e.x),n.y=this.diagToViewport.y(e.y)},t.prototype.removeCommentIndicator=function(n){var t=this.indicators.find((function(t){return t.model.id===n.id}));this.removeSource.next(t),this.hideCommentThreadView()},t.prototype.removeSingleCommentIndicator=function(){var n,t,e=this,a=this.singleComment.id,i=this.indicators.find((function(n){return n.model.id===e.singleComment.id}));if(this.removeSource.next(i),this.singleComment=null,this.diagramComments[a])delete this.diagramComments[a];else try{for(var r=l.l(Object.keys(this.shapeComments)),o=r.next();!o.done;o=r.next()){var u=o.value;this.shapeComments[u][a]&&delete this.shapeComments[u][a]}}catch(c){n={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}},t.prototype.setupCommentInteractions=function(n){var t=this;this.subs.push(Object(s.a)(n,"click").subscribe((function(){a.lb.track("right.comment.show",{value1Type:"trigger",value1:"canvas"});var e=n.model,l={visible:!0,threadId:e.id,comments:[e]};t.state.set("CommentThreadData",l)})))},t.prototype.showCommentThreadView=function(n,t){var e={visible:!0,shapeId:n,position:{x:this.viewToDiagram.x(t.x),y:this.viewToDiagram.y(t.y)}};this.state.set("CommentThreadData",e)},t.prototype.switchToNormalState=function(){this.state.set("MouseControlState",O.b.Normal)},t.prototype.hideCommentThreadView=function(){this.state.set("CommentThreadData",{})},t.SIDEBAR_STATE_KEY="RightSidebarPanel",t.SIDEBAR_STATE_VAL="diagramcomments",t=e=l.d([Object(S.a)(),l.g("design:paramtypes",[x.a,a.jb,i.b,a.p,y.a,C.a,T.q])],t)}(S.b)},fRBV:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var l=e("fQLH"),a=e("LiEJ"),i=e("gQst"),r=e("pN2L"),o=e("iUUs"),u=e("12aA"),c=function(){function n(){this.focused=new a.a(!1),this.subs=[],this.closed=new l.a}return n.prototype.ngAfterViewInit=function(){var n=this;this.subs.push(Object(i.a)(Object(r.a)(!1),Object(o.a)(this.libTileElem.nativeElement,"mouseenter").pipe(Object(u.a)(!0)),Object(o.a)(this.libTileElem.nativeElement,"mouseleave").pipe(Object(u.a)(!1))).subscribe((function(t){return n.focused.next(t)})))},n.prototype.ngOnDestroy=function(){for(;this.subs.length;)this.subs.pop().unsubscribe()},n}()},foQ2:function(n,t,e){"use strict";e.d(t,"b",(function(){return l})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return k}));var l,a,i=e("D57K"),r=e("Jzy8"),o=e("G2Mx"),u=e("AouM"),c=e("U3QC"),s=e("z5yO"),d=e("W/Ou"),p=e("R+ki"),h=e("Jg5f"),f=e("88Oa"),b=e("LiEJ"),g=e("fQLH"),m=e("pN2L"),v=e("d9YI"),O=e("gQst"),y=e("XWWj"),C=e("5xGT"),x=e("4y1S"),P=e("g3Dv"),S=e("B/3P"),w=e("xnGY"),I=e("c7W3"),T=(e("QoSw"),e("S0Xf"),e("NNJu")),_=e("nsO7"),E=e("C5+t"),j=e("Q4Fx");!function(n){n[n.ANY=1]="ANY",n[n.CREATED_BY_ME=2]="CREATED_BY_ME",n[n.SHARED_BY_ME=3]="SHARED_BY_ME",n[n.SHARED_BY_OTHERS=4]="SHARED_BY_OTHERS",n[n.NOT_SHARED=5]="NOT_SHARED",n[n.PRIVATE=6]="PRIVATE",n[n.PUBLIC=7]="PUBLIC"}(l||(l={})),function(n){n[n.LAST_UPDATED=1]="LAST_UPDATED",n[n.LAST_CREATED=2]="LAST_CREATED"}(a||(a={}));var k=function(){function n(n,t,e,i,r,o,u,c,s,d,p,h){this.projectLocator=n,this.userLocator=t,this.diagramInfoLocator=e,this.commandService=i,this.planPermManager=r,this.router=o,this.state=u,this.modelSubManager=c,this.logger=s,this.ll=d,this.changeDetectorRef=p,this.translate=h,this.id="folders",this.debounce=200,this.isFolderEmpty=new b.a(!1),this.isUserPaused=new b.a(!1),this.showLoadingIndicator=new b.a(!0),this.selectedTab=new b.a(null),this.projectDiagramNavigation=new g.a,this.columns=3,this.projectCount=new b.a(0),this.searchText=new g.a,this.permissionFilter=new b.a(l.ANY),this.sortOrder=new b.a(a.LAST_UPDATED),this.isExpandable=!0,this.subs=[]}return n.prototype.ngOnInit=function(){var n=this;this.subs.push(this.listenToSelectedProjectChange().subscribe(),this.listenToTabChanges().subscribe(),this.projectDiagramNavigation.pipe(Object(o.a)(1),Object(u.a)((function(){return n.ll.forCurrentObserver(!1).pipe(Object(o.a)(1),Object(u.a)((function(t){return t.getDiagramModel().pipe(Object(o.a)(1),Object(c.a)((function(t){var e="home";"string"==typeof t.project?e=t.project:t.project&&t.project.id&&(e=t.project.id),n.navigateToProjectDiagrams(e)})))})))}))).subscribe(),this.listenToSidebarStateChanges().subscribe(),this.checkUserPauseStatus().subscribe()),this.listenToDiagramListChanges(),this.projectList=this.projectLocator.getProjects().pipe(Object(u.a)((function(t){return n.searchList(t)})),Object(u.a)((function(t){return n.filterList(t)})),Object(u.a)((function(t){return n.sortList(t)})))},n.prototype.ngAfterViewInit=function(){var n=this;this.subs.push(this.filterDropDown.select.subscribe((function(t){n.permissionFilter.next(t.value)})),this.sortDropDown.select.subscribe((function(t){n.sortOrder.next(t.value)})))},n.prototype.onOpen=function(){this.isOffline||this.state.get("FolderPanelSelectedProject")||this.projectDiagramNavigation.next()},n.prototype.listenToTabChanges=function(){var n=this;return this.state.changes("FolderPanelSelectedTab").pipe(Object(c.a)((function(t){n.selectedTab.next(t),"folders"!==t&&"diagrams"!==t||n.dispatchGetUserProjects().subscribe()})))},n.prototype.listenToDiagramListChanges=function(){var n=this;this.diagramList=this.state.changes("FolderPanelSelectedTab").pipe(Object(u.a)((function(t){if("recent"===t)return n.dispatchGetRecentDiagrams().pipe(Object(u.a)((function(){return n.diagramInfoLocator.getRecentDiagrams().pipe(Object(u.a)((function(t){return n.searchList(t)})),Object(u.a)((function(t){return n.filterList(t)})),Object(u.a)((function(t){return n.sortList(t)})))})));if("diagrams"===t){var e=n.state.get("FolderPanelSelectedProject");return n.diagramInfoLocator.getDiagrams(e).pipe(Object(s.a)((function(){return n.diagramInfoLocator.hasProjectDiagrams(e)})),Object(c.a)((function(){n.isFolderEmpty.next(!1),n.showLoadingIndicator.next(!0)})),Object(u.a)((function(t){return n.searchList(t)})),Object(u.a)((function(t){return n.filterList(t)})),Object(u.a)((function(t){return n.sortList(t)})),Object(c.a)((function(t){var e=!(t.length>0);n.isFolderEmpty.next(e),n.showLoadingIndicator.next(!1)})))}return Object(m.a)([])})))},n.prototype.listenToSidebarStateChanges=function(){var n=this;return this.state.changes("LeftSidebarState").pipe(Object(u.a)((function(t){switch(n.sidebarState=t,n.changeDetectorRef.markForCheck(),t){case j.b.Expanding:return n.fadeContent(!1).start().pipe(Object(c.a)({complete:function(){return n.columns=3}}));case j.b.Shrinking:case j.b.Collapsing:return n.fadeContent(!1).start().pipe(Object(c.a)({complete:function(){n.columns=1,n.permissionFilter.next(l.ANY),n.sortOrder.next(a.LAST_UPDATED)}}));case j.b.Expanded:case j.b.Opened:return n.fadeContent().start();case j.b.Closed:return n.fadeContent(!1).start();default:return Object(v.b)()}})))},n.prototype.fadeContent=function(n){void 0===n&&(n=!0);var t={opacity:1},e={opacity:0},l=e,a=t;n||(l=t,a=e);var i=new T.c({from:l,to:a,transitionProperty:"opacity",duration:50,easing:"linear"});return i.element=this.contentContainer.nativeElement,i},n.prototype.listenToSelectedProjectChange=function(){var n=this;return this.state.changes("FolderPanelSelectedProject").pipe(Object(s.a)((function(n){return n&&""!==n})),Object(c.a)((function(t){return n.projectMdl=n.projectLocator.getProject(t)})),Object(u.a)((function(t){return n.dispatchGetProjectDiagrams(t)})))},n.prototype.searchList=function(n){return this.searchText.pipe(Object(d.a)(""),Object(p.a)(this.debounce),Object(h.a)((function(t){return t?Object(y.go)(t,n,{key:"name"}).map((function(n){return n.obj})):n})))},n.prototype.checkUserPauseStatus=function(){var n=this;return this.userLocator.isUserPaused().pipe(Object(o.a)(1),Object(c.a)((function(t){t?n.isUserPaused.next(!0):n.isUserPaused.next(!1)})))},n.prototype.filterList=function(n){var t=this;return this.permissionFilter.pipe(Object(h.a)((function(e){var a=t.state.get("CurrentUser");switch(e){case l.ANY:return n;case l.CREATED_BY_ME:return n.filter((function(n){return!!n.collabs&&n.collabs.filter((function(n){return n.id===a&&n.role===r.f.OWNER})).length>0}));case l.SHARED_BY_ME:return n.filter((function(n){return!!n.collabs&&n.collabs.length>1&&n.collabs.filter((function(n){return n.id===a&&n.role===r.f.OWNER})).length>0}));case l.SHARED_BY_OTHERS:return n.filter((function(n){return!!n.collabs&&n.collabs.length>1&&n.collabs.filter((function(n){return n.id===a&&(n.role===r.f.EDITOR||n.role===r.f.REVIEWER)})).length>0}));case l.NOT_SHARED:return n.filter((function(n){return!!n.collabs&&1===n.collabs.length&&n.collabs.filter((function(n){return n.id===a&&n.role===r.f.OWNER})).length>0}));case l.PRIVATE:return n.filter((function(n){return!!n.privacy&&n.privacy.level===x.j.SPECIFIC&&!!n.collabs&&1===n.collabs.length}));case l.PUBLIC:return n.filter((function(n){return!!n.privacy&&n.privacy.level===x.j.PUBLIC}));default:return n}})))},n.prototype.sortList=function(n){return this.sortOrder.pipe(Object(h.a)((function(t){switch(t){case a.LAST_UPDATED:return Object(_.orderBy)(n,["lastUpdated"],["desc"]);case a.LAST_CREATED:return Object(_.orderBy)(n,["createdTime"],["desc"]);default:return n}})))},n.prototype.dispatchGetProjectDiagrams=function(n){return this.diagramInfoLocator.hasProjectDiagrams(n)?(this.commandService.dispatch(r.m.getProjectDiagrams,n,null),Object(m.a)(void 0)):this.commandService.dispatch(r.m.getProjectDiagrams,n,null).pipe(Object(f.a)())},n.prototype.dispatchGetRecentDiagrams=function(){return this.diagramInfoLocator.hasRecentDiagrams()?(this.commandService.dispatch(I.a.getRecentDiagrams),Object(m.a)([])):this.commandService.dispatch(I.a.getRecentDiagrams).pipe(Object(f.a)())},n.prototype.dispatchGetUserProjects=function(){var n=this;return this.commandService.dispatch(r.m.getUserProjects).pipe(Object(f.a)(),Object(c.a)((function(t){n.showLoadingIndicator.next(!0),n.projectCount.next(t.resultData[0].projectIds.length)})),Object(u.a)((function(t){n.showLoadingIndicator.next(!1);var e=t.resultData[0].projectIds;return n.startSubscriptions(e)})))},n.prototype.startSubscriptions=function(n){var t=this;if(n&&n.length){var e=n.filter((function(n){return"home"!==n})).map((function(n){return t.modelSubManager.start(r.p,n).pipe(Object(u.a)((function(n){return n.status})),Object(s.a)((function(n){return n.subStatus!==w.e.created})),Object(c.a)((function(n){n.subStatus===w.e.errored&&t.logger.error("Error occurred when starting project subscription: ",n.error)})),Object(o.a)(1))}));return O.a.apply(void 0,i.k(e))}throw new Error("No ids were received by the GetUserProjects command.")},n.prototype.createDiagram=function(){var n=this;if(C.lb.track("left.folder.createDocument.click",{value1Type:"location",value1:""+this.selectedTab.getValue()}),!this.planPermManager.check([P.m.DIAGRAM_CREATE_PRIVATE])&&!this.planPermManager.check([P.m.DIAGRAM_CREATE_PUBLIC]))throw new x.h("Diagram create permission is denied",i.a({},S.a[P.m.DIAGRAM_CREATE_PUBLIC],{descriptionParams:{maxUsage:this.planPermManager.getMaxUsage(P.m.DIAGRAM_CREATE_PUBLIC)}}));this.router.navigate(["start/new","project",this.state.get("FolderPanelSelectedProject")]).catch((function(t){return n.handlePermError(t)}))},n.prototype.handlePermError=function(n){n.data&&setTimeout((function(){throw new x.h("diagram create failed",n.data)}))},n.prototype.createFolder=function(){var n=this;if(C.lb.track("left.folder.createFolder.click"),!this.planPermManager.check([P.m.PROJECT_CREATE]))throw new x.h("Project create permission is denied",S.a[P.m.PROJECT_CREATE]);var t=C.X.projectId(),e=this.commandService.dispatch(r.m.createProject,{id:t}).pipe(Object(f.a)(),Object(c.a)((function(t){n.navigateToProjectDiagrams(t.eventData.id)}))).subscribe();this.subs.push(e)},n.prototype.setSelectedTab=function(n){this.state.set("FolderPanelSelectedTab",n)},n.prototype.onSearchInputClick=function(){C.lb.track("left.folder.search",{value1Type:"location",value1:""+this.state.get("FolderPanelSelectedTab")})},n.prototype.navigateToProjectList=function(){this.setSelectedTab("folders"),this.setSelectedProject("home"),this.projectMdl=null},n.prototype.navigateToProjectDiagrams=function(n){this.setSelectedProject(n),this.setSelectedTab("diagrams")},n.prototype.setSelectedProject=function(n){this.state.set("FolderPanelSelectedProject",n)},n.prototype.renameProject=function(n,t){this.commandService.dispatch(r.m.renameProject,n,{name:t})},Object.defineProperty(n.prototype,"filterOptions",{get:function(){return[{label:this.translate.instant("PERMISSION_STATES.NONE"),value:l.ANY,select:this.permissionFilter.value===l.ANY},{label:this.translate.instant("PERMISSION_STATES.CREATED_BY_ME"),value:l.CREATED_BY_ME,select:this.permissionFilter.value===l.CREATED_BY_ME},{label:this.translate.instant("PERMISSION_STATES.SHARED_BY_ME"),value:l.SHARED_BY_ME,select:this.permissionFilter.value===l.SHARED_BY_ME},{label:this.translate.instant("PERMISSION_STATES.SHARED_BY_OTHERS"),value:l.SHARED_BY_OTHERS,select:this.permissionFilter.value===l.SHARED_BY_OTHERS},{label:this.translate.instant("PERMISSION_STATES.NOT_SHARED"),value:l.NOT_SHARED,select:this.permissionFilter.value===l.NOT_SHARED},{label:this.translate.instant("PERMISSION_STATES.PRIVATE"),value:l.PRIVATE,select:this.permissionFilter.value===l.PRIVATE},{label:this.translate.instant("PERMISSION_STATES.PUBLIC"),value:l.PUBLIC,select:this.permissionFilter.value===l.PUBLIC}]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortOptions",{get:function(){return[{label:this.translate.instant("SORT_ORDERS.LAST_UPDATED"),value:a.LAST_UPDATED,select:this.sortOrder.value===a.LAST_UPDATED},{label:this.translate.instant("SORT_ORDERS.LAST_CREATED"),value:a.LAST_CREATED,select:this.sortOrder.value===a.LAST_CREATED}]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"appConnectionStatus",{get:function(){var n=this;return this.state.changes(E.c).pipe(Object(c.a)((function(t){t===E.c.ONLINE&&"folders"===n.state.get("SelectedLeftPanel")&&n.state.get("LeftSidebarState")===j.b.Opened&&n.onOpen()})))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isOffline",{get:function(){return this.state.get(E.c)===E.c.OFFLINE},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){for(;this.subs.length>0;)this.subs.pop().unsubscribe()},n}()},gg05:function(n,t,e){"use strict";e.d(t,"a",(function(){return d}));var l=e("nsO7"),a=e("fQLH"),i=e("gQst"),r=e("d9YI"),o=e("0cIN"),u=e("12aA"),c=e("AouM"),s=e("U3QC"),d=(e("5xGT"),function(){function n(n){this.state=n,this.mouseEnterStream=new a.a,this.mouseLeaveStream=new a.a,this.subs=[]}return n.prototype.mouseEnter=function(n,t){this.mouseEnterStream.next({item:n,event:t})},n.prototype.mouseLeave=function(n){this.mouseLeaveStream.next(n)},n.prototype.ngAfterViewInit=function(){var n=this;this.subs.push(Object(i.a)(this.mouseEnterStream,this.mouseLeaveStream.pipe(Object(u.a)(!1))).pipe(Object(c.a)((function(t){return t?n.handleMouseEnter(t):n.handleMouseOut()}))).subscribe())},n.prototype.ngOnDestroy=function(){for(;this.subs.length;)this.subs.pop().unsubscribe()},n.prototype.handleMouseEnter=function(n){var t=n.event.target.getBoundingClientRect(),e=n.event.target.offsetParent.getBoundingClientRect();return this.state.set("CurrentLibraryPreview",{id:n.item.id,x:e.width+e.x,y:t.top,item:n.item}),Object(r.b)()},n.prototype.handleMouseOut=function(){var n=this;return Object(o.a)(10).pipe(Object(s.a)((function(){Object(l.isEqual)(n.state.get("CurrentLibraryPreview"),{})||n.state.set("CurrentLibraryPreview",{})})))},n.prototype.handleDragStart=function(n,t){Object(l.isEqual)(this.state.get("CurrentLibraryPreview"),{})||this.state.set("CurrentLibraryPreview",{});var e=n.target.querySelector(".shape-thumbnail-image");n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("Text",JSON.stringify(t)),n.dataTransfer.setDragImage(e,e.width/2,e.height/2)},n.prototype.createTemplateLibraryItem=function(n){return{id:n.defId,text:{title:n.name},popoverCssClass:"lib-preview-container",type:"template",data:n,thumbnailType:"image",thumbnailUrl:n.thumbnail}},n}())},jDMA:function(n,t,e){"use strict";var l=e("D57K"),a=e("qMyy"),i=e("5xGT"),r=e("nsO7"),o=e("fQLH"),u=e("gQst"),c=e("pN2L"),s=e("d9YI"),d=e("mUyW"),p=e("z5yO"),h=e("AouM"),f=e("U3QC"),b=e("G2Mx"),g=e("4HYP"),m=e("Jg5f"),v=e("w1VY"),O=e("7zx0"),y=e("flPR"),C=e("h1tj"),x=function(n){function t(t,e){var l=n.call(this)||this;return l.peerId=t,l.user=e,l.onChange=function(){return null},l.prepare(),l}return l.e(t,n),t.prototype.destroy=function(){},t.prototype.animate=function(n,e,l){void 0===l&&(l=t.ANIMATION_DURATION),C.Tween.get(this,{override:!0,onChange:this.onChange}).to({x:n,y:e},l,C.Ease.linear)},t.prototype.prepare=function(){var n=new C.Shape;n.graphics.clear(),n.graphics.beginFill(this.user.displayColor),n.graphics.moveTo(0,0),n.graphics.lineTo(3,12),n.graphics.lineTo(4,4),n.graphics.lineTo(12,3),n.graphics.lineTo(0,0),n.graphics.endFill();var t=new C.Text(this.user.fullName,"12px Arial","#fff");t.x=12,t.y=12;var e=new C.Shape,l=t.getMeasuredWidth()+12,a=t.getMeasuredHeight()+12;e.graphics.beginFill(this.user.displayColor),e.graphics.drawRect(6,6,l,a),e.graphics.endFill(),this.addChild(n),this.addChild(e),this.addChild(t)},t.ANIMATION_DURATION=100,t}(C.Container),P=e("wkcE");e.d(t,"a",(function(){return S}));var S=function(n){function t(t,e,l,a,i){var r=n.call(this,t)||this;return r.state=t,r.diagToViewport=e,r.realtimeStates=l,r.commandService=a,r.collabLocator=i,r.addSource=new o.a,r.removeSource=new o.a,r.changeSource=new o.a,r.pointers={},r.pointerData={},r}var e;return l.e(t,n),e=t,t.prototype.initialize=function(){var n=this;this.subs.push(this.state.changes("RealtimeConnectionStatus").pipe(Object(p.a)((function(n){return n===O.a.ONLINE})),Object(h.a)((function(){return n.state.changes("CurrentDiagram").pipe(Object(f.a)((function(){n.removeAllIndicators()})),Object(h.a)((function(){return Object(u.a)(n.listenToViewportChanges(),n.listenToRealtimePointerStates(),n.listenToRealtimeSelectedStates(),n.listenToAddedPeers(),n.listenToCleanupInterval(),n.listenToRemovedPeers())})))}))).subscribe())},Object.defineProperty(t.prototype,"indicators",{get:function(){return Object(r.values)(this.pointers)},enumerable:!0,configurable:!0}),t.prototype.createAddSource=function(){return this.addSource},t.prototype.createRemoveSource=function(){return this.removeSource},t.prototype.createChangeSource=function(){return this.changeSource},t.prototype.listenToRealtimeSelectedStates=function(){var n=this;return this.realtimeStates.get(e.KEY_SELECTED).pipe(Object(f.a)((function(t){var e=JSON.parse(t.value),l=n.state.get("Selected").filter((function(n){return e.includes(n)}));l.length&&n.commandService.dispatch(a.a.selectShapes,{shapeIds:l,remove:!0}),n.updateSelectionBlockState(t.userId,e)})))},t.prototype.listenToAddedPeers=function(){var n=this;return this.realtimeStates.addedPeers().pipe(Object(h.a)((function(t){return n.realtimeStates.get(e.KEY_POINTERS).pipe(Object(p.a)((function(n){return n.peerId===t})),Object(b.a)(1))})),Object(f.a)((function(){n.realtimeStates.set("selected",JSON.stringify(n.state.get("Selected")))})))},t.prototype.updateSelectionBlockState=function(n,t){var e=this.state.get("SelectionBlocked"),l=e.find((function(t){return t.userId===n}));l?(l.selected=t,this.state.set("SelectionBlocked",e)):(e.push({userId:n,selected:t}),this.state.set("SelectionBlocked",e))},t.prototype.listenToRealtimePointerStates=function(){var n=this;return this.realtimeStates.get(e.KEY_POINTERS).pipe(Object(g.a)((function(t){var e=Boolean(n.pointerData[t.peerId]);return n.pointerData[t.peerId]=JSON.parse(t.value),n.pointerTime[t.peerId]=Date.now(),n.pointers[t.peerId]?Object(c.a)(n.pointers[t.peerId]):e?Object(s.b)():n.collabLocator.getCollab(t.userId).pipe(Object(p.a)((function(n){return!!n})),Object(b.a)(1),Object(m.a)((function(e){return n.createRealtimePointerIndicator(e,t.peerId)})))})),Object(f.a)((function(t){n.updateRealtimePointerIndicator(t)})))},t.prototype.listenToViewportChanges=function(){var n=this;return Object(u.a)(this.state.changes("DiagramPan"),this.state.changes("DiagramZoomLevel")).pipe(Object(f.a)((function(){return n.updateIndicatorPositions()})))},t.prototype.listenToCleanupInterval=function(){var n=this;return Object(d.a)(e.TIME_INACTIVE).pipe(Object(f.a)((function(){return n.removeOldIndicators()})))},t.prototype.listenToRemovedPeers=function(){var n=this;return this.realtimeStates.removedPeers().pipe(Object(f.a)((function(t){return n.removeIndicator(t)})))},t.prototype.removeIndicator=function(n){var t=this.pointers[n];t&&this.updateSelectionBlockState(t.user.id,[]);var e=this.indicators.findIndex((function(n){return n===t}));return this.indicators.splice(e,1),this.removeSource.next(t),delete this.pointers[n],delete this.pointerData[n],delete this.pointerTime[n],Object(s.b)()},t.prototype.removeAllIndicators=function(){var n,t;try{for(var e=l.l(this.indicators),a=e.next();!a.done;a=e.next()){var i=a.value;this.removeSource.next(i),i.destroy()}}catch(r){n={error:r}}finally{try{a&&!a.done&&(t=e.return)&&t.call(e)}finally{if(n)throw n.error}}return this.pointers={},this.pointerData={},this.pointerTime={},Object(s.b)()},t.prototype.removeOldIndicators=function(){var n,t,a=Date.now()-e.TIME_INACTIVE;try{for(var i=l.l(Object.entries(this.pointerTime)),r=i.next();!r.done;r=i.next()){var o=l.i(r.value,2),u=o[0];o[1]<a&&this.removeIndicator(u)}}catch(c){n={error:c}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return Object(s.b)()},t.prototype.updateIndicatorPositions=function(){var n,t;try{for(var e=l.l(Object.keys(this.pointers)),a=e.next();!a.done;a=e.next()){var i=a.value,r=this.pointers[i];this.updateRealtimePointerIndicator(r)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(t=e.return)&&t.call(e)}finally{if(n)throw n.error}}},t.prototype.createRealtimePointerIndicator=function(n,t){var e=this,l=new x(t,n);return this.pointers[t]=l,this.addSource.next(l),l.onChange=function(){return e.changeSource.next(l)},this.updateRealtimePointerIndicator(l,!1),l},t.prototype.updateRealtimePointerIndicator=function(n,t){void 0===t&&(t=!0);var e=this.pointerData[n.peerId],l=this.diagToViewport.x(e[0]),a=this.diagToViewport.y(e[1]);t?n.animate(l,a):(n.x=l,n.y=a)},t.KEY_POINTERS="pointer",t.KEY_SELECTED="selected",t.TIME_INACTIVE=6e4,t=e=l.d([Object(y.a)(),l.g("design:paramtypes",[i.jb,v.a,O.b,i.p,P.a])],t)}(y.b)},kZAw:function(n,t,e){"use strict";e.d(t,"a",(function(){return d}));var l=e("D57K"),a=(e("xcrX"),e("gg05")),i=e("g3Dv"),r=e("fa4O"),o=e("Jg5f"),u=e("G2Mx"),c=e("pday"),s=e("U3QC"),d=(e("hX56"),e("5xGT"),function(n){function t(t,e,l){var a=n.call(this,l)||this;return a.loader=t,a.dataStore=e,a.state=l,a}return l.e(t,n),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(n){var t=this;this._id=n;var e=this.loader.load(this._id).pipe(Object(r.a)());this.title=e.pipe(Object(o.a)((function(n){return n.name}))),this.items=e.pipe(Object(o.a)((function(n){return n.defs.filter((function(n){return n.type!==i.o.Connector})).map((function(n){return t.createLibraryItem(n)}))}))),this.setLibraryLoadedStatus(n).subscribe()},enumerable:!0,configurable:!0}),t.prototype.setLibraryLoadedStatus=function(n){var t=this;return this.items.pipe(Object(u.a)(1),Object(c.a)(10),Object(s.a)((function(){var e=t.state.get("CurrentLibraries")||[],l=e[e.findIndex((function(t){return t.id===n}))];l&&(l.status="loaded",t.state.set("CurrentLibraries",e))})))},t.prototype.createLibraryItem=function(n){return"template"===n.type?this.createTemplateLibraryItem(n):this.createShapeLibraryItem(n)},t.prototype.createShapeLibraryItem=function(n){return{id:n.defId,text:{title:n.name},popoverCssClass:"lib-preview-container",type:"shape",data:n,thumbnailType:"canvas",canvasIdPrefix:"thumb"}},t}(a.a))},kxSR:function(n,t,e){"use strict";e.d(t,"a",(function(){return g}));var l=e("yA6Q"),a=e("LoAr"),i=e("M8KF"),r=e("fRBV"),o=e("WT9V"),u=e("kZAw"),c=e("xcrX"),s=e("1gc2"),d=e("24h1"),p=[l.a],h=a.Fb({encapsulation:0,styles:p,data:{}});function f(n){return a.dc(0,[(n()(),a.Hb(0,0,null,null,1,"library-tile",[],null,[[null,"dragstart"],[null,"mouseenter"],[null,"mouseleave"]],(function(n,t,e){var l=!0,a=n.component;"dragstart"===t&&(l=!1!==a.handleDragStart(e,n.context.$implicit.data)&&l);"mouseenter"===t&&(l=!1!==a.mouseEnter(n.context.$implicit,e)&&l);"mouseleave"===t&&(l=!1!==a.mouseLeave(e)&&l);return l}),i.b,i.a)),a.Gb(1,4374528,[["tile",4]],0,r.a,[],{item:[0,"item"]},null)],(function(n,t){n(t,1,0,t.context.$implicit)}),null)}function b(n){return a.dc(2,[(n()(),a.wb(16777216,null,null,2,null,f)),a.Gb(1,278528,null,0,o.j,[a.db,a.Y,a.z],{ngForOf:[0,"ngForOf"]},null),a.Vb(131072,o.b,[a.i])],(function(n,t){var e=t.component;n(t,1,0,a.cc(t,1,0,a.Tb(t,2).transform(e.items)))}),null)}var g=a.Db("ng-component",u.a,(function(n){return a.dc(0,[(n()(),a.Hb(0,0,null,null,1,"ng-component",[],null,null,null,b,h)),a.Gb(1,4374528,null,0,u.a,[c.a,s.a,d.a],null,null)],null,null)}),{},{mouseEnterStream:"mouseEnterStream",mouseLeaveStream:"mouseLeaveStream"},[])},ok3v:function(n,t,e){"use strict";var l=e("LoAr"),a=e("zZcu"),i=e("K84q"),r=e("uIWG"),o=e("WT9V"),u=e("jHi0"),c=e("K0+f"),s=e("uQan"),d=e("xEGh"),p=e("r78O"),h=e("Wrqg"),f=e("4ifF"),b=e("igS9"),g=function(){},m=[[".thumbnail-loader-container[_ngcontent-%COMP%]{width:100%;position:absolute;top:10px;left:0}.thumbnail-loader-inner[_ngcontent-%COMP%]{width:70px;height:75px}"]],v=l.Fb({encapsulation:0,styles:m,data:{}});function O(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,13,"div",[["class","thumbnail-loader-container white fx-center-all"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,12,"div",[["class","thumbnail-loader-inner"]],null,null,null,null,null)),(n()(),l.Hb(2,0,null,null,11,":svg:svg",[["viewBox","0 0 24.51 30"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,0,":svg:rect",[["height","2.59"],["rx","1.03"],["ry","1.03"],["style","fill:#f1f0f0"],["width","7.91"],["x","8.15"],["y","5.71"]],null,null,null,null,null)),(n()(),l.Hb(4,0,null,null,0,":svg:rect",[["height","2.59"],["rx","1.03"],["ry","1.03"],["style","fill:#f1f0f0"],["width","6.24"],["x","3.72"],["y","14.88"]],null,null,null,null,null)),(n()(),l.Hb(5,0,null,null,0,":svg:rect",[["height","2.59"],["rx","1.03"],["ry","1.03"],["style","fill:#f1f0f0"],["width","4.38"],["x","3.2"],["y","22.61"]],null,null,null,null,null)),(n()(),l.Hb(6,0,null,null,0,":svg:rect",[["height","2.59"],["rx","1.03"],["ry","1.03"],["style","fill:#f1f0f0"],["width","4.38"],["x","10.31"],["y","22.61"]],null,null,null,null,null)),(n()(),l.Hb(7,0,null,null,0,":svg:rect",[["height","2.59"],["rx","1.03"],["ry","1.03"],["style","fill:#f1f0f0"],["width","4.38"],["x","17.2"],["y","22.61"]],null,null,null,null,null)),(n()(),l.Hb(8,0,null,null,0,":svg:rect",[["height","2.59"],["rx","1.03"],["ry","1.03"],["style","fill:#f1f0f0"],["width","6.24"],["x","14.2"],["y","14.88"]],null,null,null,null,null)),(n()(),l.Hb(9,0,null,null,0,":svg:line",[["style","fill:none;stroke:#f1f0f0;stroke-miterlimit:10"],["x1","12.11"],["x2","12.11"],["y1","8.27"],["y2","12.83"]],null,null,null,null,null)),(n()(),l.Hb(10,0,null,null,0,":svg:polyline",[["points","6.9 15.24 6.9 12.35 17.32 12.35 17.32 15.33"],["style","fill:none;stroke:#f1f0f0;stroke-miterlimit:10"]],null,null,null,null,null)),(n()(),l.Hb(11,0,null,null,0,":svg:polyline",[["points","17.32 16.17 17.32 19.81 5.39 19.81 5.39 22.87"],["style","fill:none;stroke:#f1f0f0;stroke-miterlimit:10"]],null,null,null,null,null)),(n()(),l.Hb(12,0,null,null,0,":svg:line",[["style","fill:none;stroke:#f1f0f0;stroke-miterlimit:10"],["x1","12.5"],["x2","12.5"],["y1","22.87"],["y2","19.81"]],null,null,null,null,null)),(n()(),l.Hb(13,0,null,null,0,":svg:polyline",[["points","19.39 22.87 19.39 19.81 17.04 19.81"],["style","fill:none;stroke:#f1f0f0;stroke-miterlimit:10"]],null,null,null,null,null))],null,null)}l.Db("thumbnail-loader",g,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"thumbnail-loader",[],null,null,null,O,v)),l.Gb(1,49152,null,0,g,[],null,null)],null,null)}),{},{},[]);var y=function(){function n(n,t){this._context={ngLet:null},n.createEmbeddedView(t,this._context)}return Object.defineProperty(n.prototype,"ngLet",{set:function(n){this._context.ngLet=n},enumerable:!0,configurable:!0}),n}(),C=e("Iy/v"),x=e("LKRB"),P=e("Ssle"),S=e("D57K"),w=e("Jzy8"),I=e("c7W3"),T=e("5xGT"),_=e("g3Dv"),E=(e("NNJu"),e("LiEJ")),j=e("pN2L"),k=e("z5yO"),M=e("lqvn"),D=e("AouM"),A=e("G2Mx"),L=e("IMYO"),R=e("U3QC"),H=e("fa4O"),G=e("4y1S"),U=e("nsO7"),N=e("JupZ"),F=(e("xnGY"),e("B/3P")),V=e("P1E4"),Y=e("yn08"),B=function(){function n(n,t,e,l,a,i,r,o,u,c,s,d,p){this.resourceLoader=n,this.state=t,this.commandService=e,this.modalController=l,this.dialogBoxController=a,this.rolePermService=i,this.router=r,this.random=o,this.logger=u,this.planPermManager=c,this.documentManage=s,this.elementRef=d,this.modelSubManager=p,this.enteredToViewport=new E.a(!1),this._thumbnailUrl=new E.a(void 0),this.renameMode=new E.a("inactive"),this.showBrokenThumbnail=new E.a(!1),N.offset({bottom:-400})}return Object.defineProperty(n.prototype,"isCurrent",{get:function(){return this.state.get("CurrentDiagram")===this.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollCheck",{set:function(n){!this.enteredToViewport.value&&N.is(this.elementRef.nativeElement)&&this.enteredToViewport.next(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnailUrl",{set:function(n){this._thumbnailUrl.next(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnailUrlSub",{get:function(){return this._thumbnailUrl},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.thumbnailSVG=this._thumbnailUrl.pipe(Object(k.a)((function(n){return n&&n.length>0})),Object(M.a)(),Object(D.a)((function(t){var e=t.split("?")[0];return n.enteredToViewport.pipe(Object(k.a)((function(n){return!!n})),Object(A.a)(1),Object(D.a)((function(){return n.resourceLoader.forceLoad(t,e).pipe(Object(L.a)((function(t){return T.K.warning("Thumbnail loading failed for diagram:",n.id),n.showBrokenThumbnail.next(!0),Object(j.a)(void 0)})),Object(R.a)((function(t){return n.svgImageElement.nativeElement.innerHTML=t})))})))}))),this.roleObs=this.rolePermService.getCurrentUserRole(this.id).pipe(Object(H.a)())},n.prototype.showOptDropdown=function(){this.dropdown&&!this.isUserPaused&&(this.dropdown.nativeElement.style.display="block")},n.prototype.hideOptDropdown=function(){this.dropdown&&!this.isUserPaused&&(this.dropdown.nativeElement.style.display="none")},n.prototype.showDeleteConfimationDialog=function(){var n=this;T.lb.track("center.diagram.delete.click",{value1Type:"diagramId",value1:this.id});var t={id:"left-sb-delete-diagram-confirmation",heading:"DIALOG_BOX.DELETE_DIAGRAM.HEADING",description:"DIALOG_BOX.DELETE_DIAGRAM.DESCRIPTION",descriptionParams:{diagramName:this.name},type:"warning",icon:"warning",buttons:[{type:"ok",text:"BUTTONS.DELETE_DIAGRAM",clickHandler:function(){return n.deleteDiagram()}},{type:"cancel",text:"BUTTONS.CANCEL",clickHandler:function(){T.lb.track("dialog.diagramdelete.cancel.click",{value1Type:"diagramId",value1:n.id})}}]};this.dialogBoxController.showDialog(t)},n.prototype.deleteDiagram=function(){T.lb.track("left.folder.document.delete.click",{value1Type:"location",value1:this.state.get("FolderPanelSelectedTab")});var n=this.getNextAvailDiagram(this.id);this.documentManage.deleteDiagram(this.id,n).subscribe()},n.prototype.getNextAvailDiagram=function(n){var t=this.state.get("FolderPanelSelectedTab");if("diagrams"===t){var e=this.state.get("FolderPanelSelectedProject"),l=Object(U.clone)(this.state.get("ProjectDiagrams")[e]);if(l&&l.length>1)return l.reverse(),this.findNextAvailDiagram(l,n)}else if("recent"===t){var a=this.state.get("RecentDiagrams");if(a&&a.length>1)return this.findNextAvailDiagram(a,n)}return""},n.prototype.findNextAvailDiagram=function(n,t){var e=n.findIndex((function(n){return n.id===t})),l=n[e+1];return l?l.id:n[0].id},n.prototype.moveDiagram=function(n){T.lb.track("left.folder.document.move.change",{value1Type:"location",value1:this.state.get("FolderPanelSelectedTab")}),this.modalController.show(w.l,{inputs:{diagramIds:[n],name:this.name,sourceProjectId:this.state.get("FolderPanelSelectedProject")}})},n.prototype.duplicateDiagram=function(){T.lb.track("left.folder.document.duplicate.click",{value1Type:"location",value1:this.state.get("FolderPanelSelectedTab")});var n=this.random.diagramId();this.logger.debug("Creating diagram from template. Diagram id : "+n+" Template id "+this.id),this.dispatchCreateCommand({id:n,templateId:this.id,type:"duplicate"})},n.prototype.dispatchCreateCommand=function(n){var t,e=this;if(this.planPermManager.check([_.m.DIAGRAM_CREATE_PRIVATE]))t=V.a.createDiagramPrivate;else{if(!this.planPermManager.check([_.m.DIAGRAM_CREATE_PUBLIC]))throw new G.h("Diagram create permission is denied",S.a({},F.a[_.m.DIAGRAM_CREATE_PUBLIC],{descriptionParams:{maxUsage:this.planPermManager.getMaxUsage(_.m.DIAGRAM_CREATE_PUBLIC)}}));t=V.a.createDiagramPublic}var l=this.state.get("FolderPanelSelectedProject");this.logger.debug("Creating diagram with id : "+n.id),this.commandService.dispatch(t,l,n).subscribe({error:function(n){e.handleDiagramPermissionError(n)},complete:function(){e.gotoEditor(n.id)}})},n.prototype.handleDiagramPermissionError=function(n){if(1611===n.code)throw new G.h("Diagram create permission is denied by creator",S.a({},F.a[_.m.DIAGRAM_CREATE_PUBLIC],{descriptionParams:{maxUsage:this.planPermManager.getMaxUsage(_.m.DIAGRAM_CREATE_PUBLIC)}}));if(1612===n.code)throw new G.h("Diagram create permission is denied by creator",S.a({},F.a[_.m.DIAGRAM_CREATE_PRIVATE],{descriptionParams:{maxUsage:this.planPermManager.getMaxUsage(_.m.DIAGRAM_CREATE_PRIVATE)}}))},n.prototype.gotoEditor=function(n){this.router.navigate(["../",n,"edit"])},n.prototype.renameDiagram=function(n){T.lb.track("left.folder.document.rename.change",{value1Type:"location",value1:this.state.get("FolderPanelSelectedTab")}),this.renameMode.next("inactive"),this.commandService.dispatch(I.a.renameDiagram,this.id,{name:n})},n.prototype.enableRenameMode=function(){T.lb.track("left.folder.document.rename.click",{value1Type:"location",value1:this.state.get("FolderPanelSelectedTab")}),this.renameMode.next("active"),this.hideOptDropdown()},n.prototype.navToSelectedDiagram=function(n){var t=this,e=this.state.get("CurrentDiagram");"start"!==e?e===n?this.state.set("SelectedLeftPanel","shapes"):this.modelSubManager.stop(this.state.get("CurrentDiagram"),!0).pipe(Object(A.a)(1),Object(R.a)((function(){t.state.get("InterfaceControlState")===Y.a.View?t.router.navigate(["../",n,"view"]):t.router.navigate(["../",n,"edit"])}))).subscribe():this.state.get("InterfaceControlState")===Y.a.View?this.router.navigate(["../",n,"view"]):this.router.navigate(["../",n,"edit"])},n}(),W=e("24h1"),z=e("2Lc/"),Q=e("cV4H"),K=e("SmjR"),J=e("tK+2"),X=e("981U"),q=e("EO1a"),Z=e("r8Pd"),$=e("QoCR"),nn=e("IMdi"),tn=e("Yk6z"),en=[[".thumbnail-item[_ngcontent-%COMP%]{border:1px solid #d3d3e7;border-radius:4px;cursor:pointer;display:block;color:#04263d;position:relative;margin-bottom:10px;background-color:#fff;box-shadow:0 2px 2px #c3c3de;width:196px}.thumbnail-item.selected[_ngcontent-%COMP%], .thumbnail-item[_ngcontent-%COMP%]:hover{border:1px solid #fff6e1}.thumbnail-item[_ngcontent-%COMP%]:hover   .project-thumbnail-dd[_ngcontent-%COMP%]{display:inline-block}.thumbnail-item-text[_ngcontent-%COMP%]{height:50px;position:relative}.thumbnail-item-lock[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;z-index:1}.thumbnail-item-lock[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#aaa}.thumbnail-dd[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;display:none}.thumbnail-dd[_ngcontent-%COMP%]   .nu-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.thumbnail-dd-button[_ngcontent-%COMP%]:hover   .nu-icon[_ngcontent-%COMP%]{color:#fff}.thumbnail-item-inner[_ngcontent-%COMP%]{max-height:40px;line-height:20px;overflow:hidden;padding-left:30px;padding-right:30px;word-break:break-word}.thumbnail-dd-item[_ngcontent-%COMP%]{width:100px;padding:10px;background:#fff;border:1px solid #dcdcdc;border-radius:4px;display:none;position:absolute;z-index:1;right:0}.thumbnail-dd-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:10px;display:block}.thumbnail-dd-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.thumbnail-dd[_ngcontent-%COMP%]:hover   .thumbnail-dd-item[_ngcontent-%COMP%]{display:block}.diagram-thumbnail-item-img-container[_ngcontent-%COMP%]{overflow:hidden;text-align:center;height:135px;padding:20px 20px 0}.diagram-thumbnail-item-img-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:115px}.diagram-thumbnail-item-img-container[_ngcontent-%COMP%]   .diagram-thumbnail-broken[_ngcontent-%COMP%]{margin-left:10px}.diagram-thumbnail-item-img[_ngcontent-%COMP%]{max-height:100%;max-width:100%}.diagram-thumbnail-item-img[_ngcontent-%COMP%]  svg{max-height:115px;max-width:152px}"]],ln=l.Fb({encapsulation:0,styles:en,data:{}});function an(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,10,"div",[["class","thumbnail-item-lock"],["placement","bottom"],["tooltip",""]],null,null,null,null,null)),l.Gb(1,81920,null,0,u.a,[l.o],{placement:[0,"placement"]},null),(n()(),l.Hb(2,0,null,null,1,":svg:svg",[["class","nu-icon nu-ic-lock"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-lock"]],null,null,null,null,null)),(n()(),l.Hb(4,0,null,null,6,"span",[["class","tooltip-content"]],null,null,null,null,null)),(n()(),l.Hb(5,0,null,null,2,"p",[["class","tooltip-header nu-text-bold"],["translate",""]],null,null,null,null,null)),l.Gb(6,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["TOOLTIPS.DOCUMENT_LOCK.DOCUMENT_LOCK_INDICATOR.HEADING"])),(n()(),l.Hb(8,0,null,null,2,"p",[["class","tooltip-body"],["translate",""]],null,null,null,null,null)),l.Gb(9,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["TOOLTIPS.DOCUMENT_LOCK.DOCUMENT_LOCK_INDICATOR.DESCRIPTION"]))],(function(n,t){n(t,1,0,"bottom");n(t,6,0,"");n(t,9,0,"")}),null)}function rn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"thumbnail-loader",[],null,null,null,O,v)),l.Gb(1,49152,null,0,g,[],null,null)],null,null)}function on(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,4,"div",[["class","white fx-center-all"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,2,null,rn)),l.Gb(2,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.Hb(4,0,[[1,0],["svgImageElement",1]],null,0,"div",[["class","diagram-thumbnail-item-img"]],null,null,null,null,null))],(function(n,t){var e=t.component;n(t,2,0,!l.cc(t,2,0,l.Tb(t,3).transform(e.thumbnailSVG)))}),null)}function un(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"div",[["class","diagram-thumbnail-item-broken-image fx-center-all"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,0,"img",[["src","./assets/images/broken-image.svg"],["width","65"]],null,null,null,null,null))],null,null)}function cn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,4,"a",[["class","thumbnail-item-inner dark-blue"]],null,[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,1).onClick(e)&&a);"click"===t&&(a=!1!==i.navToSelectedDiagram(i.id)&&a);return a}),null,null)),l.Gb(1,16384,null,0,c.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(2,{value1Type:0,value1:1}),l.Wb(3,{event:0,data:1}),(n()(),l.bc(4,null,[" "," "]))],(function(n,t){var e=n(t,3,0,"center.diagram.open.click",n(t,2,0,"diagramId",t.component.id));n(t,1,0,e)}),(function(n,t){n(t,4,0,t.component.name)}))}function sn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"editable-label",[],null,[[null,"changedText"]],(function(n,t,e){var l=!0,a=n.component;"changedText"===t&&(l=!1!==a.renameDiagram(e)&&l);return l}),i.b,i.a)),l.Gb(1,4243456,null,0,r.a,[],{value:[0,"value"],readonly:[1,"readonly"],focus:[2,"focus"],selectAll:[3,"selectAll"]},{changedText:"changedText"})],(function(n,t){n(t,1,0,t.component.name,!1,!0,!0)}),null)}function dn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,4,"div",[["class","thumbnail-item-text fx-center-all"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,cn)),l.Gb(2,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,null,1,null,sn)),l.Gb(4,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,"inactive"===t.context.ngIf),n(t,4,0,"active"===t.context.ngIf)}),null)}function pn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"a",[["translate",""]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.enableRenameMode()&&l);return l}),null,null)),l.Gb(1,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["DIAGRAM_FEATURE.RENAME"]))],(function(n,t){n(t,1,0,"")}),null)}function hn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"a",[["translate",""]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.duplicateDiagram()&&l);return l}),null,null)),l.Gb(1,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["DIAGRAM_FEATURE.DUPLICATE"]))],(function(n,t){n(t,1,0,"")}),null)}function fn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"a",[["translate",""]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.moveDiagram(a.id)&&l);return l}),null,null)),l.Gb(1,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["DIAGRAM_FEATURE.MOVE"]))],(function(n,t){n(t,1,0,"")}),null)}function bn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"a",[["translate",""]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.showDeleteConfimationDialog()&&l);return l}),null,null)),l.Gb(1,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["DIAGRAM_FEATURE.DELETE"]))],(function(n,t){n(t,1,0,"")}),null)}function gn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,9,"div",[["class","thumbnail-dd-item"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,pn)),l.Gb(2,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,null,1,null,hn)),l.Gb(4,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,null,2,null,fn)),l.Gb(6,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,1,null,bn)),l.Gb(9,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,2,0,5===t.parent.context.ngLet||0===t.parent.context.ngLet),n(t,4,0,5===t.parent.context.ngLet||0===t.parent.context.ngLet),n(t,6,0,0===t.parent.context.ngLet&&l.cc(t,6,0,l.Tb(t,7).transform(e.projectCount))>1),n(t,9,0,0===t.parent.context.ngLet)}),null)}function mn(n){return l.dc(0,[(n()(),l.Hb(0,0,[[2,0],["dropdown",1]],null,5,"div",[["class","thumbnail-dd"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,2,"button",[["class","thumbnail-dd-button nu-btn-med secondary"]],[[8,"disabled",0]],null,null,null,null)),(n()(),l.Hb(2,0,null,null,1,":svg:svg",[["class","nu-icon"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-more"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,gn)),l.Gb(5,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,5,0,5===t.context.ngLet||0===t.context.ngLet)}),(function(n,t){n(t,1,0,5!==t.context.ngLet&&0!==t.context.ngLet)}))}function vn(n){return l.dc(2,[l.Zb(671088640,1,{svgImageElement:0}),l.Zb(671088640,2,{dropdown:0}),(n()(),l.Hb(2,0,null,null,19,"div",[["class","thumbnail-item"]],[[2,"selected",null]],[[null,"mouseenter"],[null,"mouseleave"]],(function(n,t,e){var l=!0,a=n.component;"mouseenter"===t&&(l=!1!==a.showOptDropdown()&&l);"mouseleave"===t&&(l=!1!==a.hideOptDropdown()&&l);return l}),null,null)),(n()(),l.wb(16777216,null,null,1,null,an)),l.Gb(4,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(5,0,null,null,10,"a",[],null,[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,6).onClick(e)&&a);"click"===t&&(a=!1!==i.navToSelectedDiagram(i.id)&&a);return a}),null,null)),l.Gb(6,16384,null,0,c.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(7,{value1Type:0,value1:1}),l.Wb(8,{event:0,data:1}),(n()(),l.Hb(9,0,null,null,6,"div",[["class","diagram-thumbnail-item-img-container"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,2,null,on)),l.Gb(11,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,un)),l.Gb(14,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,dn)),l.Gb(17,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,mn)),l.Gb(20,16384,null,0,y,[l.db,l.Y],{ngLet:[0,"ngLet"]},null),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component;n(t,4,0,e.isUserPaused);var a=n(t,8,0,"center.diagram.open.click",n(t,7,0,"diagramId",e.id));n(t,6,0,a),n(t,11,0,l.cc(t,11,0,l.Tb(t,12).transform(e.thumbnailUrlSub))),n(t,14,0,l.cc(t,14,0,l.Tb(t,15).transform(e.showBrokenThumbnail))),n(t,17,0,l.cc(t,17,0,l.Tb(t,18).transform(e.renameMode))),n(t,20,0,l.cc(t,20,0,l.Tb(t,21).transform(e.roleObs)))}),(function(n,t){n(t,2,0,t.component.isCurrent)}))}l.Db("diagram-thumbnail-item",B,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"diagram-thumbnail-item",[],null,null,null,vn,ln)),l.Yb(512,null,C.a,C.a,[x.e,P.Database]),l.Gb(2,114688,null,0,B,[C.a,W.a,z.a,Q.a,K.a,J.a,X.m,q.a,Z.b,$.a,nn.a,l.o,tn.a],null,null)],(function(n,t){n(t,2,0)}),null)}),{name:"name",isUserPaused:"isUserPaused",scrollCheck:"scrollCheck",thumbnailUrl:"thumbnailUrl",projectCount:"projectCount",id:"id"},{},[]);var On=e("S0Xf"),yn=[[".diagram-list-area-grid.diagram-list-area-three-columns[_ngcontent-%COMP%]{display:inline-grid;grid-template-columns:repeat(auto-fit,minmax(195px,195px));grid-row-gap:16px;grid-column-gap:21px;width:100%}.diagram-list-area-grid.diagram-list-area-three-columns[_ngcontent-%COMP%]   diagram-thumbnail-item[_ngcontent-%COMP%]{width:31%;margin-right:7px;margin-left:7px}"]],Cn=l.Fb({encapsulation:0,styles:yn,data:{}});function xn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,4,"diagram-thumbnail-item",[],null,null,null,vn,ln)),l.Yb(512,null,C.a,C.a,[x.e,P.Database]),l.Gb(2,114688,null,0,B,[C.a,W.a,z.a,Q.a,K.a,J.a,X.m,q.a,Z.b,$.a,nn.a,l.o,tn.a],{name:[0,"name"],isUserPaused:[1,"isUserPaused"],scrollCheck:[2,"scrollCheck"],thumbnailUrl:[3,"thumbnailUrl"],projectCount:[4,"projectCount"],id:[5,"id"]},null),l.Vb(131072,o.b,[l.i]),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component;n(t,2,0,null==t.context.$implicit?null:t.context.$implicit.name,l.cc(t,2,1,l.Tb(t,3).transform(e.isUserPaused)),l.cc(t,2,2,l.Tb(t,4).transform(e.scroll)),null==t.context.$implicit?null:t.context.$implicit.thumbnailUrl,e.projectCount,null==t.context.$implicit?null:t.context.$implicit.id)}),null)}function Pn(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,6,"div",[["class","diagram-list-area-container diagram-list-area-grid"]],null,null,null,null,null)),l.Yb(512,null,o.w,o.x,[l.z,l.A,l.o,l.P]),l.Gb(2,278528,null,0,o.i,[o.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Wb(3,{"diagram-list-area-three-columns":0}),(n()(),l.wb(16777216,null,null,2,null,xn)),l.Gb(5,278528,null,0,o.j,[l.db,l.Y,l.z],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component,a=n(t,3,0,3===e.columnCount);n(t,2,0,"diagram-list-area-container diagram-list-area-grid",a),n(t,5,0,l.cc(t,5,0,l.Tb(t,6).transform(e.diagramList)),e.getDiagramTrackId)}),null)}l.Db("diagram-list-area",On.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"diagram-list-area",[],null,null,null,Pn,Cn)),l.Gb(1,49152,null,0,On.a,[],null,null)],null,null)}),{diagramList:"diagramList",projectCount:"projectCount",isUserPaused:"isUserPaused",columnCount:"columnCount"},{},[]);var Sn=e("0Du6"),wn=e("45Xd"),In=function(){function n(n,t,e,l){this.state=n,this.commandService=t,this.documentManage=e,this.mdlCtrl=l,this.renameMode=new E.a("inactive")}return n.prototype.showOptDropdown=function(){this.dropdown&&(this.dropdown.nativeElement.style.display="block")},n.prototype.hideOptDropdown=function(){this.dropdown&&(this.dropdown.nativeElement.style.display="none")},n.prototype.setSelectedProject=function(n){T.lb.track("left.folder.folder.click"),this.state.set("FolderPanelSelectedProject",n),this.state.set("FolderPanelSelectedTab","diagrams")},n.prototype.enableRenameMode=function(){T.lb.track("left.folder.folder.rename.click"),this.renameMode.next("active"),this.hideOptDropdown()},n.prototype.renameProject=function(n){T.lb.track("left.folder.folder.rename.change"),this.renameMode.next("inactive"),this.commandService.dispatch(w.m.renameProject,this.id,{name:n})},n.prototype.deleteProject=function(){T.lb.track("left.folder.folder.delete.click"),this.documentManage.deleteProject(this.id,!1).subscribe()},n.prototype.openShareWindow=function(){this.state.set("HighlightedProject",this.id),T.lb.track("left.folder.folder.share.click"),this.mdlCtrl.show(w.s)},n}(),Tn=[[".thumbnail-item[_ngcontent-%COMP%]{border:1px solid #d3d3e7;border-radius:4px;cursor:pointer;display:block;color:#04263d;position:relative;margin-bottom:10px;background-color:#fff;box-shadow:0 2px 2px #c3c3de;width:196px}.thumbnail-item.selected[_ngcontent-%COMP%], .thumbnail-item[_ngcontent-%COMP%]:hover{border:1px solid #fff6e1}.thumbnail-item[_ngcontent-%COMP%]:hover   .project-thumbnail-dd[_ngcontent-%COMP%]{display:inline-block}.thumbnail-item-text[_ngcontent-%COMP%]{height:50px;position:relative}.thumbnail-item-lock[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;z-index:1}.thumbnail-item-lock[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#aaa}.thumbnail-dd[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;display:none}.thumbnail-dd[_ngcontent-%COMP%]   .nu-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.thumbnail-dd-button[_ngcontent-%COMP%]:hover   .nu-icon[_ngcontent-%COMP%]{color:#fff}.thumbnail-item-inner[_ngcontent-%COMP%]{max-height:40px;line-height:20px;overflow:hidden;padding-left:30px;padding-right:30px;word-break:break-word}.thumbnail-dd-item[_ngcontent-%COMP%]{width:100px;padding:10px;background:#fff;border:1px solid #dcdcdc;border-radius:4px;display:none;position:absolute;z-index:1;right:0}.thumbnail-dd-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:10px;display:block}.thumbnail-dd-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.thumbnail-dd[_ngcontent-%COMP%]:hover   .thumbnail-dd-item[_ngcontent-%COMP%]{display:block}.project-thumbnail-item-inner[_ngcontent-%COMP%]{max-height:40px;line-height:20px;overflow:hidden;word-break:break-word}.project-thumbnail-item-img[_ngcontent-%COMP%]{width:66px;height:51px}.project-thumbnail-item-img-container[_ngcontent-%COMP%]{overflow:hidden;text-align:center;height:115px;padding:20px 20px 0;background-size:65px}.project-thumbnail-item-img-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:95px}"]],_n=l.Fb({encapsulation:0,styles:Tn,data:{}});function En(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,6,"div",[["class","thumbnail-item-inner"]],null,[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,1).onClick(e)&&a);"click"===t&&(a=!1!==i.setSelectedProject(i.id)&&a);return a}),null,null)),l.Gb(1,16384,null,0,c.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(2,{value1Type:0,value1:1}),l.Wb(3,{event:0,data:1}),(n()(),l.Hb(4,0,null,null,2,"span",[["class","project-thumbnail-item-inner"],["translate",""]],null,null,null,null,null)),l.Gb(5,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(6,null,["",""]))],(function(n,t){var e=n(t,3,0,"folderpanel.project.open.click",n(t,2,0,"projectId",t.component.id));n(t,1,0,e);n(t,5,0,"")}),(function(n,t){n(t,6,0,t.component.name)}))}function jn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"editable-label",[],null,[[null,"changedText"]],(function(n,t,e){var l=!0,a=n.component;"changedText"===t&&(l=!1!==a.renameProject(e)&&l);return l}),i.b,i.a)),l.Gb(1,4243456,null,0,r.a,[],{value:[0,"value"],readonly:[1,"readonly"],focus:[2,"focus"],selectAll:[3,"selectAll"]},{changedText:"changedText"})],(function(n,t){n(t,1,0,t.component.name,!1,!0,!0)}),null)}function kn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,4,"div",[["class","thumbnail-item-text fx-center-all"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,En)),l.Gb(2,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,null,1,null,jn)),l.Gb(4,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,"inactive"===t.context.ngIf),n(t,4,0,"active"===t.context.ngIf)}),null)}function Mn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"a",[["translate",""]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.deleteProject()&&l);return l}),null,null)),l.Gb(1,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["PROJECT_FEATURE.DELETE"]))],(function(n,t){n(t,1,0,"")}),null)}function Dn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,2,"button",[["class","thumbnail-dd-button nu-btn-med secondary"]],null,null,null,null,null)),(n()(),l.Hb(2,0,null,null,1,":svg:svg",[["class","nu-icon"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-more"]],null,null,null,null,null)),(n()(),l.Hb(4,0,null,null,9,"div",[["class","thumbnail-dd-item"]],null,null,null,null,null)),(n()(),l.Hb(5,0,null,null,2,"a",[["translate",""]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.enableRenameMode()&&l);return l}),null,null)),l.Gb(6,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["PROJECT_FEATURE.RENAME"])),(n()(),l.Hb(8,0,null,null,2,"a",[["translate",""]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.openShareWindow()&&l);return l}),null,null)),l.Gb(9,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["PROJECT_FEATURE.SHARE"])),(n()(),l.wb(16777216,null,null,2,null,Mn)),l.Gb(12,212992,null,0,Sn.a,[W.a,l.Y,l.db,l.i,wn.a],{projectData:[0,"projectData"]},null),l.Wb(13,{id:0,role:1})],(function(n,t){var e=t.component;n(t,6,0,"");n(t,9,0,"");var l=n(t,13,0,e.id,"OWNER");n(t,12,0,l)}),null)}function An(n){return l.dc(0,[(n()(),l.Hb(0,0,[[1,0],["dropdown",1]],null,3,"div",[["class","thumbnail-dd"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,2,null,Dn)),l.Gb(2,212992,null,0,Sn.a,[W.a,l.Y,l.db,l.i,wn.a],{projectData:[0,"projectData"]},null),l.Wb(3,{id:0,role:1})],(function(n,t){var e=n(t,3,0,t.component.id,"EDITOR");n(t,2,0,e)}),null)}function Ln(n){return l.dc(2,[l.Zb(671088640,1,{dropdown:0}),(n()(),l.Hb(1,0,null,null,10,"div",[["class","thumbnail-item fx-center-all"]],null,[[null,"mouseenter"],[null,"mouseleave"]],(function(n,t,e){var l=!0,a=n.component;"mouseenter"===t&&(l=!1!==a.showOptDropdown()&&l);"mouseleave"===t&&(l=!1!==a.hideOptDropdown()&&l);return l}),null,null)),(n()(),l.Hb(2,0,null,null,4,"div",[["class","project-thumbnail-item-img-container fx-center-all"]],null,[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,3).onClick(e)&&a);"click"===t&&(a=!1!==i.setSelectedProject(i.id)&&a);return a}),null,null)),l.Gb(3,16384,null,0,c.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(4,{value1Type:0,value1:1}),l.Wb(5,{event:0,data:1}),(n()(),l.Hb(6,0,null,null,0,"img",[["class","project-thumbnail-item-img"],["src","./assets/images/thumbnails/folder-thumbnail.svg"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,2,null,kn)),l.Gb(8,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,1,null,An)),l.Gb(11,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component,a=n(t,5,0,"folderpanel.project.open.click",n(t,4,0,"projectId",e.id));n(t,3,0,a),n(t,8,0,l.cc(t,8,0,l.Tb(t,9).transform(e.renameMode))),n(t,11,0,"home"!=e.id)}),null)}l.Db("project-thumbnail-item",In,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"project-thumbnail-item",[],null,null,null,Ln,_n)),l.Yb(4608,null,C.a,C.a,[x.e,P.Database]),l.Gb(2,49152,null,0,In,[W.a,z.a,nn.a,Q.a],null,null)],null,null)}),{name:"name",id:"id"},{},[]);var Rn=function(){function n(){this._columnCount=1}return Object.defineProperty(n.prototype,"columnCount",{get:function(){return this._columnCount},set:function(n){this._columnCount=n},enumerable:!0,configurable:!0}),n.prototype.getProjectTrackId=function(n,t){return t.id},n}(),Hn=[[".project-list-area-grid.project-list-area-three-columns[_ngcontent-%COMP%]{display:inline-grid;grid-template-columns:repeat(auto-fit,minmax(195px,195px));grid-row-gap:16px;grid-column-gap:21px;width:100%}.project-list-area-grid.project-list-area-three-columns[_ngcontent-%COMP%]   project-thumbnail-item[_ngcontent-%COMP%]{width:31%;margin-right:7px;margin-left:7px}"]],Gn=l.Fb({encapsulation:0,styles:Hn,data:{}});function Un(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"project-thumbnail-item",[],null,null,null,Ln,_n)),l.Yb(4608,null,C.a,C.a,[x.e,P.Database]),l.Gb(2,49152,null,0,In,[W.a,z.a,nn.a,Q.a],{name:[0,"name"],id:[1,"id"]},null)],(function(n,t){n(t,2,0,null==t.context.$implicit?null:t.context.$implicit.name,null==t.context.$implicit?null:t.context.$implicit.id)}),null)}function Nn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),l.wb(16777216,null,null,2,null,Un)),l.Gb(2,278528,null,0,o.j,[l.db,l.Y,l.z],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(0,null,null,0))],(function(n,t){var e=t.component;n(t,2,0,l.cc(t,2,0,l.Tb(t,3).transform(e.projectList)),e.getProjectTrackId)}),null)}function Fn(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,6,"div",[["class","project-list-area-container project-list-area-grid"]],null,null,null,null,null)),l.Yb(512,null,o.w,o.x,[l.z,l.A,l.o,l.P]),l.Gb(2,278528,null,0,o.i,[o.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Wb(3,{"project-list-area-three-columns":0}),(n()(),l.wb(16777216,null,null,2,null,Nn)),l.Gb(5,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component,a=n(t,3,0,3===e.columnCount);n(t,2,0,"project-list-area-container project-list-area-grid",a),n(t,5,0,l.cc(t,5,0,l.Tb(t,6).transform(e.projectList)))}),null)}l.Db("project-list-area",Rn,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"project-list-area",[],null,null,null,Fn,Gn)),l.Gb(1,49152,null,0,Rn,[],null,null)],null,null)}),{projectList:"projectList",columnCount:"columnCount"},{},[]);var Vn=e("7pFi"),Yn=e("YEP7"),Bn=e("foQ2"),Wn=e("UkPZ"),zn=e("G4vz"),Qn=e("hCs3"),Kn=e("QoSw");e.d(t,"a",(function(){return Xn})),e.d(t,"b",(function(){return ft}));var Jn=[[".left-sidebar-panel[_ngcontent-%COMP%]{width:215px}.left-sidebar-panel.collapsing[_ngcontent-%COMP%], .left-sidebar-panel.expanded[_ngcontent-%COMP%], .left-sidebar-panel.shrinking[_ngcontent-%COMP%]{width:880px}.left-sidebar-panel.closed[_ngcontent-%COMP%]{transform:translateX(-215px);width:0}.left-sidebar-panel-padding[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.folder-panel[_ngcontent-%COMP%]{padding-top:10px;will-change:opacity;background-color:#f6f6f9;border-right:1px solid #d3d3e7}.folder-panel.collapsing[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%], .folder-panel.expanded[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%], .folder-panel.shrinking[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.folder-panel.collapsing[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-header-button[_ngcontent-%COMP%], .folder-panel.expanded[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-header-button[_ngcontent-%COMP%], .folder-panel.shrinking[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-header-button[_ngcontent-%COMP%]{margin-top:0;width:140px;margin-left:10px}.folder-panel.collapsing[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-default-msg[_ngcontent-%COMP%], .folder-panel.collapsing[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-loading-bubbles[_ngcontent-%COMP%], .folder-panel.collapsing[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-search[_ngcontent-%COMP%], .folder-panel.expanded[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-default-msg[_ngcontent-%COMP%], .folder-panel.expanded[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-loading-bubbles[_ngcontent-%COMP%], .folder-panel.expanded[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-search[_ngcontent-%COMP%], .folder-panel.shrinking[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-default-msg[_ngcontent-%COMP%], .folder-panel.shrinking[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-loading-bubbles[_ngcontent-%COMP%], .folder-panel.shrinking[_ngcontent-%COMP%]   .folder-panel-header[_ngcontent-%COMP%]   .folder-panel-search[_ngcontent-%COMP%]{display:none}.folder-panel.collapsing[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%], .folder-panel.expanded[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%], .folder-panel.shrinking[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%]{display:block}.folder-panel.collapsing[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%]   .folder-panel-search[_ngcontent-%COMP%], .folder-panel.expanded[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%]   .folder-panel-search[_ngcontent-%COMP%], .folder-panel.shrinking[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%]   .folder-panel-search[_ngcontent-%COMP%]{display:block;width:100%}.folder-panel.collapsing[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%]   .filter-drop-down[_ngcontent-%COMP%], .folder-panel.expanded[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%]   .filter-drop-down[_ngcontent-%COMP%], .folder-panel.shrinking[_ngcontent-%COMP%]   .folder-panel-expanded-search-container[_ngcontent-%COMP%]   .filter-drop-down[_ngcontent-%COMP%]{min-width:138px}.folder-panel-header[_ngcontent-%COMP%]   .folder-panel-header-button[_ngcontent-%COMP%]{margin-top:10px;width:100%}.folder-panel-expanded-search-container[_ngcontent-%COMP%]{display:none}.folder-panel-search-section-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.folder-panel-search-container[_ngcontent-%COMP%]{flex-grow:1}.folder-panel-filter-container[_ngcontent-%COMP%], .folder-panel-sort-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-left:10px}.folder-panel-filter-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .folder-panel-sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.folder-panel-filter-container[_ngcontent-%COMP%]  .dropdown-list, .folder-panel-sort-container[_ngcontent-%COMP%]  .dropdown-list{min-width:160px}.folder-panel-content[_ngcontent-%COMP%]{overflow-y:auto}.folder-panel-content-folder[_ngcontent-%COMP%]{height:calc(100vh - 94px)}.folder-panel-content-recent[_ngcontent-%COMP%]{height:calc(100vh - 113px)}.folder-panel-tabs[_ngcontent-%COMP%]{display:flex;font-size:14px;padding-right:10px}.folder-panel-arrow-header[_ngcontent-%COMP%]{display:flex}.folder-panel-arrow-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;width:30px}.folder-panel-arrow-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{color:#ffc648}.folder-panel-arrow-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;padding-left:10px;padding-top:2px}.folder-panel-heading[_ngcontent-%COMP%]{width:100px}.folder-panel-heading[_ngcontent-%COMP%]:hover{color:#ffc648}.folder-panel-heading[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{border-bottom:2px solid #ffc648}.folder-panel-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;padding-bottom:5px}.folder-panel-default-msg[_ngcontent-%COMP%]{line-height:20px}.folder-panel-folder-name-heading[_ngcontent-%COMP%]{flex:1}.folder-panel-folder-name-heading[_ngcontent-%COMP%]  .editable-label-container{white-space:normal;height:auto;word-break:break-all}.folder-panel-folder-name-heading[_ngcontent-%COMP%]  .editable-label{font-size:16px}.folder-panel-header-buttons[_ngcontent-%COMP%]{display:flex}.folder-panel-header-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]],Xn=l.Fb({encapsulation:0,styles:Jn,data:{}});function qn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,7,"div",[["class","folder-panel-header folder-panel-padding fx-margin-bottom-10"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,6,"div",[["class","folder-panel-offline-message fx-margin-bottom-10"]],null,null,null,null,null)),(n()(),l.Hb(2,0,null,null,2,"p",[["class","navy-blue nu-text-small fx-margin-bottom-5 fx-center-all"],["translate",""]],null,null,null,null,null)),l.Gb(3,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["OFFLINE.PANEL.HEADING"])),(n()(),l.Hb(5,0,null,null,2,"p",[["class","grey nu-text-small"],["translate",""]],null,null,null,null,null)),l.Gb(6,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["OFFLINE.PANEL.FOLDER_PANEL"]))],(function(n,t){n(t,3,0,"");n(t,6,0,"")}),null)}function Zn(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,1,"editable-label",[],null,[[null,"changedText"]],(function(n,t,e){var l=!0,a=n.component;"changedText"===t&&(l=!1!==a.renameProject(null==n.parent.context.ngIf?null:n.parent.context.ngIf.id,e)&&l);return l}),i.b,i.a)),l.Gb(2,4243456,null,0,r.a,[],{value:[0,"value"]},{changedText:"changedText"})],(function(n,t){n(t,2,0,l.Lb(1,"",null==t.parent.context.ngIf?null:t.parent.context.ngIf.name,""))}),null)}function $n(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,2,"label",[["class","nu-text-medium"],["translate",""]],null,null,null,null,null)),l.Gb(2,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["LABELS.HOME"]))],(function(n,t){n(t,2,0,"")}),null)}function nt(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,4,"div",[["class","folder-panel-folder-name-heading"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,Zn)),l.Gb(2,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,null,1,null,$n)),l.Gb(4,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,"home"!=(null==t.context.ngIf?null:t.context.ngIf.id)),n(t,4,0,"home"===(null==t.context.ngIf?null:t.context.ngIf.id))}),null)}function tt(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,10,"div",[["class","folder-panel-arrow-header"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,6,"span",[["placement","bottom"],["tooltip",""]],null,null,null,null,null)),l.Gb(2,81920,null,0,u.a,[l.o],{placement:[0,"placement"]},null),(n()(),l.Hb(3,0,null,null,1,":svg:svg",[["class","nu-icon nu-icon-small"]],null,[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.navigateToProjectList()&&l);return l}),null,null)),(n()(),l.Hb(4,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-arrow-left"]],null,null,null,null,null)),(n()(),l.Hb(5,0,null,null,2,"div",[["class","tooltip-content"],["translate",""]],null,null,null,null,null)),l.Gb(6,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,[" TOOLTIPS.BACK_TO_FOLDERS "])),(n()(),l.wb(16777216,null,null,2,null,nt)),l.Gb(9,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component;n(t,2,0,"bottom");n(t,6,0,""),n(t,9,0,l.cc(t,9,0,l.Tb(t,10).transform(e.projectMdl)))}),null)}function et(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,13,"div",[["class","folder-panel-tabs-container fx-margin-bottom-10"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,12,"div",[["class","folder-panel-tabs"]],null,null,null,null,null)),(n()(),l.Hb(2,0,null,null,5,"div",[["class","folder-panel-heading"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,4,"a",[["translate",""]],[[2,"selected",null]],[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,4).onClick(e)&&a);"click"===t&&(a=!1!==i.setSelectedTab("folders")&&a);return a}),null,null)),l.Gb(4,16384,null,0,c.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(5,{event:0}),l.Gb(6,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["FOLDER_PANEL.ALL_FOLDER"])),(n()(),l.Hb(8,0,null,null,5,"div",[["class","folder-panel-heading"]],null,null,null,null,null)),(n()(),l.Hb(9,0,null,null,4,"a",[["translate",""]],[[2,"selected",null]],[[null,"click"]],(function(n,t,e){var a=!0,i=n.component;"click"===t&&(a=!1!==l.Tb(n,10).onClick(e)&&a);"click"===t&&(a=!1!==i.setSelectedTab("recent")&&a);return a}),null,null)),l.Gb(10,16384,null,0,c.a,[],{trackAction:[0,"trackAction"]},null),l.Wb(11,{event:0}),l.Gb(12,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["FOLDER_PANEL.RECENT"]))],(function(n,t){var e=n(t,5,0,"left.folder.allFolders.click");n(t,4,0,e);n(t,6,0,"");var l=n(t,11,0,"left.folder.recent.click");n(t,10,0,l);n(t,12,0,"")}),(function(n,t){n(t,3,0,"folders"===t.parent.parent.context.ngLet),n(t,9,0,"recent"===t.parent.parent.context.ngLet)}))}function lt(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,5,"button",[["class","nu-btn-med nu-btn-on-grey fx-no-margin dashboard-panel-header-button"],["translate",""]],[[8,"disabled",0]],[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.createFolder()&&l);return l}),null,null)),l.Gb(1,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.Hb(3,0,null,null,1,":svg:svg",[["class","nu-icon"]],null,null,null,null,null)),(n()(),l.Hb(4,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-plus"]],null,null,null,null,null)),(n()(),l.bc(-1,null,[" FOLDER_PANEL.CREATE_FOLDER "]))],(function(n,t){n(t,1,0,"")}),(function(n,t){var e=t.component;n(t,0,0,l.cc(t,0,0,l.Tb(t,2).transform(e.isUserPaused)))}))}function at(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"loading-bubbles",[["class","folder-panel-loading-bubbles fx-margin-top-20"],["color","grey"]],null,null,null,s.b,s.a)),l.Gb(1,49152,null,0,d.a,[],{color:[0,"color"],class:[1,"class"]},null)],(function(n,t){n(t,1,0,"grey","folder-panel-loading-bubbles fx-margin-top-20")}),null)}function it(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,3,"div",[["class","folder-panel-default-msg fx-margin-top-10"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,2,"span",[["class","grey"],["translate",""]],null,null,null,null,null)),l.Gb(2,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["FOLDER_PANEL.NO_DOCUMENTS"]))],(function(n,t){n(t,2,0,"")}),null)}function rt(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,22,"div",[["class","folder-panel-header folder-panel-padding fx-margin-bottom-10"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,tt)),l.Gb(2,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,null,1,null,et)),l.Gb(4,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(5,0,null,null,2,"text-input",[["class","folder-panel-search"],["icon","search-thin"]],null,[[null,"updateText"]],(function(n,t,e){var l=!0,a=n.component;"updateText"===t&&(l=!1!==a.searchText.next(e)&&l);return l}),p.b,p.a)),l.Gb(6,4440064,null,0,h.a,[a.k],{icon:[0,"icon"],showClearButton:[1,"showClearButton"],placeholder:[2,"placeholder"],emitForInputChange:[3,"emitForInputChange"]},{updateText:"updateText"}),l.Vb(131072,a.j,[a.k,l.i]),(n()(),l.Hb(8,0,null,null,8,"div",[["class","folder-panel-header-buttons"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,lt)),l.Gb(10,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(11,0,null,null,5,"button",[["class","nu-btn-med nu-btn-on-grey fx-no-margin dashboard-panel-header-button"],["translate",""]],[[8,"disabled",0]],[[null,"click"]],(function(n,t,e){var l=!0,a=n.component;"click"===t&&(l=!1!==a.createDiagram()&&l);return l}),null,null)),l.Gb(12,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.Hb(14,0,null,null,1,":svg:svg",[["class","nu-icon"]],null,null,null,null,null)),(n()(),l.Hb(15,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-plus"]],null,null,null,null,null)),(n()(),l.bc(-1,null,[" FOLDER_PANEL.CREATE_DOCUMENT "])),(n()(),l.wb(16777216,null,null,2,null,at)),l.Gb(18,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,it)),l.Gb(21,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component;n(t,2,0,"diagrams"===t.parent.context.ngLet),n(t,4,0,"diagrams"!==t.parent.context.ngLet);n(t,6,0,"search-thin",!0,l.Lb(1,"",l.cc(t,6,2,l.Tb(t,7).transform("PLACEHOLDERS.SEARCH")),""),!0),n(t,10,0,"folders"===t.parent.context.ngLet);n(t,12,0,""),n(t,18,0,("diagrams"===t.parent.context.ngLet||"folders"===t.parent.context.ngLet)&&l.cc(t,18,0,l.Tb(t,19).transform(e.showLoadingIndicator))),n(t,21,0,"diagrams"===t.parent.context.ngLet&&l.cc(t,21,0,l.Tb(t,22).transform(e.isFolderEmpty)))}),(function(n,t){var e=t.component;n(t,11,0,l.cc(t,11,0,l.Tb(t,13).transform(e.isUserPaused)))}))}function ot(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"loading-bubbles",[["class","fx-margin-top-10"],["color","grey"]],null,null,null,s.b,s.a)),l.Gb(1,49152,null,0,d.a,[],{color:[0,"color"],class:[1,"class"]},null)],(function(n,t){n(t,1,0,"grey","fx-margin-top-10")}),null)}function ut(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,3,"div",[["class","folder-panel-default-msg fx-margin-top-10"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,2,"span",[["class","grey"],["translate",""]],null,null,null,null,null)),l.Gb(2,8536064,null,0,a.e,[a.k,l.o,l.i],{translate:[0,"translate"]},null),(n()(),l.bc(-1,null,["FOLDER_PANEL.NO_DOCUMENTS"]))],(function(n,t){n(t,2,0,"")}),null)}function ct(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,21,"div",[["class","folder-panel-expanded-search-container folder-panel-padding fx-margin-bottom-10"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,14,"div",[["class","folder-panel-search-section-wrapper"]],null,null,null,null,null)),(n()(),l.Hb(2,0,null,null,3,"div",[["class","folder-panel-search-container"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,2,"text-input",[["class","folder-panel-search"],["icon","search-thin"]],null,[[null,"updateText"]],(function(n,t,e){var l=!0,a=n.component;"updateText"===t&&(l=!1!==a.searchText.next(e)&&l);return l}),p.b,p.a)),l.Gb(4,4440064,null,0,h.a,[a.k],{icon:[0,"icon"],showClearButton:[1,"showClearButton"],placeholder:[2,"placeholder"],emitForInputChange:[3,"emitForInputChange"]},{updateText:"updateText"}),l.Vb(131072,a.j,[a.k,l.i]),(n()(),l.Hb(6,0,null,null,4,"div",[["class","folder-panel-sort-container"]],null,null,null,null,null)),(n()(),l.Hb(7,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),l.bc(-1,null,["Sort"])),(n()(),l.Hb(9,0,null,null,1,"drop-down",[["class","sort-drop-down"]],null,null,null,f.b,f.a)),l.Gb(10,704512,[[4,4],["sortDropDown",4]],0,b.a,[l.o],{menuItems:[0,"menuItems"],onSelectTrackingId:[1,"onSelectTrackingId"]},null),(n()(),l.Hb(11,0,null,null,4,"div",[["class","folder-panel-filter-container"]],null,null,null,null,null)),(n()(),l.Hb(12,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),l.bc(-1,null,["Filter"])),(n()(),l.Hb(14,0,null,null,1,"drop-down",[["class","filter-drop-down"]],null,null,null,f.b,f.a)),l.Gb(15,704512,[[3,4],["filterDropDown",4]],0,b.a,[l.o],{menuItems:[0,"menuItems"],onSelectTrackingId:[1,"onSelectTrackingId"]},null),(n()(),l.wb(16777216,null,null,2,null,ot)),l.Gb(17,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,ut)),l.Gb(20,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component;n(t,4,0,"search-thin",!0,l.Lb(1,"",l.cc(t,4,2,l.Tb(t,5).transform("PLACEHOLDERS.SEARCH")),""),!0);n(t,10,0,e.sortOptions,"left.folder.panel.sort.click");n(t,15,0,e.filterOptions,"left.folder.panel.filter.click"),n(t,17,0,"diagrams"===t.parent.context.ngLet&&l.cc(t,17,0,l.Tb(t,18).transform(e.showLoadingIndicator))),n(t,20,0,"diagrams"===t.parent.context.ngLet&&l.cc(t,20,0,l.Tb(t,21).transform(e.isFolderEmpty)))}),null)}function st(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"diagram-list-area",[],null,null,null,Pn,Cn)),l.Gb(1,49152,[[2,4],["diagramArea",4]],0,On.a,[],{diagramList:[0,"diagramList"],projectCount:[1,"projectCount"],isUserPaused:[2,"isUserPaused"],columnCount:[3,"columnCount"]},null)],(function(n,t){var e=t.component;n(t,1,0,e.diagramList,e.projectCount,e.isUserPaused,e.columns)}),null)}function dt(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"project-list-area",[],null,null,null,Fn,Gn)),l.Gb(1,49152,null,0,Rn,[],{projectList:[0,"projectList"],columnCount:[1,"columnCount"]},null)],(function(n,t){var e=t.component;n(t,1,0,e.projectList,e.columns)}),null)}function pt(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,6,"div",[["class","folder-panel-content"]],[[2,"folder-panel-content-folder",null],[2,"folder-panel-content-recent",null]],null,null,null,null)),(n()(),l.Hb(1,0,null,null,5,"perfect-scrollbar",[["class","project-diagrams-scrollbar"]],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],[[null,"psScrollY"]],(function(n,t,e){var l=!0,a=n.component;"psScrollY"===t&&(l=!1!==(null==a.diagramArea?null:a.diagramArea.onScroll(e))&&l);return l}),Vn.b,Vn.a)),l.Gb(2,507904,null,0,Yn.b,[l.H,l.i,l.K],null,{psScrollY:"psScrollY"}),(n()(),l.wb(16777216,null,0,1,null,st)),l.Gb(4,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.wb(16777216,null,0,1,null,dt)),l.Gb(6,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0),n(t,4,0,"recent"===t.parent.context.ngLet||"diagrams"===t.parent.context.ngLet),n(t,6,0,"folders"===t.parent.context.ngLet)}),(function(n,t){n(t,0,0,"folders"===t.parent.context.ngLet,"recent"===t.parent.context.ngLet||"diagrams"===t.parent.context.ngLet),n(t,1,0,l.Tb(t,2).autoPropagation,l.Tb(t,2).scrollIndicators)}))}function ht(n){return l.dc(0,[(n()(),l.Hb(0,0,[[1,0],["contentContainer",1]],null,14,"div",[["class","folder-panel left-sidebar-panel"]],null,null,null,null,null)),l.Yb(512,null,o.w,o.x,[l.z,l.A,l.o,l.P]),l.Gb(2,278528,null,0,o.i,[o.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),l.wb(16777216,null,null,2,null,qn)),l.Gb(4,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,rt)),l.Gb(7,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,ct)),l.Gb(10,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,pt)),l.Gb(13,16384,null,0,o.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component;n(t,2,0,"folder-panel left-sidebar-panel",e.sidebarState),n(t,4,0,0===l.cc(t,4,0,l.Tb(t,5).transform(e.appConnectionStatus))),n(t,7,0,!(0===l.cc(t,7,0,l.Tb(t,8).transform(e.appConnectionStatus)))),n(t,10,0,!(0===l.cc(t,10,0,l.Tb(t,11).transform(e.appConnectionStatus)))),n(t,13,0,!(0===l.cc(t,13,0,l.Tb(t,14).transform(e.appConnectionStatus))))}),null)}function ft(n){return l.dc(2,[l.Zb(402653184,1,{contentContainer:0}),l.Zb(671088640,2,{diagramArea:0}),l.Zb(671088640,3,{filterDropDown:0}),l.Zb(671088640,4,{sortDropDown:0}),(n()(),l.wb(16777216,null,null,2,null,ht)),l.Gb(5,16384,null,0,y,[l.db,l.Y],{ngLet:[0,"ngLet"]},null),l.Vb(131072,o.b,[l.i])],(function(n,t){var e=t.component;n(t,5,0,l.cc(t,5,0,l.Tb(t,6).transform(e.selectedTab)))}),null)}l.Db("folder-panel",Bn.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"folder-panel",[],null,null,null,ft,Xn)),l.Gb(1,4440064,null,0,Bn.a,[Wn.a,zn.a,Qn.a,z.a,$.a,X.m,W.a,tn.a,Z.b,Kn.a,l.i,a.k],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[])},pAhu:function(n,t,e){"use strict";var l=e("LoAr"),a=e("WT9V"),i=e("tihm"),r=e("8Tlt"),o=e("8uPo"),u=e("UHsG");e.d(t,"a",(function(){return s})),e.d(t,"b",(function(){return d}));var c=[[".thumb-img-container[_ngcontent-%COMP%]{position:relative}.thumb-img-container.loading[_ngcontent-%COMP%]   .thumb-img-loader-container[_ngcontent-%COMP%]{display:block}.thumb-img-container[_ngcontent-%COMP%]   .thumb-img-canvas-container.preview[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%], .thumb-img-container.loading[_ngcontent-%COMP%]   .thumb-img-canvas-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:80px;height:80px}.thumb-img-container[_ngcontent-%COMP%]   .thumb-img-canvas-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:35px;height:35px}.thumb-img-canvas-container[_ngcontent-%COMP%], .thumb-img-loader-container[_ngcontent-%COMP%]{width:100%;height:35px}.thumb-img-canvas-container.preview[_ngcontent-%COMP%]{height:auto}.thumb-img-loader-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:none}"]],s=l.Fb({encapsulation:0,styles:c,data:{}});function d(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,6,"div",[["class","thumb-img-container fx-center-all"],["mouseenter",""]],[[2,"loading",null]],null,null,null,null)),l.Vb(131072,a.b,[l.i]),(n()(),l.Hb(2,0,null,null,2,"div",[["class","thumb-img-loader-container white"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,1,"shape-thumbnail-loader",[],null,null,null,i.b,i.a)),l.Gb(4,49152,null,0,r.a,[],null,null),(n()(),l.Hb(5,0,null,null,1,"div",[["class","thumb-img-canvas-container"]],[[2,"preview",null]],null,null,null,null)),(n()(),l.Hb(6,0,null,null,0,"canvas",[],[[8,"id",0]],null,null,null,null))],null,(function(n,t){var e=t.component;n(t,0,0,l.cc(t,0,0,l.Tb(t,1).transform(e.loading))),n(t,5,0,e.isPreview),n(t,6,0,l.Lb(1,"",e.canvasId,""))}))}l.Db("thumbnail-canvas",o.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"thumbnail-canvas",[],null,null,null,d,s)),l.Gb(1,4898816,null,0,o.a,[u.a],null,null)],null,null)}),{defId:"defId",version:"version",style:"style",focus:"focus",isPreview:"isPreview",canvasIdPrefix:"canvasIdPrefix"},{},[])},pJSd:function(n,t,e){"use strict";var l=e("LoAr"),a=e("WT9V"),i=e("tihm"),r=e("8Tlt"),o=e("ys29");e.d(t,"a",(function(){return c})),e.d(t,"b",(function(){return s}));var u=[[".thumb-img-container[_ngcontent-%COMP%]{position:relative}.thumb-img-container.loading[_ngcontent-%COMP%]   .thumb-img-loader-container[_ngcontent-%COMP%]{display:block}.thumb-img-container[_ngcontent-%COMP%]   .thumb-img-image-container.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .thumb-img-container.loading[_ngcontent-%COMP%]   .thumb-img-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80px;max-height:80px}.thumb-img-container[_ngcontent-%COMP%]   .thumb-img-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:35px;max-height:35px}.thumb-img-image-container[_ngcontent-%COMP%], .thumb-img-loader-container[_ngcontent-%COMP%]{width:100%;height:35px}.thumb-img-loader-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:none}"]],c=l.Fb({encapsulation:0,styles:u,data:{}});function s(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,6,"div",[["class","thumb-img-container fx-center-all"]],[[2,"loading",null]],null,null,null,null)),l.Vb(131072,a.b,[l.i]),(n()(),l.Hb(2,0,null,null,2,"div",[["class","thumb-img-loader-container white"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,1,"shape-thumbnail-loader",[],null,null,null,i.b,i.a)),l.Gb(4,49152,null,0,r.a,[],null,null),(n()(),l.Hb(5,0,null,null,1,"div",[["class","thumb-img-image-container fx-center-all"]],[[2,"preview",null]],null,null,null,null)),(n()(),l.Hb(6,0,[["thumbnail",1]],null,0,"img",[["draggable","false"]],[[8,"src",4]],[[null,"load"]],(function(n,t,e){var l=!0,a=n.component;"load"===t&&(l=!1!==a.imageLoaded()&&l);return l}),null,null))],null,(function(n,t){var e=t.component;n(t,0,0,l.cc(t,0,0,l.Tb(t,1).transform(e.loading))),n(t,5,0,e.isPreview),n(t,6,0,e.url)}))}l.Db("thumbnail-image",o.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"thumbnail-image",[],null,null,null,s,c)),l.Gb(1,49152,null,0,o.a,[],null,null)],null,null)}),{url:"url",isPreview:"isPreview"},{},[])},tHMF:function(n,t,e){"use strict";var l=e("D57K"),a=e("W9bu"),i=e("g3Dv"),r=e("wx9+"),o=e("h1tj"),u=function(n){function t(){var e=n.call(this)||this;e.animationDuration=30,e.onChange=function(){return null},e.textPadding=5,e.text=new o.Text("Ctrl + Click to open link","12px Arial","#7E7E7E"),e.textRect=new o.Shape;var l=e.text.getMeasuredWidth()+2*e.textPadding,a=e.text.getMeasuredHeight()+2*e.textPadding;return e.clickableRect=new o.Shape,e.clickableRect.name=t.clickableRectName,e.clickableRect.alpha=0,e.textRect.graphics.clear().setStrokeStyle(1).beginStroke("#ECECEC").beginFill("#fff").drawRect(0,0,l,a).endFill(),e.textRect.setBounds(0,0,l,a),e.text.setBounds(0,0,e.text.getMeasuredWidth(),e.text.getMeasuredHeight()),e.circle=new o.Shape,e.addChild(e.circle),e.addChild(e.textRect),e.addChild(e.text),e.addChild(e.clickableRect),e.circle.graphics.clear(),e.circle.graphics.beginFill(t.ICON_COLOR),e.circle.graphics.beginStroke("#FFFFFF"),e.circle.graphics.setStrokeStyle(2),e.circle.graphics.drawCircle(0,0,5),e.circle.graphics.endStroke(),e.circle.graphics.endFill(),e.circle.shadow=new o.Shadow("rgba(0, 0, 0, 0.25)",0,2,3),e}return l.e(t,n),t.prototype.destroy=function(){},t.prototype.update=function(n,t){this.bounds=n,this.link=t,this.circle.x=n.right,this.circle.y=n.bottom,this.text.x=n.centerX-this.text.getBounds().width/2,this.text.y=n.bottom+this.textPadding+15,this.clickableRect.graphics.clear().beginFill("rgba(0,0,0,0.01)").drawRect(0,0,n.width,n.height).endFill(),this.clickableRect.x=n.x,this.clickableRect.y=n.y,this.textRect.x=n.centerX-this.textRect.getBounds().width/2,this.textRect.y=n.bottom+15,this.setVisibilty([this.text,this.textRect],!1)},t.prototype.toggleInfo=function(n){var t=this.text.isVisible()&&this.textRect.isVisible();if(this.bounds){var e=this.bounds.contains({x:n.x,y:n.y,width:0,height:0});!t&&e&&this.setVisibilty([this.text,this.textRect],!0),t&&!e&&this.setVisibilty([this.text,this.textRect],!1)}},t.prototype.setVisibilty=function(n,t){var e=this;n.forEach((function(n){return o.Tween.get(n,{override:!0,onChange:e.onChange}).to({alpha:t?1:0,visible:t},e.animationDuration)}))},Object.defineProperty(t.prototype,"clickable",{set:function(n){this.clickableRect.alpha=n?1:0},enumerable:!0,configurable:!0}),t.ICON_COLOR="#5B7AEA",t.clickableRectName="clickableRect",t}(o.Container),c=e("5xGT"),s=e("fQLH"),d=e("gQst"),p=e("iUUs"),h=e("AouM"),f=e("U3QC"),b=e("Jg5f"),g=e("G2Mx"),m=e("z5yO"),v=e("QoSw"),O=e("flPR"),y=e("nsO7"),C=e("sXdR");e.d(t,"a",(function(){return x}));var x=function(n){function t(t,e,l,a){var i=n.call(this,a)||this;return i.linkService=t,i.viewport=e,i.ll=l,i.state=a,i._indicators={},i.addSource=new s.a,i.removeSource=new s.a,i.changeSource=new s.a,i}return l.e(t,n),t.prototype.initialize=function(){var n=this,t=this.state.changes("InterfaceControlState").pipe(Object(h.a)((function(){return n.removeIndicators(),n.init()})));this.subs.push(t.subscribe(),this.handleVisibility().subscribe(),this.handleKeyDown().subscribe(),this.handleKeyUp().subscribe(),this.handleClick().subscribe(),this.pointerMove().subscribe((function(t){n.indicators.forEach((function(n){return n.toggleInfo(t)}))})))},t.prototype.init=function(){var n=this;return Object(d.a)(this.ll.forCurrentObserver(!0).pipe(Object(h.a)((function(n){return n.getDiagramModel()})),Object(h.a)((function(t){return n.manageIndicators(t)}))),this.viewport.getShapeModels().pipe(Object(h.a)((function(t){return n.updateIndicators(t)}))))},t.prototype.handleKeyDown=function(){var n=this;return this.getKeyEvent("keydown").pipe(Object(f.a)((function(){return n.indicators.forEach((function(t){t.clickable=!0,n.changeSource.next(t)}))})))},t.prototype.handleKeyUp=function(){var n=this;return this.getKeyEvent("keyup").pipe(Object(f.a)((function(){return n.indicators.forEach((function(t){t.clickable=!1,n.changeSource.next(t)}))})))},t.prototype.handleClick=function(){var n=this;return Object(p.a)(this.indicatorLayer,"click").pipe(Object(f.a)((function(t){if(t.target&&t.target.name===u.clickableRectName){var e=t.target.parent;e.link&&n.linkService.navigate(e.link)}})))},Object.defineProperty(t.prototype,"visible",{set:function(n){this.indicators.forEach((function(t){return t.visible=n}))},enumerable:!0,configurable:!0}),t.prototype.handleVisibility=function(){var n=this;return this.state.changes("Selected").pipe(Object(h.a)((function(t){return n.ll.forCurrentObserver(!0).pipe(Object(h.a)((function(n){return n.getDiagramModel()})),Object(b.a)((function(n){return{ids:t,diagram:n}})))})),Object(f.a)((function(t){var e=t.ids,l=t.diagram;if(0===e.length)n.indicators.forEach((function(t){t.circle.visible=!0,n.changeSource.next(t)}));else if(1===e.length){(a=n._indicators[e[0]])&&(a.circle.visible=!1,n.changeSource.next(a))}else if(e.length>1&&l.isShapeInGroup(e)){var a,i=l.getGroupHierarchy(e[0])[0];(a=n._indicators[i])&&(a.circle.visible=!1,n.changeSource.next(a))}})))},t.prototype.pointerMove=function(n){return void 0===n&&(n=200),Object(p.a)(this.indicatorLayer.canvas,"mousemove").pipe(Object(C.lodashThrottle)(n,{leading:!0,trailing:!0}),Object(b.a)((function(n){return{x:n.x,y:n.y}})))},t.prototype.manageIndicators=function(n){var t=this,e=[];for(var a in n.groups){n.groups[a].link&&e.push(a)}return this.viewport.getShapeModels().pipe(Object(g.a)(1),Object(f.a)((function(n){var a=Object(y.values)(n).filter((function(n){return n.link})).map((function(n){return n.id})),i=l.k(e,a);t.manageIndicatorsRemove(i),t.manageIndicatorsAdd(i)})))},t.prototype.manageIndicatorsRemove=function(n){var t=this;Object.keys(this._indicators).forEach((function(e){n.includes(e)||t.removeIndicator(e)}))},t.prototype.removeIndicators=function(){var n=this;Object.keys(this._indicators).forEach((function(t){return n.removeIndicator(t)})),this._indicators={}},t.prototype.removeIndicator=function(n){var t=this._indicators[n];this.removeSource.next(t),delete this._indicators[n]},t.prototype.manageIndicatorsAdd=function(n){var t=this;n.forEach((function(n){t._indicators[n]||(t._indicators[n]=new u,t._indicators[n].onChange=function(){return t.changeSource.next(t._indicators[n])},t.addSource.next(t._indicators[n]))}))},t.prototype.updateIndicators=function(n){var t=this;return this.ll.forCurrentObserver(!0).pipe(Object(h.a)((function(n){return n.getDiagramOnce()})),Object(f.a)((function(e){Object.keys(t._indicators).forEach((function(l){var a=n[l];if(a){var i=t._indicators[l],r=a.bounds;i.update(r,a.link),t.changeSource.next(i)}else if(e.groups[l]){i=t._indicators[l];var o=e.groups[l],u=o.shapes.map((function(t){return n[t]})),c=u[0].bounds;u.forEach((function(n,t){t>0&&c.absorb(n.bounds)})),i.update(c,o.link),t.changeSource.next(i)}}))})))},t.prototype.getKeyEvent=function(n){return Object(p.a)(window,n).pipe(Object(m.a)((function(n){return n.keyCode===i.f.Command||n.keyCode===i.f.Control})))},Object.defineProperty(t.prototype,"indicators",{get:function(){return Object(y.values)(this._indicators)},enumerable:!0,configurable:!0}),t.prototype.createAddSource=function(){return this.addSource},t.prototype.createRemoveSource=function(){return this.removeSource},t.prototype.createChangeSource=function(){return this.changeSource},t=l.d([Object(O.a)(),l.g("design:paramtypes",[a.a,r.a,v.a,c.jb])],t)}(O.b)},tihm:function(n,t,e){"use strict";var l=e("LoAr"),a=e("8Tlt");e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return o}));var i=[[".thumbnail-loader-container[_ngcontent-%COMP%]{width:100%;height:40px;text-align:center}"]],r=l.Fb({encapsulation:0,styles:i,data:{}});function o(n){return l.dc(2,[(n()(),l.Hb(0,0,null,null,4,"div",[["class","thumbnail-loader-container white"]],null,null,null,null,null)),(n()(),l.Hb(1,0,null,null,3,":svg:svg",[["viewBox","0 0 50 40"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l.Hb(2,0,null,null,0,":svg:polygon",[["points","12.06 17.32 9.96 17.32 9.96 4.98 29.78 4.98 29.78 17.2 27.68 17.2 27.68 7.08 12.06 7.08 12.06 17.32"],["style","fill:#f1f0f0"]],null,null,null,null,null)),(n()(),l.Hb(3,0,null,null,0,":svg:polygon",[["points","44.13 28.92 24.64 28.92 24.64 26.82 40.5 26.82 32.45 12.89 25.72 24.55 23.91 23.5 32.45 8.7 44.13 28.92"],["style","fill:#f1f0f0"]],null,null,null,null,null)),(n()(),l.Hb(4,0,null,null,0,":svg:path",[["d","M15.78,35a9.91,9.91,0,1,1,9.91-9.91A9.92,9.92,0,0,1,15.78,35Zm0-17.72a7.82,7.82,0,1,0,7.82,7.81A7.81,7.81,0,0,0,15.78,17.3Z"],["style","fill:#f1f0f0"]],null,null,null,null,null))],null,null)}l.Db("shape-thumbnail-loader",a.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"shape-thumbnail-loader",[],null,null,null,o,r)),l.Gb(1,49152,null,0,a.a,[],null,null)],null,null)}),{},{},[])},w1nm:function(n,t,e){"use strict";var l=e("LoAr"),a=e("pJSd"),i=e("ys29"),r=e("WT9V"),o=e("pAhu"),u=e("8uPo"),c=e("UHsG"),s=e("Q0Yk"),d=e("24h1");e.d(t,"a",(function(){return h})),e.d(t,"b",(function(){return P}));var p=[[".left-sidebar-popover-container[_ngcontent-%COMP%]{position:absolute;border:1px solid #d3d3e7;opacity:0;transition:opacity .3s linear;background-color:#fff;z-index:2}.left-sidebar-popover-container[_ngcontent-%COMP%]   .lib-preview-tile-container[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:column;width:200px;height:170px}.left-sidebar-popover-container[_ngcontent-%COMP%]   .lib-preview-thumbnail[_ngcontent-%COMP%]{flex:1}.left-sidebar-popover-container[_ngcontent-%COMP%]   .lib-preview-text[_ngcontent-%COMP%]{text-align:center;padding:10px 15px 15px;white-space:normal;line-height:20px}.left-sidebar-popover-container.show[_ngcontent-%COMP%]{opacity:1}"]],h=l.Fb({encapsulation:0,styles:p,data:{}});function f(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,2,"thumbnail-image",[["class","shape-thumbnail-image"]],null,null,null,a.b,a.a)),l.Gb(1,49152,null,0,i.a,[],{url:[0,"url"],isPreview:[1,"isPreview"]},null),l.Vb(131072,r.b,[l.i])],(function(n,t){var e=t.component;n(t,1,0,l.cc(t,1,0,l.Tb(t,2).transform(e.libraryItemSubject)).thumbnailUrl,!0)}),null)}function b(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,4,"thumbnail-canvas",[["canvasIdPrefix","thumb-preview"],["class","shape-thumbnail-image"]],null,null,null,o.b,o.a)),l.Gb(1,4898816,null,0,u.a,[c.a],{defId:[0,"defId"],version:[1,"version"],style:[2,"style"],focus:[3,"focus"],isPreview:[4,"isPreview"],canvasIdPrefix:[5,"canvasIdPrefix"]},null),l.Vb(131072,r.b,[l.i]),l.Vb(131072,r.b,[l.i]),l.Vb(131072,r.b,[l.i])],(function(n,t){var e=t.component;n(t,1,0,l.cc(t,1,0,l.Tb(t,2).transform(e.libraryItemSubject)).data.defId,l.cc(t,1,1,l.Tb(t,3).transform(e.libraryItemSubject)).data.version,l.cc(t,1,2,l.Tb(t,4).transform(e.libraryItemSubject)).data.style,!1,!0,"thumb-preview")}),null)}function g(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.bc(1,null,["",""]))],null,(function(n,t){n(t,1,0,t.component.text.title)}))}function m(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.bc(1,null,["",""]))],null,(function(n,t){n(t,1,0,t.component.text.line1)}))}function v(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.bc(1,null,["",""]))],null,(function(n,t){n(t,1,0,t.component.text.line2)}))}function O(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.bc(1,null,["",""]))],null,(function(n,t){n(t,1,0,t.component.text.line3)}))}function y(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.bc(1,null,["",""]))],null,(function(n,t){n(t,1,0,t.component.text.line4)}))}function C(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,15,"div",[["class","lib-preview-text"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,g)),l.Gb(2,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(3,0,null,null,0,"p",[],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,m)),l.Gb(5,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(6,0,null,null,0,"p",[],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,v)),l.Gb(8,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(9,0,null,null,0,"p",[],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,O)),l.Gb(11,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(12,0,null,null,0,"p",[],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,1,null,y)),l.Gb(14,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),(n()(),l.Hb(15,0,null,null,0,"p",[],null,null,null,null,null))],(function(n,t){var e=t.component;n(t,2,0,e.text.title),n(t,5,0,e.text.line1),n(t,8,0,e.text.line2),n(t,11,0,e.text.line3),n(t,14,0,e.text.line4)}),null)}function x(n){return l.dc(0,[(n()(),l.Hb(0,0,[[1,0],["popoverOuter",1]],null,14,"div",[],null,null,null,null,null)),l.Yb(512,null,r.w,r.x,[l.z,l.A,l.o,l.P]),l.Gb(2,278528,null,0,r.i,[r.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Vb(131072,r.b,[l.i]),l.Wb(4,{show:0}),(n()(),l.Hb(5,0,null,null,9,"div",[["class","lib-preview-tile-container fx-ellipsis"]],null,null,null,null,null)),(n()(),l.Hb(6,0,null,null,6,"div",[["class","lib-preview-thumbnail fx-center-all"]],null,null,null,null,null)),(n()(),l.wb(16777216,null,null,2,null,f)),l.Gb(8,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,r.b,[l.i]),(n()(),l.wb(16777216,null,null,2,null,b)),l.Gb(11,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,r.b,[l.i]),(n()(),l.wb(16777216,null,null,1,null,C)),l.Gb(14,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component,a=l.Lb(1,"left-sidebar-popover-container ",e.popoverCssClass,""),i=n(t,4,0,l.cc(t,2,1,l.Tb(t,3).transform(e.showPopover)));n(t,2,0,a,i),n(t,8,0,"image"===l.cc(t,8,0,l.Tb(t,9).transform(e.libraryItemSubject)).thumbnailType),n(t,11,0,"canvas"===l.cc(t,11,0,l.Tb(t,12).transform(e.libraryItemSubject)).thumbnailType),n(t,14,0,e.text)}),null)}function P(n){return l.dc(2,[l.Zb(671088640,1,{popoverOuter:0}),(n()(),l.wb(16777216,null,null,2,null,x)),l.Gb(2,16384,null,0,r.k,[l.db,l.Y],{ngIf:[0,"ngIf"]},null),l.Vb(131072,r.b,[l.i])],(function(n,t){var e=t.component;n(t,2,0,l.cc(t,2,0,l.Tb(t,3).transform(e.preparePopover)))}),null)}l.Db("library-preview-popover",s.a,(function(n){return l.dc(0,[(n()(),l.Hb(0,0,null,null,1,"library-preview-popover",[],null,null,null,P,h)),l.Gb(1,245760,null,0,s.a,[d.a],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[])},weoZ:function(n,t,e){"use strict";e.d(t,"a",(function(){return v}));e("Jzy8");var l=e("G2Mx"),a=e("U3QC"),i=e("z5yO"),r=e("AouM"),o=e("88Oa"),u=e("LiEJ"),c=e("3riI"),s=e("pN2L"),d=e("d9YI"),p=(e("5xGT"),e("4y1S")),h=(e("xnGY"),e("S0Xf"),e("NNJu")),f=e("C5+t"),b=e("foQ2"),g=(e("8EYK"),e("QoSw"),e("Q4Fx")),m=e("c7W3"),v=function(){function n(n,t,e,l,a,i,r,o,c,s,d,p,h,f){this.diagramInfoLocator=n,this.commandService=t,this.planPermManager=e,this.random=l,this.router=a,this.state=i,this.modelSubManager=r,this.logger=o,this.ll=c,this.changeDetectorRef=s,this.translate=d,this.env=p,this.userLocator=h,this.templateLoader=f,this.id="dashboard",this.debounce=200,this.showLoadingIndicator=new u.a(!0),this.isUserPaused=new u.a(!1),this.columns=1,this.permissionFilter=new u.a(b.b.ANY),this.sortOrder=new u.a(b.c.LAST_UPDATED),this.isExpandable=!0,this.subs=[],this.recentCount=new u.a(1)}return n.prototype.ngOnInit=function(){this.subs.push(this.listenToSidebarStateChanges().subscribe(),this.checkUserPauseStatus().subscribe()),this.fetchRecentDiagram(),this.userMdl=this.userLocator.getUserData()},n.prototype.onOpen=function(){},n.prototype.getWelcomeHeader=function(n){return this.translate.get("DASHBOARD_PANEL.WELCOME",{name:n})},n.prototype.getfeaturedTemplates=function(){return this.templateLoader.featuredTemplates},n.prototype.navigateToTemplate=function(n,t){"use"===t&&this.createDiagram(n)},n.prototype.checkUserPauseStatus=function(){var n=this;return this.userLocator.isUserPaused().pipe(Object(l.a)(1),Object(a.a)((function(t){return n.isUserPaused.next(t)})))},n.prototype.showDocuments=function(n){this.state.set("SelectedLeftPanel","folders"),n?this.state.set("FolderPanelSelectedTab","recent"):this.state.set("FolderPanelSelectedTab","diagrams")},n.prototype.fetchRecentDiagram=function(){var n=this;this.diagramList=Object(c.b)(this.state.changes("LeftSidebarState").pipe(Object(i.a)((function(n){return"expanded"===n}))),this.state.changes("SelectedLeftPanel").pipe(Object(i.a)((function(n){return"dashboard"===n})))).pipe(Object(a.a)((function(){n.showLoadingIndicator.next(!0)})),Object(r.a)((function(){return n.dispatchGetRecentDiagrams().pipe(Object(r.a)((function(){return n.diagramInfoLocator.getRecentDiagrams().pipe(Object(a.a)((function(t){n.recentCount.next(t.length),n.showLoadingIndicator.next(!1)})),Object(r.a)((function(n){return Object(s.a)(n.slice(0,8))})))})))})))},n.prototype.listenToSidebarStateChanges=function(){var n=this;return this.state.changes("LeftSidebarState").pipe(Object(r.a)((function(t){switch(n.sidebarState=t,n.changeDetectorRef.markForCheck(),t){case g.b.Expanding:return n.fadeContent(!1).start().pipe(Object(a.a)({complete:function(){return n.columns=2}}));case g.b.Shrinking:case g.b.Collapsing:return n.fadeContent(!1).start().pipe(Object(a.a)({complete:function(){n.columns=1,n.permissionFilter.next(b.b.ANY),n.sortOrder.next(b.c.LAST_UPDATED)}}));case g.b.Expanded:case g.b.Opened:return n.fadeContent().start();default:return d.a}})))},n.prototype.fadeContent=function(n){void 0===n&&(n=!0);var t={opacity:1},e={opacity:0},l=e,a=t;n||(l=t,a=e);var i=new h.c({from:l,to:a,transitionProperty:"opacity",duration:50,easing:"linear"});return i.element=this.contentContainer.nativeElement,i},n.prototype.dispatchGetRecentDiagrams=function(){return this.diagramInfoLocator.hasRecentDiagrams()?(this.commandService.dispatch(m.a.getRecentDiagrams),Object(s.a)([])):this.commandService.dispatch(m.a.getRecentDiagrams).pipe(Object(o.a)())},n.prototype.createDiagram=function(n){var t=this;void 0===n&&(n="");var e={};n&&n.length>0&&(e={templateId:n}),this.router.navigate(["start/new/project/home"],{queryParams:e}).catch((function(n){return t.handlePermError(n)}))},n.prototype.handlePermError=function(n){n.data&&setTimeout((function(){throw new p.h("diagram create failed",n.data)}))},Object.defineProperty(n.prototype,"appConnectionStatus",{get:function(){var n=this;return this.state.changes(f.c).pipe(Object(a.a)((function(t){t===f.c.ONLINE&&n.state.get("LeftSidebarState")===g.b.Opened&&n.onOpen()})))},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){for(;this.subs.length>0;)this.subs.pop().unsubscribe()},n}()},"wp/b":function(n,t,e){"use strict";var l=e("D57K"),a=e("h1tj"),i=function(n){function t(){var t=n.call(this)||this;return t.onChange=function(){return null},t.shape=new a.Shape,t.addChild(t.shape),t}return l.e(t,n),t.prototype.destroy=function(){},t.prototype.initDraw=function(n){this.shape.alpha=1,this.shape.visible=!0,this.shape.graphics.clear().setStrokeStyle(t.thickness).beginStroke(t.color).drawRect(0,0,n.width,n.height).endStroke(),this.updatePosition(n),this.animate()},t.prototype.updatePosition=function(n){this.shape.x=n.x,this.shape.y=n.y},t.prototype.animate=function(){a.Tween.get(this.shape,{override:!0,onChange:this.onChange}).to({alpha:0,visible:!1},t.animationDuration)},t.animationDuration=2e3,t.color="#F6AA00",t.thickness=2,t}(a.Container),r=e("wx9+"),o=e("5xGT"),u=e("fQLH"),c=e("0cIN"),s=e("d9YI"),d=e("lqvn"),p=e("AouM"),h=e("z5yO"),f=e("mhnT"),b=e("W/Ou"),g=e("QagP"),m=e("U3QC"),v=e("Jg5f"),O=e("QoSw"),y=e("flPR"),C=e("nsO7");e.d(t,"a",(function(){return x}));var x=function(n){function t(t,e,l){var a=n.call(this,l)||this;return a.viewport=t,a.ll=e,a.state=l,a.addSource=new u.a,a.removeSource=new u.a,a.changeSource=new u.a,a}return l.e(t,n),t.prototype.initialize=function(){var n=this,t=this.state.changes("InterfaceControlState").pipe(Object(d.a)(C.isEqual),Object(p.a)((function(t){return n.removeIndicator(),n.init()})));this.subs.push(t.subscribe())},Object.defineProperty(t.prototype,"visible",{set:function(n){this.indicators.forEach((function(t){return t.visible=n}))},enumerable:!0,configurable:!0}),t.prototype.init=function(){var n=this;return this.state.changes("ShapelinkTarget").pipe(Object(h.a)((function(n){return n.shapeId||n.groupId})),Object(p.a)((function(t){return n.addIndicator(),n.getBounds(t).pipe(Object(f.a)(Object(c.a)(i.animationDuration)),Object(b.a)(null),Object(g.a)(),Object(m.a)((function(t){var e=l.i(t,2),a=e[0],i=e[1];null===a?(n._indicator.initDraw(i),n.changeSource.next(n._indicator)):(n._indicator.updatePosition(i),n.changeSource.next(n._indicator))})))})))},t.prototype.getBounds=function(n){var t=this;return n.shapeId?this.viewport.getShapeModel(n.shapeId).pipe(Object(v.a)((function(n){return n.bounds}))):n.groupId?this.ll.forCurrentObserver(!0).pipe(Object(p.a)((function(n){return n.getDiagramOnce()})),Object(p.a)((function(e){if(e.groups[n.groupId]){var l=e.getShapesInGroup(n.groupId);return t.viewport.getShapeModels(l).pipe(Object(v.a)((function(n){var t=Object(C.values)(n),e=t[0].bounds;return t.forEach((function(n){e.absorb(n.bounds)})),e})))}return Object(s.b)()}))):void 0},t.prototype.addIndicator=function(){var n=this;this._indicator||(this._indicator=new i,this.addSource.next(this._indicator),this._indicator.onChange=function(){return n.changeSource.next(n._indicator)})},t.prototype.removeIndicator=function(){this._indicator&&(this.removeSource.next(this._indicator),this._indicator=null)},Object.defineProperty(t.prototype,"indicators",{get:function(){return[this._indicator]},enumerable:!0,configurable:!0}),t.prototype.createAddSource=function(){return this.addSource},t.prototype.createRemoveSource=function(){return this.removeSource},t.prototype.createChangeSource=function(){return this.changeSource},t=l.d([Object(y.a)(),l.g("design:paramtypes",[r.a,O.a,o.jb])],t)}(y.b)},xcrX:function(n,t,e){"use strict";var l=e("D57K"),a=e("pN2L"),i=e("cQOC"),r=e("AouM"),o=e("Jg5f"),u=e("5xGT"),c=(e("0jHB"),function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return l.e(t,n),Object.defineProperty(t.prototype,"libId",{get:function(){return this.id},set:function(n){this.id=n},enumerable:!0,configurable:!0}),t}(e("iim9").a));e("kgIF");e.d(t,"a",(function(){return s}));var s=function(){function n(n,t,e){this.resourceLoader=n,this.defLocator=t,this.connectorRegistry=e}return Object.defineProperty(n.prototype,"libraryLocation",{get:function(){return u.h.get("RESOURCE_LOCATION")+u.h.get("LIBRARY_RESOURCE_BASE")},enumerable:!0,configurable:!0}),n.prototype.load=function(n){var t=this;return this.getShapeLibrary(n).pipe(Object(r.a)((function(n){if(!n.defs.length)return Object(a.a)(n);var e=n.defs.map((function(n){return t.loadDefinition(n)}));return i.a.apply(void 0,l.k(e)).pipe(Object(o.a)((function(e){return n.defs=e,e.forEach((function(n){return t.registerConnector(n)})),n})))})))},n.prototype.registerConnector=function(n){"connector"===n.type&&this.connectorRegistry.register(n)},n.prototype.getShapeLibrary=function(n){var t=this,e=this.getLibDefLocation(n);return this.resourceLoader.load(e).pipe(Object(r.a)((function(n){return t.createShapeLibrary(n)})))},n.prototype.getLibDefLocation=function(n){return this.libraryLocation+n+".json"},n.prototype.createShapeLibrary=function(n){return u.x.create(n).structure(c).build()},n.prototype.loadDefinition=function(n){var t=n.split("."),e=parseInt(t.pop(),10),l=t.join(".");return this.defLocator.getDefinition(l,e)},n}()},yA6Q:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=["library-tile[_ngcontent-%COMP%]{width:20%;display:inline-block;text-align:center;margin-bottom:15px}"]},ys29:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var l=e("LiEJ"),a=function(){function n(){this.isPreview=!1,this.loading=new l.a(!0)}return n.prototype.imageLoaded=function(){var n=this;setTimeout((function(){n.loading.next(!1)}),0)},n}()}}]);
//# sourceMappingURL=4.f9ae2ea85bd1ca34fc7f.js.map